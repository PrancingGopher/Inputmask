{"version":3,"file":"dist/inputmask.min.js","mappings":"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","sources":["webpack://inputmask/webpack/universalModuleDefinition","webpack://inputmask/./lib/defaults.js","webpack://inputmask/./lib/definitions.js","webpack://inputmask/./lib/dependencyLibs/data.js","webpack://inputmask/./lib/dependencyLibs/events.js","webpack://inputmask/./lib/dependencyLibs/extend.js","webpack://inputmask/./lib/dependencyLibs/inputmask.dependencyLib.js","webpack://inputmask/./lib/environment.js","webpack://inputmask/./lib/escapeRegex.js","webpack://inputmask/./lib/eventhandlers.js","webpack://inputmask/./lib/eventruler.js","webpack://inputmask/./lib/extensions/inputmask.date.extensions.js","webpack://inputmask/./lib/extensions/inputmask.date.i18n.js","webpack://inputmask/./lib/extensions/inputmask.extensions.js","webpack://inputmask/./lib/extensions/inputmask.numeric.extensions.js","webpack://inputmask/./lib/global/window.js","webpack://inputmask/./lib/inputHandling.js","webpack://inputmask/./lib/inputmask.js","webpack://inputmask/./lib/inputmaskElement.js","webpack://inputmask/./lib/keycode.js","webpack://inputmask/./lib/mask-lexer.js","webpack://inputmask/./lib/mask.js","webpack://inputmask/./lib/masktoken.js","webpack://inputmask/./lib/polyfills/Array.includes.js","webpack://inputmask/./lib/polyfills/Object.entries.js","webpack://inputmask/./lib/polyfills/Object.getPrototypeOf.js","webpack://inputmask/./lib/polyfills/String.includes.js","webpack://inputmask/./lib/positioning.js","webpack://inputmask/./lib/validation-tests.js","webpack://inputmask/./lib/validation.js","webpack://inputmask/webpack/bootstrap","webpack://inputmask/./bundle.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn ","export default {\r\n  _maxTestPos: 500,\r\n  placeholder: \"_\",\r\n  optionalmarker: [\"[\", \"]\"],\r\n  quantifiermarker: [\"{\", \"}\"],\r\n  groupmarker: [\"(\", \")\"],\r\n  alternatormarker: \"|\",\r\n  escapeChar: \"\\\\\",\r\n  mask: null, // needs tobe null instead of undefined as the extend method does not consider props with the undefined value\r\n  regex: null, // regular expression as a mask\r\n  oncomplete: () => {}, // executes when the mask is complete\r\n  onincomplete: () => {}, // executes when the mask is incomplete and focus is lost\r\n  oncleared: () => {}, // executes when the mask is cleared\r\n  repeat: 0, // repetitions of the mask: * ~ forever, otherwise specify an integer\r\n  greedy: false, // true: allocated buffer for the mask and repetitions - false: allocate only if needed\r\n  autoUnmask: false, // automatically unmask when retrieving the value with $.fn.val or value if the browser supports __lookupGetter__ or getOwnPropertyDescriptor\r\n  removeMaskOnSubmit: false, // remove the mask before submitting the form.\r\n  clearMaskOnLostFocus: true,\r\n  insertMode: true, // insert the input or overwrite the input\r\n  insertModeVisual: true, // show selected caret when insertmode = false\r\n  clearIncomplete: false, // clear the incomplete input on blur\r\n  alias: null,\r\n  onKeyDown: () => {}, // callback to implement autocomplete on certain keys for example. args => event, buffer, caretPos, opts\r\n  onBeforeMask: null, // executes before masking the initial value to allow preprocessing of the initial value.\targs => initialValue, opts => return processedValue\r\n  onBeforePaste: function (pastedValue, opts) {\r\n    return typeof opts.onBeforeMask === \"function\"\r\n      ? opts.onBeforeMask.call(this, pastedValue, opts)\r\n      : pastedValue;\r\n  }, // executes before masking the pasted value to allow preprocessing of the pasted value.\targs => pastedValue, opts => return processedValue\r\n  onBeforeWrite: null, // executes before writing to the masked element. args => event, opts\r\n  onUnMask: null, // executes after unmasking to allow postprocessing of the unmaskedvalue.\targs => maskedValue, unmaskedValue, opts\r\n  showMaskOnFocus: true, // show the mask-placeholder when the input has focus\r\n  showMaskOnHover: true, // show the mask-placeholder when hovering the empty input\r\n  onKeyValidation: () => {}, // executes on every key-press with the result of isValid. Params: key, result, opts\r\n  skipOptionalPartCharacter: \" \", // a character which can be used to skip an optional part of a mask\r\n  numericInput: false, // numericInput input direction style (input shifts to the left while holding the caret position)\r\n  rightAlign: false, // align to the right\r\n  undoOnEscape: true, // pressing escape reverts the value to the value before focus\r\n  // numeric basic properties\r\n  radixPoint: \"\", // \".\", // | \",\"\r\n  _radixDance: false, // dance around the radixPoint\r\n  groupSeparator: \"\", // \",\", // | \".\"\r\n  // numeric basic properties\r\n  keepStatic: null, // try to keep the mask static while typing. Decisions to alter the mask will be posponed if possible\r\n  positionCaretOnTab: true, // when enabled the caret position is set after the latest valid position on TAB\r\n  tabThrough: false, // allows for tabbing through the different parts of the masked field\r\n  supportsInputType: [\"text\", \"tel\", \"url\", \"password\", \"search\"], // list with the supported input types\r\n  isComplete: null, // override for isComplete - args => buffer, opts - return true || false\r\n  preValidation: null, // hook to preValidate the input.  Usefull for validating regardless the definition.\targs => buffer, pos, char, isSelection, opts, maskset, caretPos, strict => return true/false/command object\r\n  postValidation: null, // hook to postValidate the result from isValid.\tUsefull for validating the entry as a whole.\targs => buffer, pos, c, currentResult, opts, maskset, strict, fromCheckval, fromAlternate => return true/false/json\r\n  staticDefinitionSymbol: undefined, // specify a definitionSymbol for static content, used to make matches for alternators\r\n  jitMasking: false, // just in time masking ~ only mask while typing, can n (number), true or false\r\n  nullable: true, // return nothing instead of the buffertemplate when the user hasn't entered anything.\r\n  inputEventOnly: false, // dev option - testing inputfallback behavior\r\n  noValuePatching: false, // disable value property patching\r\n  positionCaretOnClick: \"lvp\", // none, lvp (based on the last valid position (default), radixFocus (position caret to radixpoint on initial click), select (select the whole input), ignore (ignore the click and continue the mask)\r\n  casing: null, // mask-level casing. Options: null, \"upper\", \"lower\" or \"title\" or callback args => elem, test, pos, validPositions return charValue\r\n  inputmode: \"text\", // specify the inputmode\r\n  importDataAttributes: true, // import data-inputmask attributes\r\n  shiftPositions: true, // shift position of the mask entries on entry and deletion.\r\n  usePrototypeDefinitions: true, // use the default defined definitions from the prototype\r\n  validationEventTimeOut: 3000, // Time to show validation error on form submit\r\n  substitutes: {} // define character substitutes\r\n};\r\n","export default {\r\n  9: {\r\n    // \\uFF11-\\uFF19 #1606\r\n    validator: \"[0-9\\uFF10-\\uFF19]\",\r\n    definitionSymbol: \"*\"\r\n  },\r\n  a: {\r\n    // \\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5 #76\r\n    validator: \"[A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\",\r\n    definitionSymbol: \"*\"\r\n  },\r\n  \"*\": {\r\n    validator:\r\n      \"[0-9\\uFF10-\\uFF19A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\"\r\n  }\r\n};\r\n","export default function (owner, key, value) {\r\n  if (value === undefined) {\r\n    return owner.__data ? owner.__data[key] : null;\r\n  } else {\r\n    owner.__data = owner.__data || {};\r\n    owner.__data[key] = value;\r\n  }\r\n}\r\n","import window from \"../global/window\";\r\n\r\nimport extend from \"./extend\";\r\nimport DependencyLib from \"./inputmask.dependencyLib\";\r\n\r\nexport { on, off, trigger, Evnt as Event };\r\n\r\nconst document = window.document;\r\n\r\nfunction isValidElement(elem) {\r\n  return elem instanceof Element;\r\n}\r\n\r\nlet Evnt;\r\nif (typeof window.CustomEvent === \"function\") {\r\n  Evnt = window.CustomEvent;\r\n} else if (window.Event && document && document.createEvent) {\r\n  Evnt = function (event, params) {\r\n    params = params || {\r\n      bubbles: false,\r\n      cancelable: false,\r\n      composed: true,\r\n      detail: undefined\r\n    };\r\n    const evt = document.createEvent(\"CustomEvent\");\r\n    evt.initCustomEvent(\r\n      event,\r\n      params.bubbles,\r\n      params.cancelable,\r\n      params.detail\r\n    );\r\n    return evt;\r\n  };\r\n  Evnt.prototype = window.Event.prototype;\r\n} else if (typeof Event !== \"undefined\") {\r\n  // nodejs\r\n  Evnt = Event;\r\n}\r\n\r\nfunction on(events, handler) {\r\n  function addEvent(ev, namespace) {\r\n    // register domevent\r\n    if (elem.addEventListener) {\r\n      // all browsers except IE before version 9\r\n      elem.addEventListener(ev, handler, false);\r\n    } else if (elem.attachEvent) {\r\n      // IE before version 9\r\n      elem.attachEvent(`on${ev}`, handler);\r\n    }\r\n    eventRegistry[ev] = eventRegistry[ev] || {};\r\n    eventRegistry[ev][namespace] = eventRegistry[ev][namespace] || [];\r\n    eventRegistry[ev][namespace].push(handler);\r\n  }\r\n\r\n  if (isValidElement(this[0])) {\r\n    var eventRegistry = this[0].eventRegistry,\r\n      elem = this[0];\r\n\r\n    events.split(\" \").forEach((event) => {\r\n      const [ev, namespace = \"global\"] = event.split(\".\");\r\n      addEvent(ev, namespace);\r\n    });\r\n  }\r\n  return this;\r\n}\r\n\r\nfunction off(events, handler) {\r\n  let eventRegistry, elem;\r\n\r\n  function removeEvent(ev, namespace, handler) {\r\n    if (ev in eventRegistry === true) {\r\n      // unbind to dom events\r\n      if (elem.removeEventListener) {\r\n        // all browsers except IE before version 9\r\n        elem.removeEventListener(ev, handler, false);\r\n      } else if (elem.detachEvent) {\r\n        // IE before version 9\r\n        elem.detachEvent(`on${ev}`, handler);\r\n      }\r\n      if (namespace === \"global\") {\r\n        for (const nmsp in eventRegistry[ev]) {\r\n          eventRegistry[ev][nmsp].splice(\r\n            eventRegistry[ev][nmsp].indexOf(handler),\r\n            1\r\n          );\r\n        }\r\n      } else {\r\n        eventRegistry[ev][namespace].splice(\r\n          eventRegistry[ev][namespace].indexOf(handler),\r\n          1\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  function resolveNamespace(ev, namespace) {\r\n    let evts = [],\r\n      hndx,\r\n      hndL;\r\n    if (ev.length > 0) {\r\n      if (handler === undefined) {\r\n        for (\r\n          hndx = 0, hndL = eventRegistry[ev][namespace].length;\r\n          hndx < hndL;\r\n          hndx++\r\n        ) {\r\n          evts.push({\r\n            ev,\r\n            namespace: namespace && namespace.length > 0 ? namespace : \"global\",\r\n            handler: eventRegistry[ev][namespace][hndx]\r\n          });\r\n        }\r\n      } else {\r\n        evts.push({\r\n          ev,\r\n          namespace: namespace && namespace.length > 0 ? namespace : \"global\",\r\n          handler\r\n        });\r\n      }\r\n    } else if (namespace.length > 0) {\r\n      for (const evNdx in eventRegistry) {\r\n        for (const nmsp in eventRegistry[evNdx]) {\r\n          if (nmsp === namespace) {\r\n            if (handler === undefined) {\r\n              for (\r\n                hndx = 0, hndL = eventRegistry[evNdx][nmsp].length;\r\n                hndx < hndL;\r\n                hndx++\r\n              ) {\r\n                evts.push({\r\n                  ev: evNdx,\r\n                  namespace: nmsp,\r\n                  handler: eventRegistry[evNdx][nmsp][hndx]\r\n                });\r\n              }\r\n            } else {\r\n              evts.push({\r\n                ev: evNdx,\r\n                namespace: nmsp,\r\n                handler\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return evts;\r\n  }\r\n\r\n  if (isValidElement(this[0]) && events) {\r\n    eventRegistry = this[0].eventRegistry;\r\n    elem = this[0];\r\n\r\n    events.split(\" \").forEach((event) => {\r\n      const [ev, namespace] = event.split(\".\");\r\n      resolveNamespace(ev, namespace).forEach(\r\n        ({ ev: ev1, handler: handler1, namespace: namespace1 }) => {\r\n          removeEvent(ev1, namespace1, handler1);\r\n        }\r\n      );\r\n    });\r\n  }\r\n  return this;\r\n}\r\n\r\nfunction trigger(events /* , args... */) {\r\n  if (isValidElement(this[0])) {\r\n    const eventRegistry = this[0].eventRegistry,\r\n      elem = this[0],\r\n      _events = typeof events === \"string\" ? events.split(\" \") : [events.type];\r\n    for (let endx = 0; endx < _events.length; endx++) {\r\n      const nsEvent = _events[endx].split(\".\"),\r\n        ev = nsEvent[0],\r\n        namespace = nsEvent[1] || \"global\";\r\n      if (document !== undefined && namespace === \"global\") {\r\n        // trigger domevent\r\n        var evnt,\r\n          params = {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            composed: true,\r\n            detail: arguments[1]\r\n          };\r\n        // The custom event that will be created\r\n        if (document.createEvent) {\r\n          try {\r\n            switch (ev) {\r\n              case \"input\":\r\n                params.inputType = \"insertText\";\r\n                evnt = new InputEvent(ev, params);\r\n                break;\r\n              default:\r\n                evnt = new CustomEvent(ev, params);\r\n            }\r\n          } catch (e) {\r\n            evnt = document.createEvent(\"CustomEvent\");\r\n            evnt.initCustomEvent(\r\n              ev,\r\n              params.bubbles,\r\n              params.cancelable,\r\n              params.detail\r\n            );\r\n          }\r\n          if (events.type) extend(evnt, events);\r\n          elem.dispatchEvent(evnt);\r\n        } else {\r\n          evnt = document.createEventObject();\r\n          evnt.eventType = ev;\r\n          evnt.detail = arguments[1];\r\n          if (events.type) extend(evnt, events);\r\n          elem.fireEvent(\"on\" + evnt.eventType, evnt);\r\n        }\r\n      } else if (eventRegistry[ev] !== undefined) {\r\n        arguments[0] = arguments[0].type\r\n          ? arguments[0]\r\n          : DependencyLib.Event(arguments[0]);\r\n        arguments[0].detail = arguments.slice(1);\r\n\r\n        const registry = eventRegistry[ev],\r\n          handlers =\r\n            namespace === \"global\"\r\n              ? Object.values(registry).flat()\r\n              : registry[namespace];\r\n        handlers.forEach((handler) => handler.apply(elem, arguments));\r\n      }\r\n    }\r\n  }\r\n  return this;\r\n}\r\n","export default function extend() {\r\n  let options,\r\n    name,\r\n    src,\r\n    copy,\r\n    copyIsArray,\r\n    clone,\r\n    target = arguments[0] || {},\r\n    i = 1,\r\n    length = arguments.length,\r\n    deep = false;\r\n\r\n  // Handle a deep copy situation\r\n  if (typeof target === \"boolean\") {\r\n    deep = target;\r\n\r\n    // Skip the boolean and the target\r\n    target = arguments[i] || {};\r\n    i++;\r\n  }\r\n\r\n  // Handle case when target is a string or something (possible in deep copy)\r\n  if (typeof target !== \"object\" && typeof target !== \"function\") {\r\n    target = {};\r\n  }\r\n\r\n  for (; i < length; i++) {\r\n    // Only deal with non-null/undefined values\r\n    if ((options = arguments[i]) != null) {\r\n      // Extend the base object\r\n      for (name in options) {\r\n        src = target[name];\r\n        copy = options[name];\r\n\r\n        // Prevent never-ending loop\r\n        if (target === copy) {\r\n          continue;\r\n        }\r\n\r\n        // Recurse if we're merging plain objects or arrays\r\n        if (\r\n          deep &&\r\n          copy &&\r\n          (Object.prototype.toString.call(copy) === \"[object Object]\" ||\r\n            (copyIsArray = Array.isArray(copy)))\r\n        ) {\r\n          if (copyIsArray) {\r\n            copyIsArray = false;\r\n            clone = src && Array.isArray(src) ? src : [];\r\n          } else {\r\n            clone =\r\n              src && Object.prototype.toString.call(src) === \"[object Object]\"\r\n                ? src\r\n                : {};\r\n          }\r\n\r\n          // Never move original objects, clone them\r\n          target[name] = extend(deep, clone, copy);\r\n\r\n          // Don't bring in undefined values\r\n        } else if (copy !== undefined) {\r\n          target[name] = copy;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Return the modified object\r\n  return target;\r\n}\r\n","/*\r\n Input Mask plugin dependencyLib\r\n http://github.com/RobinHerbots/jquery.inputmask\r\n Copyright (c) Robin Herbots\r\n Licensed under the MIT license\r\n */\r\n\r\nimport window from \"../global/window\";\r\n\r\nimport data from \"./data\";\r\nimport { on, off, trigger, Event } from \"./events\";\r\nimport extend from \"./extend\";\r\n\r\nconst document = window.document;\r\n\r\nfunction DependencyLib(elem) {\r\n  if (elem instanceof DependencyLib) {\r\n    return elem;\r\n  }\r\n  if (!(this instanceof DependencyLib)) {\r\n    return new DependencyLib(elem);\r\n  }\r\n  if (elem !== undefined && elem !== null && elem !== window) {\r\n    this[0] = elem.nodeName\r\n      ? elem\r\n      : elem[0] !== undefined && elem[0].nodeName\r\n      ? elem[0]\r\n      : document.querySelector(elem);\r\n    if (this[0] !== undefined && this[0] !== null) {\r\n      this[0].eventRegistry = this[0].eventRegistry || {};\r\n    }\r\n  }\r\n}\r\n\r\nDependencyLib.prototype = {\r\n  on,\r\n  off,\r\n  trigger\r\n};\r\n\r\n// static\r\nDependencyLib.extend = extend;\r\nDependencyLib.data = data;\r\nDependencyLib.Event = Event;\r\n\r\nexport default DependencyLib;\r\n","import window from \"./global/window\";\r\n\r\nconst ua = (window.navigator && window.navigator.userAgent) || \"\",\r\n  ie = ua.indexOf(\"MSIE \") > 0 || ua.indexOf(\"Trident/\") > 0,\r\n  mobile =\r\n    (window.navigator &&\r\n      window.navigator.userAgentData &&\r\n      window.navigator.userAgentData.mobile) ||\r\n    (window.navigator && window.navigator.maxTouchPoints) ||\r\n    \"ontouchstart\" in window, // not entirely correct but will currently do\r\n  iphone = /iphone/i.test(ua);\r\n\r\nexport { ie, mobile, iphone };\r\n","const escapeRegexRegex = new RegExp(\r\n  \"(\\\\\" +\r\n    [\r\n      \"/\",\r\n      \".\",\r\n      \"*\",\r\n      \"+\",\r\n      \"?\",\r\n      \"|\",\r\n      \"(\",\r\n      \")\",\r\n      \"[\",\r\n      \"]\",\r\n      \"{\",\r\n      \"}\",\r\n      \"\\\\\",\r\n      \"$\",\r\n      \"^\"\r\n    ].join(\"|\\\\\") +\r\n    \")\",\r\n  \"gim\"\r\n);\r\nexport default function (str) {\r\n  return str.replace(escapeRegexRegex, \"\\\\$1\");\r\n}\r\n","import { iphone, mobile } from \"./environment\";\r\nimport window from \"./global/window\";\r\nimport {\r\n  applyInputValue,\r\n  checkVal,\r\n  clearOptionalTail,\r\n  HandleNativePlaceholder,\r\n  writeBuffer\r\n} from \"./inputHandling\";\r\nimport { keys } from \"./keycode.js\";\r\nimport {\r\n  caret,\r\n  determineNewCaretPosition,\r\n  getBuffer,\r\n  getBufferTemplate,\r\n  getLastValidPosition,\r\n  isMask,\r\n  resetMaskSet,\r\n  seekNext,\r\n  seekPrevious,\r\n  translatePosition\r\n} from \"./positioning\";\r\nimport { handleRemove, isComplete, isSelection, isValid } from \"./validation\";\r\nimport { getPlaceholder, getTest } from \"./validation-tests\";\r\n\r\nexport { EventHandlers };\r\n\r\nvar EventHandlers = {\r\n  keyEvent: function (e, checkval, writeOut, strict, ndx) {\r\n    const inputmask = this.inputmask,\r\n      opts = inputmask.opts,\r\n      $ = inputmask.dependencyLib,\r\n      maskset = inputmask.maskset,\r\n      input = this,\r\n      $input = $(input),\r\n      c = e.key,\r\n      pos = caret.call(inputmask, input),\r\n      kdResult = opts.onKeyDown.call(\r\n        this,\r\n        e,\r\n        getBuffer.call(inputmask),\r\n        pos,\r\n        opts\r\n      );\r\n    if (kdResult !== undefined) return kdResult;\r\n\r\n    // backspace, delete, and escape get special treatment\r\n    if (\r\n      c === keys.Backspace ||\r\n      c === keys.Delete ||\r\n      (iphone && c === keys.BACKSPACE_SAFARI) ||\r\n      (e.ctrlKey && c === keys.x && !(\"oncut\" in input))\r\n    ) {\r\n      // backspace/delete\r\n      e.preventDefault(); // stop default action but allow propagation\r\n      handleRemove.call(inputmask, input, c, pos);\r\n      writeBuffer(\r\n        input,\r\n        getBuffer.call(inputmask, true),\r\n        maskset.p,\r\n        e,\r\n        input.inputmask._valueGet() !== getBuffer.call(inputmask).join(\"\")\r\n      );\r\n    } else if (c === keys.End || c === keys.PageDown) {\r\n      // when END or PAGE_DOWN pressed set position at lastmatch\r\n      e.preventDefault();\r\n      const caretPos = seekNext.call(\r\n        inputmask,\r\n        getLastValidPosition.call(inputmask)\r\n      );\r\n      caret.call(\r\n        inputmask,\r\n        input,\r\n        e.shiftKey ? pos.begin : caretPos,\r\n        caretPos,\r\n        true\r\n      );\r\n    } else if ((c === keys.Home && !e.shiftKey) || c === keys.PageUp) {\r\n      // Home or page_up\r\n      e.preventDefault();\r\n      caret.call(inputmask, input, 0, e.shiftKey ? pos.begin : 0, true);\r\n    } else if (\r\n      ((opts.undoOnEscape && c === keys.Escape) ||\r\n        (false && c === keys.z && e.ctrlKey)) &&\r\n      e.altKey !== true\r\n    ) {\r\n      // escape && undo && #762\r\n      checkVal(input, true, false, inputmask.undoValue.split(\"\"));\r\n      $input.trigger(\"click\");\r\n    } else if (\r\n      c === keys.Insert &&\r\n      !(e.shiftKey || e.ctrlKey) &&\r\n      inputmask.userOptions.insertMode === undefined\r\n    ) {\r\n      // insert\r\n      if (!isSelection.call(inputmask, pos)) {\r\n        opts.insertMode = !opts.insertMode;\r\n        caret.call(inputmask, input, pos.begin, pos.begin);\r\n      } else opts.insertMode = !opts.insertMode;\r\n    } else if (opts.tabThrough === true && c === keys.Tab) {\r\n      if (e.shiftKey === true) {\r\n        pos.end = seekPrevious.call(inputmask, pos.end, true);\r\n        if (getTest.call(inputmask, pos.end - 1).match.static === true) {\r\n          pos.end--;\r\n        }\r\n        pos.begin = seekPrevious.call(inputmask, pos.end, true);\r\n        if (pos.begin >= 0 && pos.end > 0) {\r\n          e.preventDefault();\r\n          caret.call(inputmask, input, pos.begin, pos.end);\r\n        }\r\n      } else {\r\n        pos.begin = seekNext.call(inputmask, pos.begin, true);\r\n        pos.end = seekNext.call(inputmask, pos.begin, true);\r\n        if (pos.end < maskset.maskLength) pos.end--;\r\n        if (pos.begin <= maskset.maskLength) {\r\n          e.preventDefault();\r\n          caret.call(inputmask, input, pos.begin, pos.end);\r\n        }\r\n      }\r\n    } else if (!e.shiftKey) {\r\n      if (opts.insertModeVisual && opts.insertMode === false) {\r\n        if (c === keys.ArrowRight) {\r\n          setTimeout(function () {\r\n            const caretPos = caret.call(inputmask, input);\r\n            caret.call(inputmask, input, caretPos.begin);\r\n          }, 0);\r\n        } else if (c === keys.ArrowLeft) {\r\n          setTimeout(function () {\r\n            const caretPos = {\r\n              begin: translatePosition.call(\r\n                inputmask,\r\n                input.inputmask.caretPos.begin\r\n              ),\r\n              end: translatePosition.call(\r\n                inputmask,\r\n                input.inputmask.caretPos.end\r\n              )\r\n            };\r\n            if (inputmask.isRTL) {\r\n              caret.call(\r\n                inputmask,\r\n                input,\r\n                caretPos.begin + (caretPos.begin === maskset.maskLength ? 0 : 1)\r\n              );\r\n            } else {\r\n              caret.call(\r\n                inputmask,\r\n                input,\r\n                caretPos.begin - (caretPos.begin === 0 ? 0 : 1)\r\n              );\r\n            }\r\n          }, 0);\r\n        }\r\n      } else {\r\n        inputmask.keyEventHook === undefined || inputmask.keyEventHook(e);\r\n      }\r\n    }\r\n\r\n    inputmask.isComposing = c == keys.Process || c == keys.Unidentified;\r\n    inputmask.ignorable =\r\n      c.length > 1 &&\r\n      !(input.tagName.toLowerCase() === \"textarea\" && c == keys.Enter);\r\n    return EventHandlers.keypressEvent.call(\r\n      this,\r\n      e,\r\n      checkval,\r\n      writeOut,\r\n      strict,\r\n      ndx\r\n    );\r\n  },\r\n  keypressEvent: function (e, checkval, writeOut, strict, ndx) {\r\n    const inputmask = this.inputmask || this,\r\n      opts = inputmask.opts,\r\n      $ = inputmask.dependencyLib,\r\n      maskset = inputmask.maskset;\r\n\r\n    let input = inputmask.el,\r\n      $input = $(input),\r\n      c = e.key;\r\n\r\n    if (\r\n      checkval !== true &&\r\n      !(e.ctrlKey && e.altKey && !inputmask.ignorable) &&\r\n      (e.ctrlKey || e.metaKey || inputmask.ignorable)\r\n    ) {\r\n      if (c === keys.Enter) {\r\n        if (inputmask.undoValue !== inputmask._valueGet(true)) {\r\n          inputmask.undoValue = inputmask._valueGet(true);\r\n          // e.preventDefault();\r\n\r\n          setTimeout(function () {\r\n            $input.trigger(\"change\");\r\n          }, 0);\r\n        }\r\n      }\r\n      // inputmask.skipInputEvent = true; //skip the input as otherwise the skipped char could be picked up for validation by the inputfallback\r\n    } else if (c) {\r\n      // special treat the decimal separator\r\n      // if ((k === 44 || k === 46) && e.location === 3 && opts.radixPoint !== \"\") k = opts.radixPoint.charCodeAt(0);\r\n      let pos = checkval\r\n          ? {\r\n              begin: ndx,\r\n              end: ndx\r\n            }\r\n          : caret.call(inputmask, input),\r\n        forwardPosition;\r\n\r\n      // allow for character substitution\r\n      if (!checkval) c = opts.substitutes[c] || c;\r\n      maskset.writeOutBuffer = true;\r\n      const valResult = isValid.call(\r\n        inputmask,\r\n        pos,\r\n        c,\r\n        strict,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        checkval\r\n      );\r\n      if (valResult !== false) {\r\n        resetMaskSet.call(inputmask, true);\r\n        forwardPosition =\r\n          valResult.caret !== undefined\r\n            ? valResult.caret\r\n            : seekNext.call(\r\n                inputmask,\r\n                valResult.pos.begin ? valResult.pos.begin : valResult.pos\r\n              );\r\n        maskset.p = forwardPosition; // needed for checkval\r\n      }\r\n\r\n      forwardPosition =\r\n        opts.numericInput && valResult.caret === undefined\r\n          ? seekPrevious.call(inputmask, forwardPosition)\r\n          : forwardPosition;\r\n      if (writeOut !== false) {\r\n        setTimeout(function () {\r\n          opts.onKeyValidation.call(input, c, valResult);\r\n        }, 0);\r\n        if (maskset.writeOutBuffer && valResult !== false) {\r\n          const buffer = getBuffer.call(inputmask);\r\n          writeBuffer(input, buffer, forwardPosition, e, checkval !== true);\r\n        }\r\n      }\r\n\r\n      e.preventDefault();\r\n\r\n      if (checkval) {\r\n        if (valResult !== false) valResult.forwardPosition = forwardPosition;\r\n        return valResult;\r\n      }\r\n    }\r\n  },\r\n  pasteEvent: async function (e) {\r\n    function handlePaste(\r\n      inputmask,\r\n      input,\r\n      inputValue,\r\n      pastedValue,\r\n      onBeforePaste\r\n    ) {\r\n      let caretPos = caret.call(inputmask, input, undefined, undefined, true),\r\n        valueBeforeCaret = inputValue.substr(0, caretPos.begin),\r\n        valueAfterCaret = inputValue.substr(caretPos.end, inputValue.length);\r\n\r\n      if (\r\n        valueBeforeCaret ==\r\n        (inputmask.isRTL\r\n          ? getBufferTemplate.call(inputmask).slice().reverse()\r\n          : getBufferTemplate.call(inputmask)\r\n        )\r\n          .slice(0, caretPos.begin)\r\n          .join(\"\")\r\n      )\r\n        valueBeforeCaret = \"\";\r\n      if (\r\n        valueAfterCaret ==\r\n        (inputmask.isRTL\r\n          ? getBufferTemplate.call(inputmask).slice().reverse()\r\n          : getBufferTemplate.call(inputmask)\r\n        )\r\n          .slice(caretPos.end)\r\n          .join(\"\")\r\n      )\r\n        valueAfterCaret = \"\";\r\n\r\n      pastedValue = valueBeforeCaret + pastedValue + valueAfterCaret;\r\n      if (inputmask.isRTL && opts.numericInput !== true) {\r\n        pastedValue = pastedValue.split(\"\");\r\n        for (const c of getBufferTemplate.call(inputmask)) {\r\n          if (pastedValue[0] === c) pastedValue.shift();\r\n        }\r\n        pastedValue = pastedValue.reverse().join(\"\");\r\n      }\r\n\r\n      let pasteValue = pastedValue;\r\n      if (typeof onBeforePaste === \"function\") {\r\n        pasteValue = onBeforePaste.call(inputmask, pasteValue, opts);\r\n        if (pasteValue === false) {\r\n          return false;\r\n        }\r\n        if (!pasteValue) {\r\n          pasteValue = inputValue;\r\n        }\r\n      }\r\n      checkVal(input, true, false, pasteValue.toString().split(\"\"), e);\r\n    }\r\n\r\n    const input = this,\r\n      inputmask = this.inputmask,\r\n      opts = inputmask.opts;\r\n    let inputValue = inputmask._valueGet(true),\r\n      pastedValue;\r\n\r\n    inputmask.skipInputEvent = true;\r\n    if (e.clipboardData && e.clipboardData.getData) {\r\n      pastedValue = e.clipboardData.getData(\"text/plain\");\r\n    } else if (window.clipboardData && window.clipboardData.getData) {\r\n      // IE\r\n      pastedValue = window.clipboardData.getData(\"Text\");\r\n    }\r\n    handlePaste(inputmask, input, inputValue, pastedValue, opts.onBeforePaste);\r\n    e.preventDefault();\r\n  },\r\n  inputFallBackEvent: function (e) {\r\n    // fallback when keypress is not triggered\r\n    const inputmask = this.inputmask,\r\n      opts = inputmask.opts,\r\n      $ = inputmask.dependencyLib;\r\n\r\n    // console.log(e.inputType);\r\n\r\n    function analyseChanges(inputValue, buffer, caretPos) {\r\n      let frontPart = inputValue.substr(0, caretPos.begin).split(\"\"),\r\n        backPart = inputValue.substr(caretPos.begin).split(\"\"),\r\n        frontBufferPart = buffer.substr(0, caretPos.begin).split(\"\"),\r\n        backBufferPart = buffer.substr(caretPos.begin).split(\"\"),\r\n        fpl =\r\n          frontPart.length >= frontBufferPart.length\r\n            ? frontPart.length\r\n            : frontBufferPart.length,\r\n        bpl =\r\n          backPart.length >= backBufferPart.length\r\n            ? backPart.length\r\n            : backBufferPart.length,\r\n        bl,\r\n        i,\r\n        action = \"\",\r\n        data = [],\r\n        marker = \"~\",\r\n        placeholder;\r\n\r\n      // align buffers\r\n      while (frontPart.length < fpl) frontPart.push(marker);\r\n      while (frontBufferPart.length < fpl) frontBufferPart.push(marker);\r\n      while (backPart.length < bpl) backPart.unshift(marker);\r\n      while (backBufferPart.length < bpl) backBufferPart.unshift(marker);\r\n\r\n      const newBuffer = frontPart.concat(backPart),\r\n        oldBuffer = frontBufferPart.concat(backBufferPart);\r\n\r\n      // console.log(\"N \" + newBuffer);\r\n      // console.log(\"O \" + oldBuffer);\r\n\r\n      for (i = 0, bl = newBuffer.length; i < bl; i++) {\r\n        placeholder = getPlaceholder.call(\r\n          inputmask,\r\n          translatePosition.call(inputmask, i)\r\n        );\r\n        switch (action) {\r\n          case \"insertText\":\r\n            if (\r\n              oldBuffer[i - 1] === newBuffer[i] &&\r\n              caretPos.begin == newBuffer.length - 1\r\n            ) {\r\n              data.push(newBuffer[i]);\r\n            }\r\n            i = bl;\r\n            break;\r\n          case \"insertReplacementText\":\r\n            if (newBuffer[i] === marker) {\r\n              // extend selection\r\n              caretPos.end++;\r\n            } else {\r\n              // breakout loop\r\n              i = bl;\r\n            }\r\n            break;\r\n          case \"deleteContentBackward\":\r\n            if (newBuffer[i] === marker) {\r\n              caretPos.end++;\r\n            } else {\r\n              // breakout loop\r\n              i = bl;\r\n            }\r\n            break;\r\n          default:\r\n            if (newBuffer[i] !== oldBuffer[i]) {\r\n              if (\r\n                (newBuffer[i + 1] === marker ||\r\n                  newBuffer[i + 1] === placeholder ||\r\n                  newBuffer[i + 1] === undefined) &&\r\n                ((oldBuffer[i] === placeholder &&\r\n                  oldBuffer[i + 1] === marker) ||\r\n                  oldBuffer[i] === marker)\r\n              ) {\r\n                // basic insert\r\n                action = \"insertText\";\r\n                data.push(newBuffer[i]);\r\n                caretPos.begin--;\r\n                caretPos.end--;\r\n              } else if (\r\n                oldBuffer[i + 1] === marker &&\r\n                oldBuffer[i] === newBuffer[i + 1]\r\n              ) {\r\n                // insert between\r\n                action = \"insertText\";\r\n                data.push(newBuffer[i]);\r\n                caretPos.begin--;\r\n                caretPos.end--;\r\n              } else if (\r\n                newBuffer[i] !== placeholder &&\r\n                newBuffer[i] !== marker &&\r\n                (newBuffer[i + 1] === marker ||\r\n                  (oldBuffer[i] !== newBuffer[i] &&\r\n                    oldBuffer[i + 1] ===\r\n                      newBuffer[i + 1])) /* single char replacement */\r\n              ) {\r\n                // replace selection\r\n                action = \"insertReplacementText\";\r\n                data.push(newBuffer[i]);\r\n                caretPos.begin--;\r\n              } else if (newBuffer[i] === marker) {\r\n                // delete~backspace\r\n                action = \"deleteContentBackward\";\r\n                if (\r\n                  isMask.call(\r\n                    inputmask,\r\n                    translatePosition.call(inputmask, i),\r\n                    true\r\n                  ) ||\r\n                  oldBuffer[i] === opts.radixPoint\r\n                )\r\n                  caretPos.end++;\r\n              } else {\r\n                i = bl;\r\n              }\r\n            }\r\n            break;\r\n        }\r\n      }\r\n\r\n      return {\r\n        action,\r\n        data,\r\n        caret: caretPos\r\n      };\r\n    }\r\n\r\n    let input = this,\r\n      inputValue = input.inputmask._valueGet(true),\r\n      buffer = (\r\n        inputmask.isRTL\r\n          ? getBuffer.call(inputmask).slice().reverse()\r\n          : getBuffer.call(inputmask)\r\n      ).join(\"\"),\r\n      caretPos = caret.call(inputmask, input, undefined, undefined, true),\r\n      changes;\r\n\r\n    if (buffer !== inputValue) {\r\n      changes = analyseChanges(inputValue, buffer, caretPos);\r\n      if (\r\n        (input.inputmask.shadowRoot || input.ownerDocument).activeElement !==\r\n        input\r\n      ) {\r\n        input.focus();\r\n      }\r\n      writeBuffer(input, getBuffer.call(inputmask));\r\n      caret.call(inputmask, input, caretPos.begin, caretPos.end, true);\r\n\r\n      // Japanese IME hack #2662\r\n      if (\r\n        !mobile &&\r\n        inputmask.skipNextInsert &&\r\n        e.inputType === \"insertText\" &&\r\n        changes.action === \"insertText\" &&\r\n        inputmask.isComposing\r\n      ) {\r\n        return false;\r\n      }\r\n      if (\r\n        e.inputType === \"insertCompositionText\" &&\r\n        changes.action === \"insertText\" &&\r\n        inputmask.isComposing\r\n      ) {\r\n        inputmask.skipNextInsert = true;\r\n      } else {\r\n        inputmask.skipNextInsert = false;\r\n      }\r\n\r\n      switch (changes.action) {\r\n        case \"insertText\":\r\n        case \"insertReplacementText\":\r\n          changes.data.forEach(function (entry, ndx) {\r\n            const keypress = new $.Event(\"keypress\");\r\n            keypress.key = entry;\r\n            inputmask.ignorable = false; // make sure ignorable is ignored ;-)\r\n            EventHandlers.keypressEvent.call(input, keypress);\r\n          });\r\n          setTimeout(function () {\r\n            // #2195 trigger keyup to help some other plugins to track changes\r\n            inputmask.$el.trigger(\"keyup\");\r\n          }, 0);\r\n          break;\r\n        case \"deleteContentBackward\":\r\n          var keydown = new $.Event(\"keydown\");\r\n          keydown.key = keys.Backspace;\r\n          EventHandlers.keyEvent.call(input, keydown);\r\n          break;\r\n        default:\r\n          applyInputValue(input, inputValue);\r\n          caret.call(inputmask, input, caretPos.begin, caretPos.end, true);\r\n          break;\r\n      }\r\n\r\n      e.preventDefault();\r\n    }\r\n  },\r\n  setValueEvent: function (e) {\r\n    const inputmask = this.inputmask,\r\n      $ = inputmask.dependencyLib;\r\n    let input = this,\r\n      value = e && e.detail ? e.detail[0] : arguments[1];\r\n\r\n    if (value === undefined) {\r\n      value = input.inputmask._valueGet(true);\r\n    }\r\n\r\n    applyInputValue(\r\n      input,\r\n      value,\r\n      new $.Event(\"input\"),\r\n      (e && e.detail ? e.detail[0] : arguments[1]) !== undefined\r\n    );\r\n\r\n    if ((e.detail && e.detail[1] !== undefined) || arguments[2] !== undefined) {\r\n      caret.call(inputmask, input, e.detail ? e.detail[1] : arguments[2]);\r\n    }\r\n  },\r\n  focusEvent: function (e) {\r\n    const inputmask = this.inputmask,\r\n      opts = inputmask.opts,\r\n      input = this,\r\n      nptValue = inputmask && inputmask._valueGet();\r\n\r\n    if (opts.showMaskOnFocus) {\r\n      if (nptValue !== getBuffer.call(inputmask).join(\"\")) {\r\n        writeBuffer(\r\n          input,\r\n          getBuffer.call(inputmask),\r\n          seekNext.call(inputmask, getLastValidPosition.call(inputmask))\r\n        );\r\n      } /* else if (mouseEnter === false) { //only executed on focus without mouseenter\r\n\t\t\t\t\tcaret(input, seekNext(getLastValidPosition()));\r\n\t\t\t\t} */\r\n    }\r\n    if (\r\n      opts.positionCaretOnTab === true &&\r\n      inputmask.mouseEnter === false &&\r\n      (!isComplete.call(inputmask, getBuffer.call(inputmask)) ||\r\n        getLastValidPosition.call(inputmask) === -1)\r\n    ) {\r\n      EventHandlers.clickEvent.apply(input, [e, true]);\r\n    }\r\n    inputmask.undoValue = inputmask && inputmask._valueGet(true);\r\n  },\r\n  invalidEvent: function (e) {\r\n    this.inputmask.validationEvent = true;\r\n  },\r\n  mouseleaveEvent: function () {\r\n    const inputmask = this.inputmask,\r\n      opts = inputmask.opts,\r\n      input = this;\r\n    inputmask.mouseEnter = false;\r\n    if (\r\n      opts.clearMaskOnLostFocus &&\r\n      (input.inputmask.shadowRoot || input.ownerDocument).activeElement !==\r\n        input\r\n    ) {\r\n      HandleNativePlaceholder(input, inputmask.originalPlaceholder);\r\n    }\r\n  },\r\n  clickEvent: function (e, tabbed) {\r\n    const inputmask = this.inputmask;\r\n    inputmask.clicked++;\r\n\r\n    const input = this;\r\n    if (\r\n      (input.inputmask.shadowRoot || input.ownerDocument).activeElement ===\r\n      input\r\n    ) {\r\n      const newCaretPosition = determineNewCaretPosition.call(\r\n        inputmask,\r\n        caret.call(inputmask, input),\r\n        tabbed\r\n      );\r\n      if (newCaretPosition !== undefined) {\r\n        caret.call(inputmask, input, newCaretPosition);\r\n      }\r\n    }\r\n  },\r\n  cutEvent: function (e) {\r\n    const inputmask = this.inputmask,\r\n      maskset = inputmask.maskset,\r\n      input = this,\r\n      pos = caret.call(inputmask, input),\r\n      // correct clipboardData\r\n      clipData = inputmask.isRTL\r\n        ? getBuffer.call(inputmask).slice(pos.end, pos.begin)\r\n        : getBuffer.call(inputmask).slice(pos.begin, pos.end),\r\n      clipDataText = inputmask.isRTL\r\n        ? clipData.reverse().join(\"\")\r\n        : clipData.join(\"\");\r\n    if (window.navigator && window.navigator.clipboard)\r\n      window.navigator.clipboard.writeText(clipDataText);\r\n    else if (window.clipboardData && window.clipboardData.getData) {\r\n      // IE\r\n      window.clipboardData.setData(\"Text\", clipDataText);\r\n    }\r\n    handleRemove.call(inputmask, input, keys.Delete, pos);\r\n    writeBuffer(\r\n      input,\r\n      getBuffer.call(inputmask),\r\n      maskset.p,\r\n      e,\r\n      inputmask.undoValue !== inputmask._valueGet(true)\r\n    );\r\n  },\r\n  blurEvent: function (e) {\r\n    const inputmask = this.inputmask,\r\n      opts = inputmask.opts,\r\n      $ = inputmask.dependencyLib;\r\n    inputmask.clicked = 0;\r\n\r\n    const $input = $(this),\r\n      input = this;\r\n    if (input.inputmask) {\r\n      HandleNativePlaceholder(input, inputmask.originalPlaceholder);\r\n      let nptValue = input.inputmask._valueGet(),\r\n        buffer = getBuffer.call(inputmask).slice();\r\n\r\n      if (nptValue !== \"\") {\r\n        if (opts.clearMaskOnLostFocus) {\r\n          if (\r\n            getLastValidPosition.call(inputmask) === -1 &&\r\n            nptValue === getBufferTemplate.call(inputmask).join(\"\")\r\n          ) {\r\n            buffer = [];\r\n          } else {\r\n            // clearout optional tail of the mask\r\n            clearOptionalTail.call(inputmask, buffer);\r\n          }\r\n        }\r\n        if (isComplete.call(inputmask, buffer) === false) {\r\n          setTimeout(function () {\r\n            $input.trigger(\"incomplete\");\r\n          }, 0);\r\n          if (opts.clearIncomplete) {\r\n            resetMaskSet.call(inputmask, false);\r\n            if (opts.clearMaskOnLostFocus) {\r\n              buffer = [];\r\n            } else {\r\n              buffer = getBufferTemplate.call(inputmask).slice();\r\n            }\r\n          }\r\n        }\r\n\r\n        writeBuffer(input, buffer, undefined, e);\r\n      }\r\n\r\n      nptValue = inputmask._valueGet(true);\r\n      if (inputmask.undoValue !== nptValue) {\r\n        if (\r\n          nptValue != \"\" ||\r\n          inputmask.undoValue != getBufferTemplate.call(inputmask).join(\"\") ||\r\n          (inputmask.undoValue == getBufferTemplate.call(inputmask).join(\"\") &&\r\n            inputmask.maskset.validPositions.length > 0)\r\n        ) {\r\n          inputmask.undoValue = nptValue;\r\n          $input.trigger(\"change\");\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mouseenterEvent: function () {\r\n    const inputmask = this.inputmask,\r\n      { showMaskOnHover } = inputmask.opts,\r\n      input = this;\r\n    inputmask.mouseEnter = true;\r\n    if (\r\n      (input.inputmask.shadowRoot || input.ownerDocument).activeElement !==\r\n      input\r\n    ) {\r\n      const bufferTemplate = (\r\n        inputmask.isRTL\r\n          ? getBufferTemplate.call(inputmask).slice().reverse()\r\n          : getBufferTemplate.call(inputmask)\r\n      ).join(\"\");\r\n      if (showMaskOnHover) {\r\n        HandleNativePlaceholder(input, bufferTemplate);\r\n      }\r\n    }\r\n  },\r\n  submitEvent: function () {\r\n    // trigger change on submit if any\r\n    const inputmask = this.inputmask,\r\n      opts = inputmask.opts;\r\n\r\n    if (inputmask.undoValue !== inputmask._valueGet(true)) {\r\n      inputmask.$el.trigger(\"change\");\r\n    }\r\n    if (\r\n      /* opts.clearMaskOnLostFocus && */ getLastValidPosition.call(\r\n        inputmask\r\n      ) === -1 &&\r\n      inputmask._valueGet &&\r\n      inputmask._valueGet() === getBufferTemplate.call(inputmask).join(\"\")\r\n    ) {\r\n      inputmask._valueSet(\"\"); // clear masktemplete on submit and still has focus\r\n    }\r\n    if (\r\n      opts.clearIncomplete &&\r\n      isComplete.call(inputmask, getBuffer.call(inputmask)) === false\r\n    ) {\r\n      inputmask._valueSet(\"\");\r\n    }\r\n    if (opts.removeMaskOnSubmit) {\r\n      inputmask._valueSet(inputmask.unmaskedvalue(), true);\r\n      setTimeout(function () {\r\n        writeBuffer(inputmask.el, getBuffer.call(inputmask));\r\n      }, 0);\r\n    }\r\n  },\r\n  resetEvent: function () {\r\n    const inputmask = this.inputmask;\r\n\r\n    inputmask.refreshValue = true; // indicate a forced refresh when there is a call to the value before leaving the triggering event fn\r\n    setTimeout(function () {\r\n      applyInputValue(inputmask.el, inputmask._valueGet(true));\r\n    }, 0);\r\n  }\r\n};\r\n","import { HandleNativePlaceholder } from \"./inputHandling\";\r\nimport Inputmask from \"./inputmask\";\r\nimport { keys } from \"./keycode.js\";\r\nimport { getBufferTemplate } from \"./positioning\";\r\n\r\nexport { EventRuler };\r\n\r\nvar EventRuler = {\r\n  on: function (input, eventName, eventHandler) {\r\n    const $ = input.inputmask.dependencyLib;\r\n\r\n    let ev = function (e) {\r\n      if (e.originalEvent) {\r\n        e = e.originalEvent || e; // get original event from jquery evenbt\r\n        arguments[0] = e;\r\n      }\r\n      // console.log(e.type);\r\n      let that = this,\r\n        args,\r\n        inputmask = that.inputmask,\r\n        opts = inputmask ? inputmask.opts : undefined;\r\n      if (inputmask === undefined && this.nodeName !== \"FORM\") {\r\n        // happens when cloning an object with jquery.clone\r\n        const imOpts = $.data(that, \"_inputmask_opts\");\r\n        $(that).off(); // unbind all events\r\n        if (imOpts) {\r\n          new Inputmask(imOpts).mask(that);\r\n        }\r\n      } else if (\r\n        ![\"submit\", \"reset\", \"setvalue\"].includes(e.type) &&\r\n        this.nodeName !== \"FORM\" &&\r\n        (that.disabled ||\r\n          (that.readOnly &&\r\n            !(\r\n              (e.type === \"keydown\" && e.ctrlKey && e.key === keys.c) ||\r\n              (opts.tabThrough === false && e.key === keys.Tab)\r\n            )))\r\n      ) {\r\n        e.preventDefault();\r\n      } else {\r\n        switch (e.type) {\r\n          case \"input\":\r\n            if (inputmask.skipInputEvent === true) {\r\n              inputmask.skipInputEvent = false;\r\n              return e.preventDefault();\r\n            }\r\n\r\n            // if (mobile) { //this causes problem see #2220\r\n            // \targs = arguments;\r\n            // \tsetTimeout(function () { //needed for caret selection when entering a char on Android 8 - #1818\r\n            // \t\teventHandler.apply(that, args);\r\n            // \t\tcaret(that, that.inputmask.caretPos, undefined, true);\r\n            // \t}, 0);\r\n            // \treturn false;\r\n            // }\r\n            break;\r\n          case \"click\":\r\n          case \"focus\":\r\n            if (inputmask.validationEvent) {\r\n              // #841\r\n              inputmask.validationEvent = false;\r\n              input.blur();\r\n              HandleNativePlaceholder(\r\n                input,\r\n                (inputmask.isRTL\r\n                  ? getBufferTemplate.call(inputmask).slice().reverse()\r\n                  : getBufferTemplate.call(inputmask)\r\n                ).join(\"\")\r\n              );\r\n              setTimeout(function () {\r\n                input.focus();\r\n              }, opts.validationEventTimeOut);\r\n              return false;\r\n            }\r\n            args = arguments;\r\n            setTimeout(function () {\r\n              // needed for Chrome ~ initial selection clears after the clickevent\r\n              if (!input.inputmask) {\r\n                // `inputmask.remove()` was called before this callback\r\n                return;\r\n              }\r\n              eventHandler.apply(that, args);\r\n            }, 0);\r\n            return /* false */; // #2423\r\n        }\r\n        const returnVal = eventHandler.apply(that, arguments);\r\n        if (returnVal === false) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }\r\n        return returnVal;\r\n      }\r\n    };\r\n    if ([\"submit\", \"reset\"].includes(eventName)) {\r\n      ev = ev.bind(input); // bind creates a new eventhandler (wrap)\r\n      if (input.form !== null) $(input.form).on(eventName, ev);\r\n    } else {\r\n      $(input).on(eventName, ev);\r\n    }\r\n\r\n    // keep instance of the event\r\n    input.inputmask.events[eventName] = input.inputmask.events[eventName] || [];\r\n    input.inputmask.events[eventName].push(ev);\r\n  },\r\n  off: function (input, event) {\r\n    if (input.inputmask && input.inputmask.events) {\r\n      const $ = input.inputmask.dependencyLib;\r\n      let events = input.inputmask.events;\r\n      if (event) {\r\n        events = [];\r\n        events[event] = input.inputmask.events[event];\r\n      }\r\n      for (const eventName in events) {\r\n        const evArr = events[eventName];\r\n        while (evArr.length > 0) {\r\n          const ev = evArr.pop();\r\n          if ([\"submit\", \"reset\"].includes(eventName)) {\r\n            if (input.form !== null) $(input.form).off(eventName, ev);\r\n          } else {\r\n            $(input).off(eventName, ev);\r\n          }\r\n        }\r\n        delete input.inputmask.events[eventName];\r\n      }\r\n    }\r\n  }\r\n};\r\n","/*\r\n Input Mask plugin extensions\r\n http://github.com/RobinHerbots/inputmask\r\n Copyright (c) Robin Herbots\r\n Licensed under the MIT license\r\n */\r\nimport escapeRegex from \"../escapeRegex\";\r\nimport Inputmask from \"../inputmask\";\r\nimport { keyCode, keys } from \"../keycode.js\";\r\nimport { seekNext } from \"../positioning\";\r\nimport { getMaskTemplate, getTest } from \"../validation-tests\";\r\nimport \"./inputmask.date.i18n\";\r\n\r\nconst $ = Inputmask.dependencyLib;\r\n\r\nclass DateObject {\r\n  constructor(mask, format, opts, inputmask) {\r\n    this.mask = mask;\r\n    this.format = format;\r\n    this.opts = opts;\r\n    this.inputmask = inputmask;\r\n    this._date = new Date(1, 0, 1);\r\n    this.initDateObject(mask, this.opts, this.inputmask);\r\n  }\r\n\r\n  get date() {\r\n    if (this._date === undefined) {\r\n      this._date = new Date(1, 0, 1);\r\n      this.initDateObject(undefined, this.opts, this.inputmask);\r\n    }\r\n    return this._date;\r\n  }\r\n\r\n  initDateObject(mask, opts, inputmask) {\r\n    let match;\r\n    getTokenizer(opts).lastIndex = 0;\r\n    while ((match = getTokenizer(opts).exec(this.format))) {\r\n      let dynMatches = /\\d+$/.exec(match[0]),\r\n        fcode = dynMatches ? match[0][0] + \"x\" : match[0],\r\n        value;\r\n      if (mask !== undefined) {\r\n        // console.log(\"mask\", mask);\r\n        if (dynMatches) {\r\n          const lastIndex = getTokenizer(opts).lastIndex,\r\n            tokenMatch = getTokenMatch.call(\r\n              inputmask,\r\n              match.index,\r\n              opts,\r\n              inputmask && inputmask.maskset\r\n            );\r\n          getTokenizer(opts).lastIndex = lastIndex;\r\n          value = mask.slice(0, mask.indexOf(tokenMatch.nextMatch[0]));\r\n        } else {\r\n          let targetSymbol = match[0][0],\r\n            ndx = match.index;\r\n          while (\r\n            inputmask &&\r\n            (opts.placeholder[getTest.call(inputmask, ndx).match.placeholder] ||\r\n              getTest.call(inputmask, ndx).match.placeholder) === targetSymbol\r\n          ) {\r\n            ndx++;\r\n          }\r\n          const targetMatchLength = ndx - match.index;\r\n          value = mask.slice(\r\n            0,\r\n            targetMatchLength ||\r\n              (formatCode[fcode] && formatCode[fcode][4]) ||\r\n              fcode.length\r\n          );\r\n        }\r\n        mask = mask.slice(value.length);\r\n      }\r\n\r\n      if (Object.prototype.hasOwnProperty.call(formatCode, fcode)) {\r\n        this.setValue(\r\n          this,\r\n          value,\r\n          fcode,\r\n          formatCode[fcode][2],\r\n          formatCode[fcode][1]\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  setValue(dateObj, value, fcode, targetProp, dateOperation) {\r\n    if (value !== undefined) {\r\n      switch (targetProp) {\r\n        case \"ampm\":\r\n          dateObj[targetProp] = value;\r\n          dateObj[\"raw\" + targetProp] = value.replace(/\\s/g, \"_\");\r\n          break;\r\n        case \"month\":\r\n          if (fcode === \"mmm\" || fcode === \"mmmm\") {\r\n            fcode === \"mmm\"\r\n              ? (dateObj[targetProp] = pad(\r\n                  i18n.monthNames\r\n                    .slice(0, 12)\r\n                    .findIndex(\r\n                      (item) => value.toLowerCase() === item.toLowerCase()\r\n                    ) + 1,\r\n                  2\r\n                ))\r\n              : (dateObj[targetProp] = pad(\r\n                  i18n.monthNames\r\n                    .slice(12, 24)\r\n                    .findIndex(\r\n                      (item) => value.toLowerCase() === item.toLowerCase()\r\n                    ) + 1,\r\n                  2\r\n                ));\r\n            dateObj[targetProp] =\r\n              dateObj[targetProp] === \"00\"\r\n                ? \"\"\r\n                : dateObj[targetProp].toString();\r\n            dateObj[\"raw\" + targetProp] = dateObj[targetProp];\r\n            break;\r\n          }\r\n        // eslint-disable-next-line no-fallthrough\r\n        default:\r\n          dateObj[targetProp] = value.replace(/[^0-9]/g, \"0\");\r\n          dateObj[\"raw\" + targetProp] = value.replace(/\\s/g, \"_\");\r\n      }\r\n    }\r\n    if (dateOperation !== undefined) {\r\n      let datavalue = dateObj[targetProp];\r\n      if (\r\n        (targetProp === \"day\" && parseInt(datavalue) === 29) ||\r\n        (targetProp === \"month\" && parseInt(datavalue) === 2)\r\n      ) {\r\n        if (\r\n          parseInt(dateObj.day) === 29 &&\r\n          parseInt(dateObj.month) === 2 &&\r\n          (dateObj.year === \"\" || dateObj.year === undefined)\r\n        ) {\r\n          // set temporary leap year in dateObj\r\n          dateObj._date.setFullYear(2012, 1, 29);\r\n        }\r\n      }\r\n      if (targetProp === \"day\") {\r\n        useDateObject = true;\r\n        if (parseInt(datavalue) === 0) datavalue = 1;\r\n      }\r\n      if (targetProp === \"month\") useDateObject = true;\r\n      if (targetProp === \"year\") {\r\n        useDateObject = true;\r\n        if (datavalue.length < formatCode[fcode][4])\r\n          datavalue = pad(datavalue, formatCode[fcode][4], true);\r\n      }\r\n      if ((datavalue !== \"\" && !isNaN(datavalue)) || targetProp === \"ampm\")\r\n        dateOperation.call(dateObj._date, datavalue);\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this._date = new Date(1, 0, 1);\r\n  }\r\n\r\n  reInit() {\r\n    this._date = undefined;\r\n    // eslint-disable-next-line no-unused-expressions\r\n    this.date;\r\n  }\r\n}\r\n\r\nlet currentYear = new Date().getFullYear(),\r\n  i18n = Inputmask.prototype.i18n,\r\n  useDateObject = false, // supported codes for formatting\r\n  // http://blog.stevenlevithan.com/archives/date-time-format\r\n  // https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings?view=netframework-4.7\r\n  formatCode = {\r\n    // regex, valueSetter, type, displayformatter, #entries (optional)\r\n    d: [\r\n      \"[1-9]|[12][0-9]|3[01]\",\r\n      Date.prototype.setDate,\r\n      \"day\",\r\n      Date.prototype.getDate\r\n    ], // Day of the month as digits; no leading zero for single-digit days.\r\n    dd: [\r\n      \"0[1-9]|[12][0-9]|3[01]\",\r\n      Date.prototype.setDate,\r\n      \"day\",\r\n      function () {\r\n        return pad(Date.prototype.getDate.call(this), 2);\r\n      }\r\n    ], // Day of the month as digits; leading zero for single-digit days.\r\n    ddd: [\"\"], // Day of the week as a three-letter abbreviation.\r\n    dddd: [\"\"], // Day of the week as its full name.\r\n    m: [\r\n      \"[1-9]|1[012]\",\r\n      function (val) {\r\n        let mval = val ? parseInt(val) : 0;\r\n        if (mval > 0) mval--;\r\n        return Date.prototype.setMonth.call(this, mval);\r\n      },\r\n      \"month\",\r\n      function () {\r\n        return Date.prototype.getMonth.call(this) + 1;\r\n      }\r\n    ], // Month as digits; no leading zero for single-digit months.\r\n    mm: [\r\n      \"0[1-9]|1[012]\",\r\n      function (val) {\r\n        let mval = val ? parseInt(val) : 0;\r\n        if (mval > 0) mval--;\r\n        return Date.prototype.setMonth.call(this, mval);\r\n      },\r\n      \"month\",\r\n      function () {\r\n        return pad(Date.prototype.getMonth.call(this) + 1, 2);\r\n      }\r\n    ], // Month as digits; leading zero for single-digit months.\r\n    mmm: [\r\n      i18n.monthNames.slice(0, 12).join(\"|\"),\r\n      function (val) {\r\n        const mval = i18n.monthNames\r\n          .slice(0, 12)\r\n          .findIndex((item) => val.toLowerCase() === item.toLowerCase());\r\n        return mval !== -1 ? Date.prototype.setMonth.call(this, mval) : false;\r\n      },\r\n      \"month\",\r\n      function () {\r\n        return i18n.monthNames.slice(0, 12)[Date.prototype.getMonth.call(this)];\r\n      }\r\n    ], // Month as a three-letter abbreviation.\r\n    mmmm: [\r\n      i18n.monthNames.slice(12, 24).join(\"|\"),\r\n      function (val) {\r\n        const mval = i18n.monthNames\r\n          .slice(12, 24)\r\n          .findIndex((item) => val.toLowerCase() === item.toLowerCase());\r\n        return mval !== -1 ? Date.prototype.setMonth.call(this, mval) : false;\r\n      },\r\n      \"month\",\r\n      function () {\r\n        return i18n.monthNames.slice(12, 24)[\r\n          Date.prototype.getMonth.call(this)\r\n        ];\r\n      }\r\n    ], // Month as its full name.\r\n    yy: [\r\n      \"[0-9]{2}\",\r\n      function (val) {\r\n        const centuryPart = new Date().getFullYear().toString().slice(0, 2);\r\n        Date.prototype.setFullYear.call(this, `${centuryPart}${val}`);\r\n      },\r\n      \"year\",\r\n      function () {\r\n        return pad(Date.prototype.getFullYear.call(this), 2);\r\n      },\r\n      2\r\n    ], // Year as last two digits; leading zero for years less than 10.\r\n    yyyy: [\r\n      \"[0-9]{4}\",\r\n      Date.prototype.setFullYear,\r\n      \"year\",\r\n      function () {\r\n        return pad(Date.prototype.getFullYear.call(this), 4);\r\n      },\r\n      4\r\n    ],\r\n    h: [\r\n      \"[1-9]|1[0-2]\",\r\n      Date.prototype.setHours,\r\n      \"hours\",\r\n      Date.prototype.getHours\r\n    ], // Hours; no leading zero for single-digit hours (12-hour clock).\r\n    hh: [\r\n      \"0[1-9]|1[0-2]\",\r\n      Date.prototype.setHours,\r\n      \"hours\",\r\n      function () {\r\n        return pad(Date.prototype.getHours.call(this), 2);\r\n      }\r\n    ], // Hours; leading zero for single-digit hours (12-hour clock).\r\n    hx: [\r\n      function (x) {\r\n        return `[0-9]{${x}}`;\r\n      },\r\n      Date.prototype.setHours,\r\n      \"hours\",\r\n      function (x) {\r\n        return Date.prototype.getHours;\r\n      }\r\n    ], // Hours; no limit; set maximum digits\r\n    H: [\r\n      \"1?[0-9]|2[0-3]\",\r\n      Date.prototype.setHours,\r\n      \"hours\",\r\n      Date.prototype.getHours\r\n    ], // Hours; no leading zero for single-digit hours (24-hour clock).\r\n    HH: [\r\n      \"0[0-9]|1[0-9]|2[0-3]\",\r\n      Date.prototype.setHours,\r\n      \"hours\",\r\n      function () {\r\n        return pad(Date.prototype.getHours.call(this), 2);\r\n      }\r\n    ], // Hours; leading zero for single-digit hours (24-hour clock).\r\n    Hx: [\r\n      function (x) {\r\n        return `[0-9]{${x}}`;\r\n      },\r\n      Date.prototype.setHours,\r\n      \"hours\",\r\n      function (x) {\r\n        return function () {\r\n          return pad(Date.prototype.getHours.call(this), x);\r\n        };\r\n      }\r\n    ], // Hours; no limit; set maximum digits\r\n    M: [\r\n      \"[1-5]?[0-9]\",\r\n      Date.prototype.setMinutes,\r\n      \"minutes\",\r\n      Date.prototype.getMinutes\r\n    ], // Minutes; no leading zero for single-digit minutes. Uppercase M unlike CF timeFormat's m to avoid conflict with months.\r\n    MM: [\r\n      \"0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]\",\r\n      Date.prototype.setMinutes,\r\n      \"minutes\",\r\n      function () {\r\n        return pad(Date.prototype.getMinutes.call(this), 2);\r\n      }\r\n    ], // Minutes; leading zero for single-digit minutes. Uppercase MM unlike CF timeFormat's mm to avoid conflict with months.\r\n    s: [\r\n      \"[1-5]?[0-9]\",\r\n      Date.prototype.setSeconds,\r\n      \"seconds\",\r\n      Date.prototype.getSeconds\r\n    ], // Seconds; no leading zero for single-digit seconds.\r\n    ss: [\r\n      \"0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]\",\r\n      Date.prototype.setSeconds,\r\n      \"seconds\",\r\n      function () {\r\n        return pad(Date.prototype.getSeconds.call(this), 2);\r\n      }\r\n    ], // Seconds; leading zero for single-digit seconds.\r\n    l: [\r\n      \"[0-9]{3}\",\r\n      Date.prototype.setMilliseconds,\r\n      \"milliseconds\",\r\n      function () {\r\n        return pad(Date.prototype.getMilliseconds.call(this), 3);\r\n      },\r\n      3\r\n    ], // Milliseconds. 3 digits.\r\n    L: [\r\n      \"[0-9]{2}\",\r\n      Date.prototype.setMilliseconds,\r\n      \"milliseconds\",\r\n      function () {\r\n        return pad(Date.prototype.getMilliseconds.call(this), 2);\r\n      },\r\n      2\r\n    ], // Milliseconds. 2 digits.\r\n    t: [\"[ap]\", setAMPM, \"ampm\", getAMPM, 1], // Lowercase, single-character time marker string: a or p.\r\n    tt: [\"[ap]m\", setAMPM, \"ampm\", getAMPM, 2], // two-character time marker string: am or pm.\r\n    T: [\"[AP]\", setAMPM, \"ampm\", getAMPM, 1], // single-character time marker string: A or P.\r\n    TT: [\"[AP]M\", setAMPM, \"ampm\", getAMPM, 2], // two-character time marker string: AM or PM.\r\n    Z: [\".*\", undefined, \"Z\", getTimeZoneAbbreviated], // US timezone abbreviation, e.g. EST or MDT. With non-US timezones or in the Opera browser, the GMT/UTC offset is returned, e.g. GMT-0500\r\n    o: [\"\"], // GMT/UTC timezone offset, e.g. -0500 or +0230.\r\n    S: [\"\"] // The date's ordinal suffix (st, nd, rd, or th).\r\n  },\r\n  formatAlias = {\r\n    isoDate: \"yyyy-mm-dd\", // 2007-06-09\r\n    isoTime: \"HH:MM:ss\", // 17:46:21\r\n    isoDateTime: \"yyyy-mm-dd'T'HH:MM:ss\", // 2007-06-09T17:46:21\r\n    isoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\" // 2007-06-09T22:46:21Z\r\n  };\r\n\r\nfunction setAMPM(value) {\r\n  const hours = this.getHours();\r\n  if (value.toLowerCase().includes(\"p\")) {\r\n    this.setHours(hours + 12);\r\n    // console.log(\"setAMPM + 12\");\r\n  } else if (value.toLowerCase().includes(\"a\") && hours >= 12) {\r\n    this.setHours(hours - 12);\r\n  }\r\n}\r\n\r\nfunction getAMPM() {\r\n  let date = this,\r\n    hours = date.getHours();\r\n  hours = hours || 12;\r\n  return hours >= 12 ? \"PM\" : \"AM\";\r\n}\r\n\r\nfunction getTimeZoneAbbreviated() {\r\n  // not perfect, but ok for now\r\n  let date = this,\r\n    { 1: tz } = date.toString().match(/\\((.+)\\)/);\r\n  if (tz.includes(\" \")) {\r\n    tz = tz.replace(\"-\", \" \").toUpperCase();\r\n    tz = tz\r\n      .split(\" \")\r\n      .map(([first]) => first)\r\n      .join(\"\");\r\n  }\r\n  return tz;\r\n}\r\n\r\nfunction formatcode(match) {\r\n  const dynMatches = /\\d+$/.exec(match[0]);\r\n  if (dynMatches && dynMatches[0] !== undefined) {\r\n    const fcode = formatCode[match[0][0] + \"x\"].slice(\"\");\r\n    fcode[0] = fcode[0](dynMatches[0]);\r\n    fcode[3] = fcode[3](dynMatches[0]);\r\n\r\n    return fcode;\r\n  } else if (formatCode[match[0]]) {\r\n    return formatCode[match[0]];\r\n  }\r\n}\r\n\r\nfunction getTokenizer(opts) {\r\n  if (!opts.tokenizer) {\r\n    const tokens = [],\r\n      dyntokens = [];\r\n    for (const ndx in formatCode) {\r\n      if (/\\.*x$/.test(ndx)) {\r\n        const dynToken = ndx[0] + \"\\\\d+\";\r\n        if (dyntokens.indexOf(dynToken) === -1) {\r\n          dyntokens.push(dynToken);\r\n        }\r\n      } else if (tokens.indexOf(ndx[0]) === -1) {\r\n        tokens.push(ndx[0]);\r\n      }\r\n    }\r\n    opts.tokenizer =\r\n      \"(\" +\r\n      (dyntokens.length > 0 ? dyntokens.join(\"|\") + \"|\" : \"\") +\r\n      tokens.join(\"+|\") +\r\n      \")+?|.\";\r\n    opts.tokenizer = new RegExp(opts.tokenizer, \"g\");\r\n  }\r\n\r\n  return opts.tokenizer;\r\n}\r\n\r\nfunction prefillYear(dateParts, currentResult, opts) {\r\n  if (dateParts.year !== dateParts.rawyear) {\r\n    const crrntyear = currentYear.toString(),\r\n      enteredPart = dateParts.rawyear.replace(/[^0-9]/g, \"\"),\r\n      currentYearPart = crrntyear.slice(0, enteredPart.length),\r\n      currentYearNextPart = crrntyear.slice(enteredPart.length);\r\n    if (enteredPart.length === 2 && enteredPart === currentYearPart) {\r\n      const entryCurrentYear = new Date(\r\n        currentYear,\r\n        dateParts.month - 1,\r\n        dateParts.day\r\n      );\r\n      if (\r\n        dateParts.day == entryCurrentYear.getDate() &&\r\n        (!opts.max || opts.max.date.getTime() >= entryCurrentYear.getTime())\r\n      ) {\r\n        // update dateParts\r\n        dateParts.date.setFullYear(currentYear);\r\n        dateParts.year = crrntyear;\r\n        // update result\r\n        currentResult.insert = [\r\n          {\r\n            pos: currentResult.pos + 1,\r\n            c: currentYearNextPart[0]\r\n          },\r\n          {\r\n            pos: currentResult.pos + 2,\r\n            c: currentYearNextPart[1]\r\n          }\r\n        ];\r\n      }\r\n    }\r\n  }\r\n\r\n  return currentResult;\r\n}\r\n\r\nfunction isValidDate(dateParts, currentResult, opts) {\r\n  const inputmask = this;\r\n  if (!useDateObject) return true;\r\n  if (\r\n    dateParts.rawday === undefined ||\r\n    (!isFinite(dateParts.rawday) &&\r\n      new Date(\r\n        dateParts.date.getFullYear(),\r\n        isFinite(dateParts.rawmonth)\r\n          ? dateParts.month\r\n          : dateParts.date.getMonth() + 1,\r\n        0\r\n      ).getDate() >= dateParts.day) ||\r\n    (dateParts.day == \"29\" &&\r\n      (!isFinite(dateParts.rawyear) ||\r\n        dateParts.rawyear === undefined ||\r\n        dateParts.rawyear === \"\")) ||\r\n    new Date(\r\n      dateParts.date.getFullYear(),\r\n      isFinite(dateParts.rawmonth)\r\n        ? dateParts.month\r\n        : dateParts.date.getMonth() + 1,\r\n      0\r\n    ).getDate() >= dateParts.day\r\n  ) {\r\n    return currentResult;\r\n  } else {\r\n    // take corrective action if possible\r\n    if (dateParts.day == \"29\") {\r\n      const tokenMatch = getTokenMatch.call(\r\n        inputmask,\r\n        currentResult.pos,\r\n        opts,\r\n        inputmask.maskset\r\n      );\r\n      if (\r\n        tokenMatch.targetMatch &&\r\n        tokenMatch.targetMatch[0] === \"yyyy\" &&\r\n        currentResult.pos - tokenMatch.targetMatchIndex === 2\r\n      ) {\r\n        currentResult.remove = currentResult.pos + 1;\r\n        return currentResult;\r\n      }\r\n    } else if (\r\n      dateParts.date.getMonth() == 2 &&\r\n      dateParts.day == \"30\" &&\r\n      currentResult.c !== undefined\r\n    ) {\r\n      dateParts.day = \"03\";\r\n      dateParts.date.setDate(3);\r\n      dateParts.date.setMonth(1);\r\n      currentResult.insert = [\r\n        { pos: currentResult.pos, c: \"0\" },\r\n        { pos: currentResult.pos + 1, c: currentResult.c }\r\n      ];\r\n      currentResult.caret = seekNext.call(this, currentResult.pos + 1);\r\n      return currentResult;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction isDateInRange(dateParts, result, opts, maskset, fromCheckval) {\r\n  if (!result) return result;\r\n  if (result && opts.min) {\r\n    if (\r\n      /* useDateObject && (dateParts[\"year\"] === undefined || dateParts[\"yearSet\"]) && */ !isNaN(\r\n        opts.min.date.getTime()\r\n      )\r\n    ) {\r\n      let match;\r\n      dateParts.reset();\r\n      getTokenizer(opts).lastIndex = 0;\r\n      while ((match = getTokenizer(opts).exec(opts.inputFormat))) {\r\n        var fcode;\r\n        if ((fcode = formatcode(match))) {\r\n          if (fcode[3]) {\r\n            let setFn = fcode[1],\r\n              current = dateParts[fcode[2]],\r\n              minVal = opts.min[fcode[2]],\r\n              maxVal = opts.max ? opts.max[fcode[2]] : minVal + 1,\r\n              curVal = [],\r\n              forceCurrentValue = false;\r\n            for (let i = 0; i < minVal.length; i++) {\r\n              if (\r\n                maskset.validPositions[i + match.index] === undefined &&\r\n                !forceCurrentValue\r\n              ) {\r\n                if (i + match.index == 0 && current[i] < minVal[i]) {\r\n                  curVal[i] = current[i];\r\n                  forceCurrentValue = true;\r\n                } else {\r\n                  curVal[i] = minVal[i];\r\n                }\r\n                // ADD +1 to whole\r\n                if (\r\n                  fcode[2] === \"year\" &&\r\n                  current.length - 1 == i &&\r\n                  minVal != maxVal\r\n                )\r\n                  curVal = (parseInt(curVal.join(\"\")) + 1).toString().split(\"\");\r\n                if (\r\n                  fcode[2] === \"ampm\" &&\r\n                  minVal != maxVal &&\r\n                  opts.min.date.getTime() > dateParts.date.getTime()\r\n                )\r\n                  curVal[i] = maxVal[i];\r\n              } else {\r\n                curVal[i] = current[i];\r\n                forceCurrentValue = forceCurrentValue || current[i] > minVal[i];\r\n              }\r\n            }\r\n\r\n            setFn.call(dateParts._date, curVal.join(\"\"));\r\n          }\r\n        }\r\n      }\r\n\r\n      result = opts.min.date.getTime() <= dateParts.date.getTime();\r\n      dateParts.reInit();\r\n    }\r\n  }\r\n\r\n  if (result && opts.max) {\r\n    if (!isNaN(opts.max.date.getTime())) {\r\n      result = opts.max.date.getTime() >= dateParts.date.getTime();\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n// parse the given format and return a mask pattern\r\n// when a dateObjValue is passed a datestring in the requested format is returned\r\nfunction parse(format, dateObjValue, opts, raw) {\r\n  // parse format to regex string\r\n  let mask = \"\",\r\n    match,\r\n    fcode,\r\n    ndx = 0,\r\n    placeHolder = {};\r\n  getTokenizer(opts).lastIndex = 0;\r\n  while ((match = getTokenizer(opts).exec(format))) {\r\n    if (dateObjValue === undefined) {\r\n      if ((fcode = formatcode(match))) {\r\n        mask += \"(\" + fcode[0] + \")\";\r\n        // map placeholder to placeholder object and set placeholder mappings\r\n        if (opts.placeholder && opts.placeholder !== \"\") {\r\n          placeHolder[ndx] =\r\n            opts.placeholder[match.index % opts.placeholder.length];\r\n          placeHolder[opts.placeholder[match.index % opts.placeholder.length]] =\r\n            match[0].charAt(0);\r\n        } else {\r\n          placeHolder[ndx] = match[0].charAt(0);\r\n        }\r\n      } else {\r\n        switch (match[0]) {\r\n          case \"[\":\r\n            mask += \"(\";\r\n            break;\r\n          case \"]\":\r\n            mask += \")?\";\r\n            break;\r\n          default:\r\n            mask += escapeRegex(match[0]);\r\n            placeHolder[ndx] = match[0].charAt(0);\r\n        }\r\n      }\r\n    } else {\r\n      if ((fcode = formatcode(match))) {\r\n        if (raw !== true && fcode[3]) {\r\n          const getFn = fcode[3];\r\n          mask += getFn.call(dateObjValue.date);\r\n        } else if (fcode[2]) {\r\n          mask += dateObjValue[\"raw\" + fcode[2]];\r\n        } else {\r\n          mask += match[0];\r\n        }\r\n      } else {\r\n        mask += match[0];\r\n      }\r\n    }\r\n    ndx++;\r\n  }\r\n  if (dateObjValue === undefined) {\r\n    opts.placeholder = placeHolder;\r\n  }\r\n  return mask;\r\n}\r\n\r\n// padding function\r\nfunction pad(val, len, right) {\r\n  val = String(val);\r\n  len = len || 2;\r\n  while (val.length < len) val = right ? val + \"0\" : \"0\" + val;\r\n  return val;\r\n}\r\n\r\nfunction analyseMask(mask, format, opts) {\r\n  const inputmask = this;\r\n\r\n  if (typeof mask === \"string\") {\r\n    return new DateObject(mask, format, opts, inputmask);\r\n  } else if (\r\n    mask &&\r\n    typeof mask === \"object\" &&\r\n    Object.prototype.hasOwnProperty.call(mask, \"date\")\r\n  ) {\r\n    return mask;\r\n  }\r\n  return undefined;\r\n}\r\n\r\nfunction importDate(dateObj, opts) {\r\n  return parse(opts.inputFormat, { date: dateObj }, opts);\r\n}\r\n\r\nfunction getTokenMatch(pos, opts, maskset) {\r\n  let inputmask = this,\r\n    masksetHint =\r\n      maskset && maskset.tests[pos]\r\n        ? opts.placeholder[maskset.tests[pos][0].match.placeholder] ||\r\n          maskset.tests[pos][0].match.placeholder\r\n        : \"\",\r\n    calcPos = 0,\r\n    targetMatch,\r\n    match,\r\n    matchLength = 0;\r\n  getTokenizer(opts).lastIndex = 0;\r\n  while ((match = getTokenizer(opts).exec(opts.inputFormat))) {\r\n    const dynMatches = /\\d+$/.exec(match[0]);\r\n    if (dynMatches) {\r\n      matchLength = parseInt(dynMatches[0]);\r\n    } else {\r\n      let targetSymbol = match[0][0],\r\n        ndx = calcPos;\r\n      while (\r\n        inputmask &&\r\n        (opts.placeholder[getTest.call(inputmask, ndx).match.placeholder] ||\r\n          getTest.call(inputmask, ndx).match.placeholder) === targetSymbol\r\n      ) {\r\n        ndx++;\r\n      }\r\n      matchLength = ndx - calcPos;\r\n      if (matchLength === 0) matchLength = match[0].length;\r\n    }\r\n\r\n    calcPos += matchLength;\r\n    if (match[0].indexOf(masksetHint) != -1 || calcPos >= pos + 1) {\r\n      // console.log(\"gettokenmatch \" + match[0] + \" ~ \" + (maskset ? maskset.tests[pos][0].match.placeholder : \"\"));\r\n      targetMatch = match;\r\n      match = getTokenizer(opts).exec(opts.inputFormat);\r\n      break;\r\n    }\r\n  }\r\n  return {\r\n    targetMatchIndex: calcPos - matchLength,\r\n    nextMatch: match,\r\n    targetMatch\r\n  };\r\n}\r\n\r\nInputmask.extendAliases({\r\n  datetime: {\r\n    mask: function (opts) {\r\n      // do not allow numeric input in datetime alias\r\n      opts.numericInput = false;\r\n\r\n      // localize\r\n      formatCode.S = i18n.ordinalSuffix.join(\"|\");\r\n\r\n      opts.inputFormat = formatAlias[opts.inputFormat] || opts.inputFormat; // resolve possible formatAlias\r\n      opts.displayFormat =\r\n        formatAlias[opts.displayFormat] ||\r\n        opts.displayFormat ||\r\n        opts.inputFormat; // resolve possible formatAlias\r\n      opts.outputFormat =\r\n        formatAlias[opts.outputFormat] || opts.outputFormat || opts.inputFormat; // resolve possible formatAlias\r\n      // opts.placeholder = opts.placeholder !== \"\" ? opts.placeholder : opts.inputFormat.replace(/[[\\]]/, \"\");\r\n      opts.regex = parse(opts.inputFormat, undefined, opts);\r\n      opts.min = analyseMask(opts.min, opts.inputFormat, opts);\r\n      opts.max = analyseMask(opts.max, opts.inputFormat, opts);\r\n      return null; // migrate to regex mask\r\n    },\r\n    placeholder: \"\", // set default as none (~ auto); when a custom placeholder is passed it will be used\r\n    inputFormat: \"isoDateTime\", // format used to input the date\r\n    displayFormat: null, // visual format when the input looses focus\r\n    outputFormat: null, // unmasking format\r\n    min: null, // needs to be in the same format as the inputfornat\r\n    max: null, // needs to be in the same format as the inputfornat,\r\n    skipOptionalPartCharacter: \"\",\r\n    preValidation: function (\r\n      buffer,\r\n      pos,\r\n      c,\r\n      isSelection,\r\n      opts,\r\n      maskset,\r\n      caretPos,\r\n      strict\r\n    ) {\r\n      const inputmask = this;\r\n      if (strict) return true;\r\n      if (isNaN(c) && buffer[pos] !== c) {\r\n        const tokenMatch = getTokenMatch.call(inputmask, pos, opts, maskset);\r\n        if (\r\n          tokenMatch.nextMatch &&\r\n          tokenMatch.nextMatch[0] === c &&\r\n          tokenMatch.targetMatch[0].length > 1\r\n        ) {\r\n          const validator = formatcode(tokenMatch.targetMatch)[0];\r\n          if (new RegExp(validator).test(\"0\" + buffer[pos - 1])) {\r\n            buffer[pos] = buffer[pos - 1];\r\n            buffer[pos - 1] = \"0\";\r\n            return {\r\n              fuzzy: true,\r\n              buffer,\r\n              refreshFromBuffer: { start: pos - 1, end: pos + 1 },\r\n              pos: pos + 1\r\n            };\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    postValidation: function (\r\n      buffer,\r\n      pos,\r\n      c,\r\n      currentResult,\r\n      opts,\r\n      maskset,\r\n      strict,\r\n      fromCheckval\r\n    ) {\r\n      const inputmask = this;\r\n\r\n      if (strict) return true;\r\n      let tokenMatch, validator;\r\n      if (currentResult === false) {\r\n        // try some shifting\r\n        tokenMatch = getTokenMatch.call(inputmask, pos + 1, opts, maskset);\r\n        if (\r\n          tokenMatch.targetMatch &&\r\n          tokenMatch.targetMatchIndex === pos &&\r\n          tokenMatch.targetMatch[0].length > 1 &&\r\n          formatCode[tokenMatch.targetMatch[0]] !== undefined\r\n        ) {\r\n          validator = formatcode(tokenMatch.targetMatch)[0];\r\n        } else {\r\n          tokenMatch = getTokenMatch.call(inputmask, pos + 2, opts, maskset);\r\n          if (\r\n            tokenMatch.targetMatch &&\r\n            tokenMatch.targetMatchIndex === pos + 1 &&\r\n            tokenMatch.targetMatch[0].length > 1 &&\r\n            formatCode[tokenMatch.targetMatch[0]] !== undefined\r\n          ) {\r\n            validator = formatcode(tokenMatch.targetMatch)[0];\r\n          }\r\n        }\r\n        if (validator !== undefined) {\r\n          if (\r\n            maskset.validPositions[pos + 1] !== undefined &&\r\n            new RegExp(validator).test(c + \"0\")\r\n          ) {\r\n            buffer[pos] = c;\r\n            buffer[pos + 1] = \"0\";\r\n            currentResult = {\r\n              // insert: [{pos: pos, c: \"0\"}, {pos: pos + 1, c: c}],\r\n              pos: pos + 2, // this will triggeer a refreshfrombuffer\r\n              caret: pos\r\n            };\r\n          } else if (new RegExp(validator).test(\"0\" + c)) {\r\n            buffer[pos] = \"0\";\r\n            buffer[pos + 1] = c;\r\n            currentResult = {\r\n              // insert: [{pos: pos, c: \"0\"}, {pos: pos + 1, c: c}],\r\n              pos: pos + 2 // this will triggeer a refreshfrombuffer\r\n            };\r\n          }\r\n        }\r\n\r\n        if (currentResult === false) return currentResult;\r\n      }\r\n\r\n      if (currentResult.fuzzy) {\r\n        buffer = currentResult.buffer;\r\n        pos = currentResult.pos;\r\n      }\r\n\r\n      // full validate target\r\n      tokenMatch = getTokenMatch.call(inputmask, pos, opts, maskset);\r\n      if (\r\n        tokenMatch.targetMatch &&\r\n        tokenMatch.targetMatch[0] &&\r\n        formatCode[tokenMatch.targetMatch[0]] !== undefined\r\n      ) {\r\n        const fcode = formatcode(tokenMatch.targetMatch);\r\n        validator = fcode[0];\r\n        const part = buffer.slice(\r\n          tokenMatch.targetMatchIndex,\r\n          tokenMatch.targetMatchIndex + tokenMatch.targetMatch[0].length\r\n        );\r\n        if (\r\n          new RegExp(validator).test(part.join(\"\")) === false &&\r\n          tokenMatch.targetMatch[0].length === 2 &&\r\n          maskset.validPositions[tokenMatch.targetMatchIndex] &&\r\n          maskset.validPositions[tokenMatch.targetMatchIndex + 1]\r\n        ) {\r\n          maskset.validPositions[tokenMatch.targetMatchIndex + 1].input = \"0\";\r\n        }\r\n        if (fcode[2] == \"year\") {\r\n          const _buffer = getMaskTemplate.call(\r\n            inputmask,\r\n            false,\r\n            1,\r\n            undefined,\r\n            true\r\n          );\r\n          for (let i = pos + 1; i < buffer.length; i++) {\r\n            buffer[i] = _buffer[i];\r\n            maskset.validPositions.splice(pos + 1, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      let result = currentResult,\r\n        dateParts = analyseMask.call(\r\n          inputmask,\r\n          buffer.join(\"\"),\r\n          opts.inputFormat,\r\n          opts\r\n        );\r\n      if (result && !isNaN(dateParts.date.getTime())) {\r\n        // check for a valid date ~ an invalid date returns NaN which isn't equal\r\n        if (opts.prefillYear) result = prefillYear(dateParts, result, opts);\r\n        result = isValidDate.call(inputmask, dateParts, result, opts);\r\n        result = isDateInRange(dateParts, result, opts, maskset, fromCheckval);\r\n      }\r\n\r\n      if (pos !== undefined && result && currentResult.pos !== pos) {\r\n        return {\r\n          buffer: parse(opts.inputFormat, dateParts, opts).split(\"\"),\r\n          refreshFromBuffer: { start: pos, end: currentResult.pos },\r\n          pos: currentResult.caret || currentResult.pos // correct caret position\r\n        };\r\n      }\r\n\r\n      return result;\r\n    },\r\n    onKeyDown: function (e, buffer, caretPos, opts) {\r\n      const input = this;\r\n      if (e.ctrlKey && e.key === keys.ArrowRight) {\r\n        input.inputmask._valueSet(importDate(new Date(), opts));\r\n        $(input).trigger(\"setvalue\");\r\n      }\r\n    },\r\n    onUnMask: function (maskedValue, unmaskedValue, opts) {\r\n      const inputmask = this;\r\n      return unmaskedValue\r\n        ? parse(\r\n            opts.outputFormat,\r\n            analyseMask.call(inputmask, maskedValue, opts.inputFormat, opts),\r\n            opts,\r\n            true\r\n          )\r\n        : unmaskedValue;\r\n    },\r\n    casing: function (elem, test, pos, validPositions) {\r\n      if (test.nativeDef.indexOf(\"[ap]\") == 0) return elem.toLowerCase();\r\n      if (test.nativeDef.indexOf(\"[AP]\") == 0) return elem.toUpperCase();\r\n\r\n      const posBefore = getTest.call(this, [pos - 1]);\r\n      if (posBefore.match.def.indexOf(\"[AP]\") == 0) return elem.toUpperCase();\r\n\r\n      if (\r\n        pos === 0 ||\r\n        (posBefore && posBefore.input === String.fromCharCode(keyCode.Space)) ||\r\n        (posBefore &&\r\n          posBefore.match.def === String.fromCharCode(keyCode.Space))\r\n      ) {\r\n        return elem.toUpperCase();\r\n      }\r\n      return elem.toLowerCase();\r\n    },\r\n    onBeforeMask: function (initialValue, opts) {\r\n      if (Object.prototype.toString.call(initialValue) === \"[object Date]\") {\r\n        initialValue = importDate(initialValue, opts);\r\n      }\r\n\r\n      return initialValue;\r\n    },\r\n    insertMode: false,\r\n    insertModeVisual: false,\r\n    shiftPositions: false,\r\n    keepStatic: false,\r\n    inputmode: \"numeric\",\r\n    prefillYear: true // Allows to disable prefill for datetime year.\r\n  }\r\n});\r\n","/*\r\n Input Mask plugin extensions\r\n http://github.com/RobinHerbots/inputmask\r\n Copyright (c) Robin Herbots\r\n Licensed under the MIT license\r\n */\r\nimport Inputmask from \"../inputmask\";\r\n\r\nconst $ = Inputmask.dependencyLib;\r\n\r\n$.extend(true, Inputmask.prototype.i18n, {\r\n  dayNames: [\r\n    \"Mon\",\r\n    \"Tue\",\r\n    \"Wed\",\r\n    \"Thu\",\r\n    \"Fri\",\r\n    \"Sat\",\r\n    \"Sun\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n    \"Sunday\"\r\n  ],\r\n  monthNames: [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\"\r\n  ],\r\n  ordinalSuffix: [\"st\", \"nd\", \"rd\", \"th\"]\r\n});\r\n","/*\r\n Input Mask plugin extensions\r\n http://github.com/RobinHerbots/inputmask\r\n Copyright (c) Robin Herbots\r\n Licensed under the MIT license\r\n */\r\nimport Inputmask from \"../inputmask\";\r\nimport { getLastValidPosition } from \"../positioning\";\r\nimport { getMaskTemplate } from \"../validation-tests\";\r\n// extra definitions\r\nInputmask.extendDefinitions({\r\n  A: {\r\n    validator: \"[A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\",\r\n    casing: \"upper\" // auto uppercasing\r\n  },\r\n  \"&\": {\r\n    // alfanumeric uppercasing\r\n    validator: \"[0-9A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\",\r\n    casing: \"upper\"\r\n  },\r\n  \"#\": {\r\n    // hexadecimal\r\n    validator: \"[0-9A-Fa-f]\",\r\n    casing: \"upper\"\r\n  }\r\n});\r\n\r\nconst ipValidatorRegex = /25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;\r\n\r\nfunction ipValidator(chrs, maskset, pos, strict, opts) {\r\n  if (pos - 1 > -1 && maskset.buffer[pos - 1] !== \".\") {\r\n    chrs = maskset.buffer[pos - 1] + chrs;\r\n    if (pos - 2 > -1 && maskset.buffer[pos - 2] !== \".\") {\r\n      chrs = maskset.buffer[pos - 2] + chrs;\r\n    } else chrs = \"0\" + chrs;\r\n  } else chrs = \"00\" + chrs;\r\n  if (\r\n    opts.greedy &&\r\n    parseInt(chrs) > 255 &&\r\n    ipValidatorRegex.test(\"00\" + chrs.charAt(2))\r\n  ) {\r\n    const buffer = [...maskset.buffer.slice(0, pos), \".\", chrs.charAt(2)];\r\n    if (buffer.join(\"\").match(/\\./g).length < 4) {\r\n      return {\r\n        refreshFromBuffer: true,\r\n        buffer,\r\n        caret: pos + 2\r\n      };\r\n    }\r\n  }\r\n  return ipValidatorRegex.test(chrs);\r\n}\r\n\r\nInputmask.extendAliases({\r\n  cssunit: {\r\n    regex: \"[+-]?[0-9]+\\\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)\"\r\n  },\r\n  url: {\r\n    // needs update => https://en.wikipedia.org/wiki/URL\r\n    regex: \"(https?|ftp)://.*\",\r\n    autoUnmask: false,\r\n    keepStatic: false,\r\n    tabThrough: true\r\n  },\r\n  ip: {\r\n    // ip-address mask\r\n    mask: \"i{1,3}.j{1,3}.k{1,3}.l{1,3}\",\r\n    definitions: {\r\n      i: {\r\n        validator: ipValidator\r\n      },\r\n      j: {\r\n        validator: ipValidator\r\n      },\r\n      k: {\r\n        validator: ipValidator\r\n      },\r\n      l: {\r\n        validator: ipValidator\r\n      }\r\n    },\r\n    onUnMask: function (maskedValue, unmaskedValue, opts) {\r\n      return maskedValue;\r\n    },\r\n    inputmode: \"decimal\",\r\n    substitutes: { \",\": \".\" }\r\n  },\r\n  email: {\r\n    // https://en.wikipedia.org/wiki/Domain_name#Domain_name_space\r\n    // https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\r\n    // should be extended with the toplevel domains at the end\r\n    mask: function ({ separator, quantifier }) {\r\n      let emailMask =\r\n          \"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]\",\r\n        mask = emailMask;\r\n      if (separator) {\r\n        for (let i = 0; i < quantifier; i++) {\r\n          mask += `[${separator}${emailMask}]`;\r\n        }\r\n      }\r\n      return mask;\r\n    },\r\n    greedy: false,\r\n    casing: \"lower\",\r\n    separator: null,\r\n    quantifier: 5,\r\n    skipOptionalPartCharacter: \"\",\r\n    onBeforePaste: function (pastedValue, opts) {\r\n      pastedValue = pastedValue.toLowerCase();\r\n      return pastedValue.replace(\"mailto:\", \"\");\r\n    },\r\n    definitions: {\r\n      \"*\": {\r\n        validator:\r\n          \"[0-9\\uFF11-\\uFF19A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5!#$%&'*+/=?^_`{|}~-]\"\r\n      },\r\n      \"-\": {\r\n        validator: \"[0-9A-Za-z-]\"\r\n      }\r\n    },\r\n    onUnMask: function (maskedValue, unmaskedValue, opts) {\r\n      return maskedValue;\r\n    },\r\n    inputmode: \"email\"\r\n  },\r\n  mac: {\r\n    mask: \"##:##:##:##:##:##\"\r\n  }, // https://en.wikipedia.org/wiki/Vehicle_identification_number\r\n  // see issue #1199\r\n  vin: {\r\n    mask: \"V{13}9{4}\",\r\n    definitions: {\r\n      V: {\r\n        validator: \"[A-HJ-NPR-Za-hj-npr-z\\\\d]\",\r\n        casing: \"upper\"\r\n      }\r\n    },\r\n    clearIncomplete: true,\r\n    autoUnmask: true\r\n  }, // http://rion.io/2013/09/10/validating-social-security-numbers-through-regular-expressions-2/\r\n  // https://en.wikipedia.org/wiki/Social_Security_number\r\n  ssn: {\r\n    mask: \"999-99-9999\",\r\n    postValidation: function (\r\n      buffer,\r\n      pos,\r\n      c,\r\n      currentResult,\r\n      opts,\r\n      maskset,\r\n      strict\r\n    ) {\r\n      const bffr = getMaskTemplate.call(\r\n        this,\r\n        true,\r\n        getLastValidPosition.call(this),\r\n        true,\r\n        true\r\n      );\r\n      return /^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(\r\n        bffr.join(\"\")\r\n      );\r\n    }\r\n  }\r\n});\r\n","/*\r\n Input Mask plugin extensions\r\n http://github.com/RobinHerbots/inputmask\r\n Copyright (c) Robin Herbots\r\n Licensed under the MIT license\r\n */\r\nimport escapeRegex from \"../escapeRegex\";\r\nimport Inputmask from \"../inputmask\";\r\nimport { keys } from \"../keycode\";\r\nimport { seekNext } from \"../positioning\";\r\n\r\nconst $ = Inputmask.dependencyLib;\r\n\r\nfunction autoEscape(txt, opts) {\r\n  let escapedTxt = \"\";\r\n  for (let i = 0; i < txt.length; i++) {\r\n    if (\r\n      Inputmask.prototype.definitions[txt.charAt(i)] ||\r\n      opts.definitions[txt.charAt(i)] ||\r\n      opts.optionalmarker[0] === txt.charAt(i) ||\r\n      opts.optionalmarker[1] === txt.charAt(i) ||\r\n      opts.quantifiermarker[0] === txt.charAt(i) ||\r\n      opts.quantifiermarker[1] === txt.charAt(i) ||\r\n      opts.groupmarker[0] === txt.charAt(i) ||\r\n      opts.groupmarker[1] === txt.charAt(i) ||\r\n      opts.alternatormarker === txt.charAt(i)\r\n    ) {\r\n      escapedTxt += \"\\\\\" + txt.charAt(i);\r\n    } else {\r\n      escapedTxt += txt.charAt(i);\r\n    }\r\n  }\r\n  return escapedTxt;\r\n}\r\n\r\nfunction alignDigits(buffer, digits, opts, force) {\r\n  if (buffer.length > 0 && digits > 0 && (!opts.digitsOptional || force)) {\r\n    var radixPosition = buffer.indexOf(opts.radixPoint),\r\n      negationBack = false;\r\n    if (opts.negationSymbol.back === buffer[buffer.length - 1]) {\r\n      negationBack = true;\r\n      buffer.length--;\r\n    }\r\n\r\n    if (radixPosition === -1) {\r\n      buffer.push(opts.radixPoint);\r\n      radixPosition = buffer.length - 1;\r\n    }\r\n    for (let i = 1; i <= digits; i++) {\r\n      if (!isFinite(buffer[radixPosition + i])) {\r\n        buffer[radixPosition + i] = \"0\";\r\n      }\r\n    }\r\n  }\r\n\r\n  if (negationBack) buffer.push(opts.negationSymbol.back);\r\n  return buffer;\r\n}\r\n\r\nfunction findValidator(symbol, maskset) {\r\n  let posNdx = 0;\r\n  if (symbol === \"+\") {\r\n    posNdx = seekNext.call(this, maskset.validPositions.length - 1);\r\n  }\r\n  for (let tstNdx in maskset.tests) {\r\n    tstNdx = parseInt(tstNdx);\r\n    if (tstNdx >= posNdx) {\r\n      for (\r\n        let ndx = 0, ndxl = maskset.tests[tstNdx].length;\r\n        ndx < ndxl;\r\n        ndx++\r\n      ) {\r\n        if (\r\n          (maskset.validPositions[tstNdx] === undefined || symbol === \"-\") &&\r\n          maskset.tests[tstNdx][ndx].match.def === symbol\r\n        ) {\r\n          return (\r\n            tstNdx +\r\n            (maskset.validPositions[tstNdx] !== undefined && symbol !== \"-\"\r\n              ? 1\r\n              : 0)\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return posNdx;\r\n}\r\n\r\nfunction findValid(symbol, maskset) {\r\n  let ret = -1;\r\n  for (let ndx = 0, vpl = maskset.validPositions.length; ndx < vpl; ndx++) {\r\n    const tst = maskset.validPositions[ndx];\r\n    if (tst && tst.match.def === symbol) {\r\n      ret = ndx;\r\n      break;\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction parseMinMaxOptions(opts) {\r\n  if (opts.parseMinMaxOptions === undefined) {\r\n    // convert min and max options\r\n    if (opts.min !== null) {\r\n      opts.min = opts.min\r\n        .toString()\r\n        .replace(new RegExp(escapeRegex(opts.groupSeparator), \"g\"), \"\");\r\n      if (opts.radixPoint === \",\")\r\n        opts.min = opts.min.replace(opts.radixPoint, \".\");\r\n      opts.min = isFinite(opts.min) ? parseFloat(opts.min) : NaN;\r\n      if (isNaN(opts.min)) opts.min = Number.MIN_VALUE;\r\n    }\r\n    if (opts.max !== null) {\r\n      opts.max = opts.max\r\n        .toString()\r\n        .replace(new RegExp(escapeRegex(opts.groupSeparator), \"g\"), \"\");\r\n      if (opts.radixPoint === \",\")\r\n        opts.max = opts.max.replace(opts.radixPoint, \".\");\r\n      opts.max = isFinite(opts.max) ? parseFloat(opts.max) : NaN;\r\n      if (isNaN(opts.max)) opts.max = Number.MAX_VALUE;\r\n    }\r\n    opts.parseMinMaxOptions = \"done\";\r\n  }\r\n}\r\n\r\nfunction genMask(opts) {\r\n  opts.repeat = 0;\r\n  // treat equal separator and radixpoint\r\n  if (\r\n    opts.groupSeparator === opts.radixPoint &&\r\n    opts.digits &&\r\n    opts.digits !== \"0\"\r\n  ) {\r\n    if (opts.radixPoint === \".\") {\r\n      opts.groupSeparator = \",\";\r\n    } else if (opts.radixPoint === \",\") {\r\n      opts.groupSeparator = \".\";\r\n    } else {\r\n      opts.groupSeparator = \"\";\r\n    }\r\n  }\r\n  // prevent conflict with default skipOptionalPartCharacter\r\n  if (opts.groupSeparator === \" \") {\r\n    opts.skipOptionalPartCharacter = undefined;\r\n  }\r\n\r\n  // enforce placeholder to single\r\n  if (opts.placeholder.length > 1) {\r\n    opts.placeholder = opts.placeholder.charAt(0);\r\n  }\r\n  // only allow radixfocus when placeholder = 0\r\n  if (opts.positionCaretOnClick === \"radixFocus\" && opts.placeholder === \"\") {\r\n    opts.positionCaretOnClick = \"lvp\";\r\n  }\r\n\r\n  let decimalDef = \"0\",\r\n    radixPointDef = opts.radixPoint;\r\n  if (opts.numericInput === true && opts.__financeInput === undefined) {\r\n    // finance people input style\r\n    decimalDef = \"1\";\r\n    opts.positionCaretOnClick =\r\n      opts.positionCaretOnClick === \"radixFocus\"\r\n        ? \"lvp\"\r\n        : opts.positionCaretOnClick;\r\n    opts.digitsOptional = false;\r\n    if (isNaN(opts.digits)) opts.digits = 2;\r\n    opts._radixDance = false;\r\n    radixPointDef = opts.radixPoint === \",\" ? \"?\" : \"!\";\r\n    if (\r\n      opts.radixPoint !== \"\" &&\r\n      opts.definitions[radixPointDef] === undefined\r\n    ) {\r\n      // update separator definition\r\n      opts.definitions[radixPointDef] = {};\r\n      opts.definitions[radixPointDef].validator = \"[\" + opts.radixPoint + \"]\";\r\n      opts.definitions[radixPointDef].placeholder = opts.radixPoint;\r\n      opts.definitions[radixPointDef].static = true;\r\n      opts.definitions[radixPointDef].generated = true; // forced marker as generated input\r\n    }\r\n  } else {\r\n    opts.__financeInput = false; // needed to keep original selection when remasking\r\n    opts.numericInput = true;\r\n  }\r\n\r\n  let mask = \"[+]\",\r\n    altMask;\r\n  mask += autoEscape(opts.prefix, opts);\r\n  if (opts.groupSeparator !== \"\") {\r\n    if (opts.definitions[opts.groupSeparator] === undefined) {\r\n      // update separator definition\r\n      opts.definitions[opts.groupSeparator] = {};\r\n      opts.definitions[opts.groupSeparator].validator =\r\n        \"[\" + opts.groupSeparator + \"]\";\r\n      opts.definitions[opts.groupSeparator].placeholder = opts.groupSeparator;\r\n      opts.definitions[opts.groupSeparator].static = true;\r\n      opts.definitions[opts.groupSeparator].generated = true; // forced marker as generated input\r\n    }\r\n    mask += opts._mask(opts);\r\n  } else {\r\n    mask += \"9{+}\";\r\n  }\r\n  if (opts.digits !== undefined && opts.digits !== 0) {\r\n    const dq = opts.digits.toString().split(\",\");\r\n    if (isFinite(dq[0]) && dq[1] && isFinite(dq[1])) {\r\n      mask += radixPointDef + decimalDef + \"{\" + opts.digits + \"}\";\r\n    } else if (isNaN(opts.digits) || parseInt(opts.digits) > 0) {\r\n      if (opts.digitsOptional || opts.jitMasking) {\r\n        altMask = mask + radixPointDef + decimalDef + \"{0,\" + opts.digits + \"}\";\r\n        // mask += \"[\" + opts.radixPoint + \"]\";\r\n        opts.keepStatic = true;\r\n      } else {\r\n        mask += radixPointDef + decimalDef + \"{\" + opts.digits + \"}\";\r\n      }\r\n    }\r\n  } else {\r\n    opts.inputmode = \"numeric\";\r\n  }\r\n  mask += autoEscape(opts.suffix, opts);\r\n  mask += \"[-]\";\r\n\r\n  if (altMask) {\r\n    mask = [altMask + autoEscape(opts.suffix, opts) + \"[-]\", mask];\r\n  }\r\n\r\n  opts.greedy = false; // enforce greedy false\r\n\r\n  parseMinMaxOptions(opts);\r\n  if (opts.radixPoint !== \"\" && opts.substituteRadixPoint)\r\n    opts.substitutes[opts.radixPoint == \".\" ? \",\" : \".\"] = opts.radixPoint;\r\n  // console.log(mask);\r\n  return mask;\r\n}\r\n\r\nfunction handleRadixDance(pos, c, radixPos, maskset, opts) {\r\n  if (opts._radixDance && opts.numericInput && c !== opts.negationSymbol.back) {\r\n    if (\r\n      pos <= radixPos &&\r\n      (radixPos > 0 || c == opts.radixPoint) &&\r\n      (maskset.validPositions[pos - 1] === undefined ||\r\n        maskset.validPositions[pos - 1].input !== opts.negationSymbol.back)\r\n    ) {\r\n      pos -= 1;\r\n    }\r\n  }\r\n  return pos;\r\n}\r\n\r\nfunction decimalValidator(chrs, maskset, pos, strict, opts) {\r\n  const radixPos = maskset.buffer\r\n      ? maskset.buffer.indexOf(opts.radixPoint)\r\n      : -1,\r\n    result =\r\n      (radixPos !== -1 || (strict && opts.jitMasking)) &&\r\n      new RegExp(opts.definitions[\"9\"].validator).test(chrs);\r\n  if (\r\n    !strict &&\r\n    opts._radixDance &&\r\n    radixPos !== -1 &&\r\n    result &&\r\n    maskset.validPositions[radixPos] == undefined\r\n  ) {\r\n    return {\r\n      insert: {\r\n        pos: radixPos === pos ? radixPos + 1 : radixPos,\r\n        c: opts.radixPoint\r\n      },\r\n      pos\r\n    };\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction checkForLeadingZeroes(buffer, opts) {\r\n  // check leading zeros\r\n  let numberMatches = new RegExp(\r\n      \"(^\" +\r\n        (opts.negationSymbol.front !== \"\"\r\n          ? escapeRegex(opts.negationSymbol.front) + \"?\"\r\n          : \"\") +\r\n        escapeRegex(opts.prefix) +\r\n        \")(.*)(\" +\r\n        escapeRegex(opts.suffix) +\r\n        (opts.negationSymbol.back != \"\"\r\n          ? escapeRegex(opts.negationSymbol.back) + \"?\"\r\n          : \"\") +\r\n        \"$)\"\r\n    ).exec(buffer.slice().reverse().join(\"\")),\r\n    number = numberMatches ? numberMatches[2] : \"\",\r\n    leadingzeroes = false;\r\n  if (number) {\r\n    number = number.split(opts.radixPoint.charAt(0))[0];\r\n    leadingzeroes = new RegExp(\"^[0\" + opts.groupSeparator + \"]*\").exec(number);\r\n  }\r\n  return leadingzeroes &&\r\n    (leadingzeroes[0].length > 1 ||\r\n      (leadingzeroes[0].length > 0 && leadingzeroes[0].length < number.length))\r\n    ? leadingzeroes\r\n    : false;\r\n}\r\n\r\n// number aliases\r\nInputmask.extendAliases({\r\n  numeric: {\r\n    mask: genMask,\r\n    _mask: function (opts) {\r\n      return \"(\" + opts.groupSeparator + \"999){+|1}\";\r\n    },\r\n    digits: \"*\", // number of fractionalDigits\r\n    digitsOptional: true,\r\n    enforceDigitsOnBlur: false,\r\n    radixPoint: \".\",\r\n    positionCaretOnClick: \"radixFocus\",\r\n    _radixDance: true,\r\n    groupSeparator: \"\",\r\n    allowMinus: true,\r\n    negationSymbol: {\r\n      front: \"-\", // \"(\"\r\n      back: \"\" // \")\"\r\n    },\r\n    prefix: \"\",\r\n    suffix: \"\",\r\n    min: null, // minimum value\r\n    max: null, // maximum value\r\n    SetMaxOnOverflow: false,\r\n    step: 1,\r\n    inputType: \"text\", // number ~ specify that values which are set are in textform (radix point  is same as in the options) or in numberform (radixpoint = .)\r\n    unmaskAsNumber: false,\r\n    roundingFN: Math.round, // Math.floor ,  fn(x)\r\n    inputmode: \"decimal\",\r\n    shortcuts: { k: \"1000\", m: \"1000000\" },\r\n    // global options\r\n    placeholder: \"0\",\r\n    greedy: false,\r\n    rightAlign: true,\r\n    insertMode: true,\r\n    autoUnmask: false,\r\n    skipOptionalPartCharacter: \"\",\r\n    usePrototypeDefinitions: false,\r\n    stripLeadingZeroes: true,\r\n    substituteRadixPoint: true,\r\n    definitions: {\r\n      0: {\r\n        validator: decimalValidator\r\n      },\r\n      1: {\r\n        validator: decimalValidator,\r\n        definitionSymbol: \"9\"\r\n      },\r\n      9: {\r\n        // \\uFF11-\\uFF19 #1606\r\n        validator: \"[0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]\",\r\n        definitionSymbol: \"*\"\r\n      },\r\n      \"+\": {\r\n        validator: function (chrs, maskset, pos, strict, opts) {\r\n          return (\r\n            opts.allowMinus &&\r\n            (chrs === \"-\" || chrs === opts.negationSymbol.front)\r\n          );\r\n        }\r\n      },\r\n      \"-\": {\r\n        validator: function (chrs, maskset, pos, strict, opts) {\r\n          return opts.allowMinus && chrs === opts.negationSymbol.back;\r\n        }\r\n      }\r\n    },\r\n    preValidation: function (\r\n      buffer,\r\n      pos,\r\n      c,\r\n      isSelection,\r\n      opts,\r\n      maskset,\r\n      caretPos,\r\n      strict\r\n    ) {\r\n      const inputmask = this;\r\n\r\n      if (opts.__financeInput !== false && c === opts.radixPoint) return false;\r\n      const radixPos = buffer.indexOf(opts.radixPoint),\r\n        initPos = pos;\r\n      pos = handleRadixDance(pos, c, radixPos, maskset, opts);\r\n      if (c === \"-\" || c === opts.negationSymbol.front) {\r\n        if (opts.allowMinus !== true) return false;\r\n        let isNegative = false,\r\n          front = findValid(\"+\", maskset),\r\n          back = findValid(\"-\", maskset);\r\n        if (front !== -1) {\r\n          isNegative = [front];\r\n          if (back !== -1) isNegative.push(back);\r\n        }\r\n\r\n        return isNegative !== false\r\n          ? {\r\n              remove: isNegative,\r\n              caret: initPos - opts.negationSymbol.back.length\r\n            }\r\n          : {\r\n              insert: [\r\n                {\r\n                  pos: findValidator.call(inputmask, \"+\", maskset),\r\n                  c: opts.negationSymbol.front,\r\n                  fromIsValid: true\r\n                },\r\n                {\r\n                  pos: findValidator.call(inputmask, \"-\", maskset),\r\n                  c: opts.negationSymbol.back,\r\n                  fromIsValid: undefined\r\n                }\r\n              ],\r\n              caret: initPos + opts.negationSymbol.back.length\r\n            };\r\n      }\r\n\r\n      if (c === opts.groupSeparator) {\r\n        return { caret: initPos };\r\n      }\r\n\r\n      if (strict) return true;\r\n      if (\r\n        radixPos !== -1 &&\r\n        opts._radixDance === true &&\r\n        isSelection === false &&\r\n        c === opts.radixPoint &&\r\n        opts.digits !== undefined &&\r\n        (isNaN(opts.digits) || parseInt(opts.digits) > 0) &&\r\n        radixPos !== pos\r\n      ) {\r\n        const radixValidatorPos = findValidator.call(\r\n          inputmask,\r\n          opts.radixPoint,\r\n          maskset\r\n        );\r\n        if (maskset.validPositions[radixValidatorPos]) {\r\n          maskset.validPositions[radixValidatorPos].generatedInput =\r\n            maskset.validPositions[radixValidatorPos].generated || false;\r\n        }\r\n        return {\r\n          caret:\r\n            opts._radixDance && pos === radixPos - 1 ? radixPos + 1 : radixPos\r\n        };\r\n      }\r\n      if (opts.__financeInput === false) {\r\n        if (isSelection) {\r\n          if (opts.digitsOptional) {\r\n            return { rewritePosition: caretPos.end };\r\n          } else if (!opts.digitsOptional) {\r\n            if (caretPos.begin > radixPos && caretPos.end <= radixPos) {\r\n              if (c === opts.radixPoint) {\r\n                return {\r\n                  insert: { pos: radixPos + 1, c: \"0\", fromIsValid: true },\r\n                  rewritePosition: radixPos\r\n                };\r\n              } else {\r\n                return { rewritePosition: radixPos + 1 };\r\n              }\r\n            } else if (caretPos.begin < radixPos) {\r\n              return { rewritePosition: caretPos.begin - 1 };\r\n            }\r\n          }\r\n        } else if (\r\n          !opts.showMaskOnHover &&\r\n          !opts.showMaskOnFocus &&\r\n          !opts.digitsOptional &&\r\n          opts.digits > 0 &&\r\n          this.__valueGet.call(this.el) === \"\"\r\n        ) {\r\n          return { rewritePosition: radixPos };\r\n        }\r\n      }\r\n      return { rewritePosition: pos };\r\n    },\r\n    postValidation: function (\r\n      buffer,\r\n      pos,\r\n      c,\r\n      currentResult,\r\n      opts,\r\n      maskset,\r\n      strict,\r\n      fromCheckval,\r\n      fromAlternate\r\n    ) {\r\n      if (currentResult === false) return currentResult;\r\n      if (strict) return true;\r\n      if (opts.min !== null || opts.max !== null) {\r\n        const unmasked = opts.onUnMask(\r\n          buffer.slice().reverse().join(\"\"),\r\n          undefined,\r\n          $.extend({}, opts, {\r\n            unmaskAsNumber: true\r\n          })\r\n        );\r\n        if (\r\n          opts.min !== null &&\r\n          unmasked < opts.min &&\r\n          fromAlternate !== true &&\r\n          (unmasked.toString().length > opts.min.toString().length || // > instead of >= because we want to allow to type a bigger number\r\n            buffer[0] === opts.radixPoint || // disallow radixpoint when value is smaller than min\r\n            unmasked < 0)\r\n        ) {\r\n          return false;\r\n          // return {\r\n          // \trefreshFromBuffer: true,\r\n          // \tbuffer: alignDigits(opts.min.toString().replace(\".\", opts.radixPoint).split(\"\"), opts.digits, opts).reverse()\r\n          // };\r\n        }\r\n\r\n        if (opts.max !== null && unmasked > opts.max) {\r\n          return opts.SetMaxOnOverflow\r\n            ? {\r\n                refreshFromBuffer: true,\r\n                buffer: alignDigits(\r\n                  opts.max.toString().replace(\".\", opts.radixPoint).split(\"\"),\r\n                  opts.digits,\r\n                  opts\r\n                ).reverse()\r\n              }\r\n            : false;\r\n        }\r\n      }\r\n\r\n      return currentResult;\r\n    },\r\n    onUnMask: function (maskedValue, unmaskedValue, opts) {\r\n      if (unmaskedValue === \"\" && opts.nullable === true) {\r\n        return unmaskedValue;\r\n      }\r\n      let processValue = maskedValue.replace(opts.prefix, \"\");\r\n      processValue = processValue.replace(opts.suffix, \"\");\r\n      processValue = processValue.replace(\r\n        new RegExp(escapeRegex(opts.groupSeparator), \"g\"),\r\n        \"\"\r\n      );\r\n      if (opts.placeholder.charAt(0) !== \"\") {\r\n        processValue = processValue.replace(\r\n          new RegExp(opts.placeholder.charAt(0), \"g\"),\r\n          \"0\"\r\n        );\r\n      }\r\n      if (opts.unmaskAsNumber) {\r\n        if (\r\n          opts.radixPoint !== \"\" &&\r\n          processValue.indexOf(opts.radixPoint) !== -1\r\n        )\r\n          processValue = processValue.replace(\r\n            escapeRegex.call(this, opts.radixPoint),\r\n            \".\"\r\n          );\r\n        processValue = processValue.replace(\r\n          new RegExp(\"^\" + escapeRegex(opts.negationSymbol.front)),\r\n          \"-\"\r\n        );\r\n        processValue = processValue.replace(\r\n          new RegExp(escapeRegex(opts.negationSymbol.back) + \"$\"),\r\n          \"\"\r\n        );\r\n        return Number(processValue);\r\n      }\r\n      return processValue;\r\n    },\r\n    isComplete: function (buffer, opts) {\r\n      let maskedValue = (\r\n        opts.numericInput ? buffer.slice().reverse() : buffer\r\n      ).join(\"\");\r\n      maskedValue = maskedValue.replace(\r\n        new RegExp(\"^\" + escapeRegex(opts.negationSymbol.front)),\r\n        \"-\"\r\n      );\r\n      maskedValue = maskedValue.replace(\r\n        new RegExp(escapeRegex(opts.negationSymbol.back) + \"$\"),\r\n        \"\"\r\n      );\r\n      maskedValue = maskedValue.replace(opts.prefix, \"\");\r\n      maskedValue = maskedValue.replace(opts.suffix, \"\");\r\n      maskedValue = maskedValue.replace(\r\n        new RegExp(escapeRegex(opts.groupSeparator) + \"([0-9]{3})\", \"g\"),\r\n        \"$1\"\r\n      );\r\n      if (opts.radixPoint === \",\")\r\n        maskedValue = maskedValue.replace(escapeRegex(opts.radixPoint), \".\");\r\n      return isFinite(maskedValue);\r\n    },\r\n    onBeforeMask: function (initialValue, opts) {\r\n      initialValue = initialValue ?? \"\";\r\n      const radixPoint = opts.radixPoint || \",\";\r\n      if (isFinite(opts.digits)) opts.digits = parseInt(opts.digits);\r\n\r\n      if (\r\n        (typeof initialValue === \"number\" || opts.inputType === \"number\") &&\r\n        radixPoint !== \"\"\r\n      ) {\r\n        initialValue = initialValue.toString().replace(\".\", radixPoint);\r\n      }\r\n      const isNegative =\r\n          initialValue.charAt(0) === \"-\" ||\r\n          initialValue.charAt(0) === opts.negationSymbol.front,\r\n        valueParts = initialValue.split(radixPoint),\r\n        integerPart = valueParts[0].replace(/[^\\-0-9]/g, \"\"),\r\n        decimalPart =\r\n          valueParts.length > 1 ? valueParts[1].replace(/[^0-9]/g, \"\") : \"\",\r\n        forceDigits = valueParts.length > 1;\r\n\r\n      initialValue =\r\n        integerPart +\r\n        (decimalPart !== \"\" ? radixPoint + decimalPart : decimalPart);\r\n\r\n      let digits = 0;\r\n      if (radixPoint !== \"\") {\r\n        digits = !opts.digitsOptional\r\n          ? opts.digits\r\n          : opts.digits < decimalPart.length\r\n          ? opts.digits\r\n          : decimalPart.length;\r\n        if (decimalPart !== \"\" || !opts.digitsOptional) {\r\n          const digitsFactor = Math.pow(10, digits || 1);\r\n\r\n          // make the initialValue a valid javascript number for the parsefloat\r\n          initialValue = initialValue.replace(escapeRegex(radixPoint), \".\");\r\n          if (!isNaN(parseFloat(initialValue))) {\r\n            initialValue = (\r\n              opts.roundingFN(parseFloat(initialValue) * digitsFactor) /\r\n              digitsFactor\r\n            ).toFixed(digits);\r\n          }\r\n          initialValue = initialValue.toString().replace(\".\", radixPoint);\r\n        }\r\n      }\r\n      // this needs to be in a separate part and not directly in decimalPart to allow rounding\r\n      if (opts.digits === 0 && initialValue.indexOf(radixPoint) !== -1) {\r\n        initialValue = initialValue.substring(\r\n          0,\r\n          initialValue.indexOf(radixPoint)\r\n        );\r\n      }\r\n\r\n      if (opts.min !== null || opts.max !== null) {\r\n        const numberValue = initialValue.toString().replace(radixPoint, \".\");\r\n        if (opts.min !== null && numberValue < opts.min) {\r\n          initialValue = opts.min.toString().replace(\".\", radixPoint);\r\n        } else if (opts.max !== null && numberValue > opts.max) {\r\n          initialValue = opts.max.toString().replace(\".\", radixPoint);\r\n        }\r\n      }\r\n\r\n      if (isNegative && initialValue.charAt(0) !== \"-\") {\r\n        initialValue = \"-\" + initialValue;\r\n      }\r\n      return alignDigits(\r\n        initialValue.toString().split(\"\"),\r\n        digits,\r\n        opts,\r\n        forceDigits\r\n      ).join(\"\");\r\n    },\r\n    onBeforeWrite: function (e, buffer, caretPos, opts) {\r\n      function stripBuffer(buffer, stripRadix) {\r\n        if (opts.__financeInput !== false || stripRadix) {\r\n          var position = buffer.indexOf(opts.radixPoint);\r\n          if (position !== -1) {\r\n            buffer.splice(position, 1);\r\n          }\r\n        }\r\n        if (opts.groupSeparator !== \"\") {\r\n          while ((position = buffer.indexOf(opts.groupSeparator)) !== -1) {\r\n            buffer.splice(position, 1);\r\n          }\r\n        }\r\n\r\n        return buffer;\r\n      }\r\n\r\n      let result, leadingzeroes;\r\n      if (\r\n        opts.stripLeadingZeroes &&\r\n        (leadingzeroes = checkForLeadingZeroes(buffer, opts))\r\n      ) {\r\n        const caretNdx =\r\n            buffer\r\n              .join(\"\")\r\n              .lastIndexOf(leadingzeroes[0].split(\"\").reverse().join(\"\")) -\r\n            (leadingzeroes[0] == leadingzeroes.input ? 0 : 1),\r\n          offset = leadingzeroes[0] == leadingzeroes.input ? 1 : 0;\r\n        for (let i = leadingzeroes[0].length - offset; i > 0; i--) {\r\n          this.maskset.validPositions.splice(caretNdx + i, 1);\r\n          delete buffer[caretNdx + i];\r\n        }\r\n      }\r\n\r\n      if (e) {\r\n        switch (e.type) {\r\n          case \"blur\":\r\n          case \"checkval\":\r\n            if (opts.min !== null) {\r\n              const unmasked = opts.onUnMask(\r\n                buffer.slice().reverse().join(\"\"),\r\n                undefined,\r\n                $.extend({}, opts, {\r\n                  unmaskAsNumber: true\r\n                })\r\n              );\r\n              if (opts.min !== null && unmasked < opts.min) {\r\n                return {\r\n                  refreshFromBuffer: true,\r\n                  buffer: alignDigits(\r\n                    opts.min.toString().replace(\".\", opts.radixPoint).split(\"\"),\r\n                    opts.digits,\r\n                    opts\r\n                  ).reverse()\r\n                };\r\n              }\r\n            }\r\n            if (buffer[buffer.length - 1] === opts.negationSymbol.front) {\r\n              // strip negation symbol on blur when value is 0\r\n              const nmbrMtchs = new RegExp(\r\n                  \"(^\" +\r\n                    (opts.negationSymbol.front != \"\"\r\n                      ? escapeRegex(opts.negationSymbol.front) + \"?\"\r\n                      : \"\") +\r\n                    escapeRegex(opts.prefix) +\r\n                    \")(.*)(\" +\r\n                    escapeRegex(opts.suffix) +\r\n                    (opts.negationSymbol.back != \"\"\r\n                      ? escapeRegex(opts.negationSymbol.back) + \"?\"\r\n                      : \"\") +\r\n                    \"$)\"\r\n                ).exec(stripBuffer(buffer.slice(), true).reverse().join(\"\")),\r\n                number = nmbrMtchs ? nmbrMtchs[2] : \"\";\r\n              if (number == 0) {\r\n                result = { refreshFromBuffer: true, buffer: [0] };\r\n              }\r\n            } else if (opts.radixPoint !== \"\") {\r\n              // strip radixpoint on blur when it is the latest char\r\n              const radixNDX = buffer.indexOf(opts.radixPoint);\r\n              if (radixNDX === opts.suffix.length) {\r\n                if (result && result.buffer) {\r\n                  result.buffer.splice(0, 1 + opts.suffix.length);\r\n                } else {\r\n                  buffer.splice(0, 1 + opts.suffix.length);\r\n                  result = {\r\n                    refreshFromBuffer: true,\r\n                    buffer: stripBuffer(buffer)\r\n                  };\r\n                }\r\n              }\r\n            }\r\n\r\n            if (opts.enforceDigitsOnBlur) {\r\n              result = result || {};\r\n              const bffr =\r\n                (result && result.buffer) || buffer.slice().reverse();\r\n              result.refreshFromBuffer = true;\r\n              result.buffer = alignDigits(\r\n                bffr,\r\n                opts.digits,\r\n                opts,\r\n                true\r\n              ).reverse();\r\n            }\r\n        }\r\n      }\r\n\r\n      return result;\r\n    },\r\n    onKeyDown: function (e, buffer, caretPos, opts) {\r\n      let $input = $(this),\r\n        bffr;\r\n      if (e.location != 3) {\r\n        let pattern,\r\n          c = e.key;\r\n        if ((pattern = opts.shortcuts && opts.shortcuts[c])) {\r\n          if (pattern.length > 1) {\r\n            this.inputmask.__valueSet.call(\r\n              this,\r\n              parseFloat(this.inputmask.unmaskedvalue()) * parseInt(pattern)\r\n            );\r\n            $input.trigger(\"setvalue\");\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      if (e.ctrlKey) {\r\n        switch (e.key) {\r\n          case keys.ArrowUp:\r\n            this.inputmask.__valueSet.call(\r\n              this,\r\n              parseFloat(this.inputmask.unmaskedvalue()) + parseInt(opts.step)\r\n            );\r\n            $input.trigger(\"setvalue\");\r\n            return false;\r\n          case keys.ArrowDown:\r\n            this.inputmask.__valueSet.call(\r\n              this,\r\n              parseFloat(this.inputmask.unmaskedvalue()) - parseInt(opts.step)\r\n            );\r\n            $input.trigger(\"setvalue\");\r\n            return false;\r\n        }\r\n      }\r\n      if (\r\n        !e.shiftKey &&\r\n        (e.key === keys.Delete ||\r\n          e.key === keys.Backspace ||\r\n          e.key === keys.BACKSPACE_SAFARI) &&\r\n        caretPos.begin !== buffer.length\r\n      ) {\r\n        if (\r\n          buffer[e.key === keys.Delete ? caretPos.begin - 1 : caretPos.end] ===\r\n          opts.negationSymbol.front\r\n        ) {\r\n          bffr = buffer.slice().reverse();\r\n          if (opts.negationSymbol.front !== \"\") bffr.shift();\r\n          if (opts.negationSymbol.back !== \"\") bffr.pop();\r\n          $input.trigger(\"setvalue\", [bffr.join(\"\"), caretPos.begin]);\r\n          return false;\r\n        } else if (opts._radixDance === true) {\r\n          const radixPos = buffer.indexOf(opts.radixPoint);\r\n          if (!opts.digitsOptional) {\r\n            if (\r\n              radixPos !== -1 &&\r\n              (caretPos.begin < radixPos ||\r\n                caretPos.end < radixPos ||\r\n                (e.key === keys.Delete &&\r\n                  (caretPos.begin === radixPos ||\r\n                    caretPos.begin - 1 === radixPos)))\r\n            ) {\r\n              let restoreCaretPos;\r\n              if (caretPos.begin === caretPos.end) {\r\n                // only adjust when not a selection\r\n                if (e.key === keys.Backspace || e.key === keys.BACKSPACE_SAFARI)\r\n                  caretPos.begin++;\r\n                else if (\r\n                  e.key === keys.Delete &&\r\n                  caretPos.begin - 1 === radixPos\r\n                ) {\r\n                  restoreCaretPos = $.extend({}, caretPos);\r\n                  caretPos.begin--;\r\n                  caretPos.end--;\r\n                }\r\n              }\r\n              bffr = buffer.slice().reverse();\r\n              bffr.splice(\r\n                bffr.length - caretPos.begin,\r\n                caretPos.begin - caretPos.end + 1\r\n              );\r\n              // console.log(caretPos);\r\n              bffr = alignDigits(bffr, opts.digits, opts).join(\"\");\r\n              if (restoreCaretPos) {\r\n                caretPos = restoreCaretPos;\r\n              }\r\n              $input.trigger(\"setvalue\", [\r\n                bffr,\r\n                caretPos.begin >= bffr.length ? radixPos + 1 : caretPos.begin\r\n              ]);\r\n              return false;\r\n            }\r\n          } else if (radixPos === 0) {\r\n            bffr = buffer.slice().reverse();\r\n            bffr.pop();\r\n            $input.trigger(\"setvalue\", [\r\n              bffr.join(\"\"),\r\n              caretPos.begin >= bffr.length ? bffr.length : caretPos.begin\r\n            ]);\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  currency: {\r\n    prefix: \"\", // \"$ \",\r\n    groupSeparator: \",\",\r\n    alias: \"numeric\",\r\n    digits: 2,\r\n    digitsOptional: false\r\n  },\r\n  decimal: {\r\n    alias: \"numeric\"\r\n  },\r\n  integer: {\r\n    alias: \"numeric\",\r\n    inputmode: \"numeric\",\r\n    digits: 0\r\n  },\r\n  percentage: {\r\n    alias: \"numeric\",\r\n    min: 0,\r\n    max: 100,\r\n    suffix: \" %\",\r\n    digits: 0,\r\n    allowMinus: false\r\n  },\r\n  indianns: {\r\n    // indian numbering system\r\n    alias: \"numeric\",\r\n    _mask: function (opts) {\r\n      return (\r\n        \"(\" +\r\n        opts.groupSeparator +\r\n        \"99){*|1}(\" +\r\n        opts.groupSeparator +\r\n        \"999){1|1}\"\r\n      );\r\n    },\r\n    groupSeparator: \",\",\r\n    radixPoint: \".\",\r\n    placeholder: \"0\",\r\n    digits: 2,\r\n    digitsOptional: false\r\n  }\r\n});\r\n","const canUseDOM = !!(\r\n  typeof window !== \"undefined\" &&\r\n  window.document &&\r\n  window.document.createElement\r\n);\r\n\r\nexport default canUseDOM ? window : {};\r\n","import { ie } from \"./environment\";\r\nimport { EventHandlers } from \"./eventhandlers\";\r\nimport { keys } from \"./keycode.js\";\r\nimport {\r\n  caret,\r\n  determineNewCaretPosition,\r\n  getBuffer,\r\n  getBufferTemplate,\r\n  getLastValidPosition,\r\n  isMask,\r\n  resetMaskSet,\r\n  seekNext\r\n} from \"./positioning\";\r\nimport { isComplete, refreshFromBuffer } from \"./validation\";\r\nimport { getMaskTemplate, getPlaceholder, getTest } from \"./validation-tests\";\r\n\r\nexport {\r\n  applyInputValue,\r\n  clearOptionalTail,\r\n  checkVal,\r\n  HandleNativePlaceholder,\r\n  unmaskedvalue,\r\n  writeBuffer\r\n};\r\n\r\nfunction applyInputValue(input, value, initialEvent, strict) {\r\n  const inputmask = input ? input.inputmask : this,\r\n    opts = inputmask.opts;\r\n\r\n  input.inputmask.refreshValue = false;\r\n  if (strict !== true && typeof opts.onBeforeMask === \"function\")\r\n    value = opts.onBeforeMask.call(inputmask, value, opts) || value;\r\n  value = (value || \"\").toString().split(\"\");\r\n  checkVal(input, true, false, value, initialEvent);\r\n  inputmask.undoValue = inputmask._valueGet(true);\r\n  if (\r\n    (opts.clearMaskOnLostFocus || opts.clearIncomplete) &&\r\n    input.inputmask._valueGet() ===\r\n      getBufferTemplate.call(inputmask).join(\"\") &&\r\n    getLastValidPosition.call(inputmask) === -1\r\n  ) {\r\n    input.inputmask._valueSet(\"\");\r\n  }\r\n}\r\n\r\n// todo put on prototype?\r\nfunction clearOptionalTail(buffer) {\r\n  const inputmask = this;\r\n\r\n  buffer.length = 0;\r\n  let template = getMaskTemplate.call(\r\n      inputmask,\r\n      true,\r\n      0,\r\n      true,\r\n      undefined,\r\n      true\r\n    ),\r\n    lmnt;\r\n  while ((lmnt = template.shift()) !== undefined) buffer.push(lmnt);\r\n  return buffer;\r\n}\r\n\r\nfunction checkVal(input, writeOut, strict, nptvl, initiatingEvent) {\r\n  const inputmask = input ? input.inputmask : this,\r\n    maskset = inputmask.maskset,\r\n    opts = inputmask.opts,\r\n    $ = inputmask.dependencyLib;\r\n\r\n  let inputValue = nptvl.slice(),\r\n    charCodes = \"\",\r\n    initialNdx = -1,\r\n    result,\r\n    skipOptionalPartCharacter = opts.skipOptionalPartCharacter;\r\n  opts.skipOptionalPartCharacter = \"\"; // see issue #2311\r\n\r\n  function isTemplateMatch(ndx, charCodes) {\r\n    let targetTemplate = getMaskTemplate\r\n        .call(inputmask, true, 0)\r\n        .slice(ndx, seekNext.call(inputmask, ndx, false, false))\r\n        .join(\"\")\r\n        .replace(/'/g, \"\"),\r\n      charCodeNdx = targetTemplate.indexOf(charCodes);\r\n    // strip spaces from targetTemplate\r\n    while (charCodeNdx > 0 && targetTemplate[charCodeNdx - 1] === \" \")\r\n      charCodeNdx--;\r\n\r\n    const match =\r\n      charCodeNdx === 0 &&\r\n      !isMask.call(inputmask, ndx) &&\r\n      (getTest.call(inputmask, ndx).match.nativeDef === charCodes.charAt(0) ||\r\n        (getTest.call(inputmask, ndx).match.static === true &&\r\n          getTest.call(inputmask, ndx).match.nativeDef ===\r\n            \"'\" + charCodes.charAt(0)) ||\r\n        (getTest.call(inputmask, ndx).match.nativeDef === \" \" &&\r\n          (getTest.call(inputmask, ndx + 1).match.nativeDef ===\r\n            charCodes.charAt(0) ||\r\n            (getTest.call(inputmask, ndx + 1).match.static === true &&\r\n              getTest.call(inputmask, ndx + 1).match.nativeDef ===\r\n                \"'\" + charCodes.charAt(0)))));\r\n\r\n    if (\r\n      !match &&\r\n      charCodeNdx > 0 &&\r\n      !isMask.call(inputmask, ndx, false, true)\r\n    ) {\r\n      const nextPos = seekNext.call(inputmask, ndx);\r\n      if (inputmask.caretPos.begin < nextPos) {\r\n        inputmask.caretPos = { begin: nextPos };\r\n      }\r\n    }\r\n    return match;\r\n  }\r\n\r\n  resetMaskSet.call(inputmask, false);\r\n  inputmask.clicked = 0; // reset click counter to correctly determine the caretposition in checkval\r\n  initialNdx = opts.radixPoint\r\n    ? determineNewCaretPosition.call(\r\n        inputmask,\r\n        {\r\n          begin: 0,\r\n          end: 0\r\n        },\r\n        false,\r\n        opts.__financeInput === false ? \"radixFocus\" : undefined\r\n      ).begin\r\n    : 0;\r\n  maskset.p = initialNdx;\r\n  inputmask.caretPos = { begin: initialNdx };\r\n\r\n  let staticMatches = [],\r\n    prevCaretPos = inputmask.caretPos;\r\n  inputValue.forEach(function (charCode, ndx) {\r\n    if (charCode !== undefined) {\r\n      // inputfallback strips some elements out of the inputarray.  $.each logically presents them as undefined\r\n      /* if (maskset.validPositions[ndx] === undefined && inputValue[ndx] === getPlaceholder.call(inputmask, ndx) && isMask.call(inputmask, ndx, true) &&\r\n\t\t\t\tisValid.call(inputmask, ndx, inputValue[ndx], true, undefined, true, true) === false) {\r\n\t\t\t\tinputmask.caretPos.begin++;\r\n\t\t\t} else */\r\n      // console.log(\"caret \" + inputmask.caretPos.begin);\r\n      const keypress = new $.Event(\"_checkval\");\r\n      keypress.key = charCode;\r\n      charCodes += charCode;\r\n      const lvp = getLastValidPosition.call(inputmask, undefined, true);\r\n      if (!isTemplateMatch(initialNdx, charCodes)) {\r\n        result = EventHandlers.keypressEvent.call(\r\n          inputmask,\r\n          keypress,\r\n          true,\r\n          false,\r\n          strict,\r\n          inputmask.caretPos.begin\r\n        );\r\n\r\n        if (result) {\r\n          initialNdx = inputmask.caretPos.begin + 1;\r\n          charCodes = \"\";\r\n        }\r\n      } else {\r\n        result = EventHandlers.keypressEvent.call(\r\n          inputmask,\r\n          keypress,\r\n          true,\r\n          false,\r\n          strict,\r\n          lvp + 1\r\n        );\r\n      }\r\n      if (result) {\r\n        if (\r\n          result.pos !== undefined &&\r\n          maskset.validPositions[result.pos] &&\r\n          maskset.validPositions[result.pos].match.static === true &&\r\n          maskset.validPositions[result.pos].alternation === undefined\r\n        ) {\r\n          staticMatches.push(result.pos);\r\n          if (!inputmask.isRTL) {\r\n            result.forwardPosition = result.pos + 1;\r\n          }\r\n        }\r\n        writeBuffer.call(\r\n          inputmask,\r\n          undefined,\r\n          getBuffer.call(inputmask),\r\n          result.forwardPosition,\r\n          keypress,\r\n          false\r\n        );\r\n        inputmask.caretPos = {\r\n          begin: result.forwardPosition,\r\n          end: result.forwardPosition\r\n        };\r\n        prevCaretPos = inputmask.caretPos;\r\n      } else {\r\n        if (\r\n          maskset.validPositions[ndx] === undefined &&\r\n          inputValue[ndx] === getPlaceholder.call(inputmask, ndx) &&\r\n          isMask.call(inputmask, ndx, true)\r\n        ) {\r\n          inputmask.caretPos.begin++;\r\n        } else inputmask.caretPos = prevCaretPos; // restore the caret position from before the failed validation\r\n      }\r\n    }\r\n  });\r\n  if (staticMatches.length > 0) {\r\n    let sndx,\r\n      validPos,\r\n      nextValid = seekNext.call(inputmask, -1, undefined, false);\r\n    if (\r\n      (!isComplete.call(inputmask, getBuffer.call(inputmask)) &&\r\n        staticMatches.length <= nextValid) ||\r\n      (isComplete.call(inputmask, getBuffer.call(inputmask)) &&\r\n        staticMatches.length > 0 &&\r\n        staticMatches.length !== nextValid &&\r\n        staticMatches[0] === 0)\r\n    ) {\r\n      // should check if is sequence starting from 0\r\n      let nextSndx = nextValid;\r\n      while ((sndx = staticMatches.shift()) !== undefined) {\r\n        if (sndx < nextSndx) {\r\n          const keypress = new $.Event(\"_checkval\");\r\n          validPos = maskset.validPositions[sndx];\r\n          validPos.generatedInput = true;\r\n          keypress.key = validPos.input;\r\n          result = EventHandlers.keypressEvent.call(\r\n            inputmask,\r\n            keypress,\r\n            true,\r\n            false,\r\n            strict,\r\n            nextSndx\r\n          );\r\n          if (\r\n            result &&\r\n            result.pos !== undefined &&\r\n            result.pos !== sndx &&\r\n            maskset.validPositions[result.pos] &&\r\n            maskset.validPositions[result.pos].match.static === true\r\n          ) {\r\n            staticMatches.push(result.pos);\r\n          } else if (!result) break;\r\n          nextSndx++;\r\n        }\r\n      }\r\n    } else {\r\n      // mark al statics as generated\r\n      // while ((sndx = staticMatches.pop())) {\r\n      // \tvalidPos = maskset.validPositions[sndx];\r\n      // \tif (validPos) {\r\n      // \t\tvalidPos.generatedInput = true;\r\n      // \t}\r\n      // }\r\n    }\r\n  }\r\n  if (writeOut) {\r\n    writeBuffer.call(\r\n      inputmask,\r\n      input,\r\n      getBuffer.call(inputmask),\r\n      result ? result.forwardPosition : inputmask.caretPos.begin,\r\n      initiatingEvent || new $.Event(\"checkval\"),\r\n      initiatingEvent &&\r\n        ((initiatingEvent.type === \"input\" &&\r\n          inputmask.undoValue !== getBuffer.call(inputmask).join(\"\")) ||\r\n          initiatingEvent.type === \"paste\")\r\n    );\r\n    // for (var vndx in maskset.validPositions) {\r\n    // \tif (maskset.validPositions[vndx].match.generated !== true) { //only remove non forced generated\r\n    // \t\tdelete maskset.validPositions[vndx].generatedInput; //clear generated markings ~ consider initializing with a  value as fully typed\r\n    // \t}\r\n    // }\r\n  }\r\n  opts.skipOptionalPartCharacter = skipOptionalPartCharacter;\r\n}\r\n\r\nfunction HandleNativePlaceholder(npt, value) {\r\n  const inputmask = npt ? npt.inputmask : this;\r\n\r\n  if (ie) {\r\n    if (\r\n      npt.inputmask._valueGet() !== value &&\r\n      (npt.placeholder !== value || npt.placeholder === \"\")\r\n    ) {\r\n      let buffer = getBuffer.call(inputmask).slice(),\r\n        nptValue = npt.inputmask._valueGet();\r\n      if (nptValue !== value) {\r\n        const lvp = getLastValidPosition.call(inputmask);\r\n        if (\r\n          lvp === -1 &&\r\n          nptValue === getBufferTemplate.call(inputmask).join(\"\")\r\n        ) {\r\n          buffer = [];\r\n        } else if (lvp !== -1) {\r\n          // clearout optional tail of the mask\r\n          clearOptionalTail.call(inputmask, buffer);\r\n        }\r\n        writeBuffer(npt, buffer);\r\n      }\r\n    }\r\n  } else if (npt.placeholder !== value) {\r\n    npt.placeholder = value;\r\n    if (npt.placeholder === \"\") npt.removeAttribute(\"placeholder\");\r\n  }\r\n}\r\n\r\nfunction unmaskedvalue(input) {\r\n  const inputmask = input ? input.inputmask : this,\r\n    opts = inputmask.opts,\r\n    maskset = inputmask.maskset;\r\n\r\n  if (input) {\r\n    if (input.inputmask === undefined) {\r\n      return input.value;\r\n    }\r\n    if (input.inputmask && input.inputmask.refreshValue) {\r\n      // forced refresh from the value form.reset\r\n      applyInputValue(input, input.inputmask._valueGet(true));\r\n    }\r\n  }\r\n  const umValue = [],\r\n    vps = maskset.validPositions;\r\n  for (let pndx = 0, vpl = vps.length; pndx < vpl; pndx++) {\r\n    if (\r\n      vps[pndx] &&\r\n      vps[pndx].match &&\r\n      (vps[pndx].match.static != true ||\r\n        (Array.isArray(maskset.metadata) && vps[pndx].generatedInput !== true))\r\n    ) {\r\n      // only include generated input with multiple masks (check on metadata)\r\n      umValue.push(vps[pndx].input);\r\n    }\r\n  }\r\n  let unmaskedValue =\r\n    umValue.length === 0\r\n      ? \"\"\r\n      : (inputmask.isRTL ? umValue.reverse() : umValue).join(\"\");\r\n  if (typeof opts.onUnMask === \"function\") {\r\n    const bufferValue = (\r\n      inputmask.isRTL\r\n        ? getBuffer.call(inputmask).slice().reverse()\r\n        : getBuffer.call(inputmask)\r\n    ).join(\"\");\r\n    unmaskedValue = opts.onUnMask.call(\r\n      inputmask,\r\n      bufferValue,\r\n      unmaskedValue,\r\n      opts\r\n    );\r\n  }\r\n  return unmaskedValue;\r\n}\r\n\r\nfunction writeBuffer(input, buffer, caretPos, event, triggerEvents) {\r\n  const inputmask = input ? input.inputmask : this,\r\n    opts = inputmask.opts,\r\n    $ = inputmask.dependencyLib;\r\n\r\n  if (event && typeof opts.onBeforeWrite === \"function\") {\r\n    //    buffer = buffer.slice(); //prevent uncontrolled manipulation of the internal buffer\r\n    const result = opts.onBeforeWrite.call(\r\n      inputmask,\r\n      event,\r\n      buffer,\r\n      caretPos,\r\n      opts\r\n    );\r\n    if (result) {\r\n      if (result.refreshFromBuffer) {\r\n        const refresh = result.refreshFromBuffer;\r\n        refreshFromBuffer.call(\r\n          inputmask,\r\n          refresh === true ? refresh : refresh.start,\r\n          refresh.end,\r\n          result.buffer || buffer\r\n        );\r\n        buffer = getBuffer.call(inputmask, true);\r\n      }\r\n      if (caretPos !== undefined)\r\n        caretPos = result.caret !== undefined ? result.caret : caretPos;\r\n    }\r\n  }\r\n  if (input !== undefined) {\r\n    input.inputmask._valueSet(buffer.join(\"\"));\r\n    if (\r\n      caretPos !== undefined &&\r\n      (event === undefined || event.type !== \"blur\")\r\n    ) {\r\n      // console.log(caretPos);\r\n      caret.call(\r\n        inputmask,\r\n        input,\r\n        caretPos,\r\n        undefined,\r\n        undefined,\r\n        event !== undefined &&\r\n          event.type === \"keydown\" &&\r\n          (event.key === keys.Delete || event.key === keys.Backspace)\r\n      );\r\n    }\r\n    input.inputmask.writeBufferHook === undefined ||\r\n      input.inputmask.writeBufferHook(caretPos);\r\n    if (triggerEvents === true) {\r\n      const $input = $(input),\r\n        nptVal = input.inputmask._valueGet();\r\n      input.inputmask.skipInputEvent = true;\r\n      $input.trigger(\"input\");\r\n      setTimeout(function () {\r\n        // timeout needed for IE\r\n        if (nptVal === getBufferTemplate.call(inputmask).join(\"\")) {\r\n          $input.trigger(\"cleared\");\r\n        } else if (isComplete.call(inputmask, buffer) === true) {\r\n          $input.trigger(\"complete\");\r\n        }\r\n      }, 0);\r\n    }\r\n  }\r\n}\r\n","/*\r\n * Input Mask Core\r\n * http://github.com/RobinHerbots/jquery.inputmask\r\n * Copyright (c) Robin Herbots\r\n * Licensed under the MIT license\r\n */\r\n\r\nimport defaults from \"./defaults\";\r\nimport definitions from \"./definitions\";\r\nimport $ from \"./dependencyLibs/inputmask.dependencyLib\";\r\nimport { EventRuler } from \"./eventruler\";\r\nimport window from \"./global/window\";\r\nimport { checkVal, unmaskedvalue } from \"./inputHandling\";\r\nimport { mask } from \"./mask\";\r\nimport { generateMaskSet, analyseMask } from \"./mask-lexer\";\r\nimport {\r\n  determineLastRequiredPosition,\r\n  getBuffer,\r\n  getBufferTemplate,\r\n  isMask\r\n} from \"./positioning\";\r\nimport { isComplete } from \"./validation\";\r\nimport { getMaskTemplate } from \"./validation-tests\";\r\n\r\nconst document = window.document,\r\n  dataKey = \"_inputmask_opts\";\r\n\r\nfunction Inputmask(alias, options, internal) {\r\n  // allow instanciating without new\r\n  if (!(this instanceof Inputmask)) {\r\n    return new Inputmask(alias, options, internal);\r\n  }\r\n\r\n  this.dependencyLib = $;\r\n  this.el = undefined;\r\n  this.events = {};\r\n  this.maskset = undefined;\r\n\r\n  if (internal !== true) {\r\n    // init options\r\n    if (Object.prototype.toString.call(alias) === \"[object Object]\") {\r\n      options = alias;\r\n    } else {\r\n      options = options || {};\r\n      if (alias) options.alias = alias;\r\n    }\r\n    this.opts = $.extend(true, {}, this.defaults, options);\r\n    this.noMasksCache = options && options.definitions !== undefined;\r\n    this.userOptions = options || {}; // user passed options\r\n    resolveAlias(this.opts.alias, options, this.opts);\r\n  }\r\n\r\n  // maskscope properties\r\n  this.refreshValue = false; // indicate a refresh from the inputvalue is needed (form.reset)\r\n  this.undoValue = undefined;\r\n  this.$el = undefined;\r\n  this.skipInputEvent = false; // skip when triggered from within inputmask\r\n  this.validationEvent = false;\r\n  this.ignorable = false;\r\n  // eslint-disable-next-line no-unused-expressions\r\n  this.maxLength;\r\n  this.mouseEnter = false;\r\n  this.clicked = 0;\r\n  this.originalPlaceholder = undefined; // needed for FF\r\n  this.isComposing = false; // keydowncode == 229  compositionevent fallback\r\n  this.hasAlternator = false;\r\n}\r\n\r\nInputmask.prototype = {\r\n  dataAttribute: \"data-inputmask\", // data attribute prefix used for attribute binding\r\n  // options default\r\n  defaults,\r\n  definitions,\r\n  aliases: {}, // aliases definitions\r\n  masksCache: {},\r\n  i18n: {},\r\n  get isRTL() {\r\n    return this.opts.isRTL || this.opts.numericInput;\r\n  },\r\n  mask: function (elems) {\r\n    const that = this;\r\n    if (typeof elems === \"string\") {\r\n      elems =\r\n        document.getElementById(elems) || document.querySelectorAll(elems);\r\n    }\r\n    elems = elems.nodeName\r\n      ? [elems]\r\n      : Array.isArray(elems)\r\n      ? elems\r\n      : [].slice.call(elems); // [].slice as alternate for Array.from (Yandex browser)\r\n    elems.forEach(function (el, ndx) {\r\n      const scopedOpts = $.extend(true, {}, that.opts);\r\n      if (\r\n        importAttributeOptions(\r\n          el,\r\n          scopedOpts,\r\n          $.extend(true, {}, that.userOptions),\r\n          that.dataAttribute\r\n        )\r\n      ) {\r\n        const maskset = generateMaskSet(scopedOpts, that.noMasksCache);\r\n        if (maskset !== undefined) {\r\n          if (el.inputmask !== undefined) {\r\n            el.inputmask.opts.autoUnmask = true; // force autounmasking when remasking\r\n            el.inputmask.remove();\r\n          }\r\n          // store inputmask instance on the input with element reference\r\n          el.inputmask = new Inputmask(undefined, undefined, true);\r\n          el.inputmask.opts = scopedOpts;\r\n          el.inputmask.noMasksCache = that.noMasksCache;\r\n          el.inputmask.userOptions = $.extend(true, {}, that.userOptions);\r\n          // el.inputmask.isRTL = scopedOpts.isRTL || scopedOpts.numericInput;\r\n          el.inputmask.el = el;\r\n          el.inputmask.$el = $(el);\r\n          el.inputmask.maskset = maskset;\r\n\r\n          $.data(el, dataKey, that.userOptions);\r\n          mask.call(el.inputmask);\r\n        }\r\n      }\r\n    });\r\n    return elems && elems[0] ? elems[0].inputmask || this : this;\r\n  },\r\n  option: function (options, noremask) {\r\n    // set extra options || retrieve value of a current option\r\n    if (typeof options === \"string\") {\r\n      return this.opts[options];\r\n    } else if (typeof options === \"object\") {\r\n      $.extend(this.userOptions, options); // user passed options\r\n      // remask\r\n      if (this.el && noremask !== true) {\r\n        this.mask(this.el);\r\n      }\r\n      return this;\r\n    }\r\n  },\r\n  unmaskedvalue: function (value) {\r\n    this.maskset =\r\n      this.maskset || generateMaskSet(this.opts, this.noMasksCache);\r\n    if (this.el === undefined || value !== undefined) {\r\n      const valueBuffer = (\r\n        typeof this.opts.onBeforeMask === \"function\"\r\n          ? this.opts.onBeforeMask.call(this, value, this.opts) || value\r\n          : value\r\n      ).split(\"\");\r\n      checkVal.call(this, undefined, false, false, valueBuffer);\r\n      if (typeof this.opts.onBeforeWrite === \"function\")\r\n        this.opts.onBeforeWrite.call(\r\n          this,\r\n          undefined,\r\n          getBuffer.call(this),\r\n          0,\r\n          this.opts\r\n        );\r\n    }\r\n    return unmaskedvalue.call(this, this.el);\r\n  },\r\n  remove: function () {\r\n    if (this.el) {\r\n      $.data(this.el, dataKey, null); // invalidate\r\n      // writeout the value\r\n      const cv = this.opts.autoUnmask\r\n        ? unmaskedvalue(this.el)\r\n        : this._valueGet(this.opts.autoUnmask);\r\n      if (cv !== getBufferTemplate.call(this).join(\"\"))\r\n        this._valueSet(cv, this.opts.autoUnmask);\r\n      else this._valueSet(\"\");\r\n      // unbind all events\r\n      EventRuler.off(this.el);\r\n\r\n      // restore the value property\r\n      let valueProperty;\r\n      if (Object.getOwnPropertyDescriptor && Object.getPrototypeOf) {\r\n        valueProperty = Object.getOwnPropertyDescriptor(\r\n          Object.getPrototypeOf(this.el),\r\n          \"value\"\r\n        );\r\n        if (valueProperty) {\r\n          if (this.__valueGet) {\r\n            Object.defineProperty(this.el, \"value\", {\r\n              get: this.__valueGet,\r\n              set: this.__valueSet,\r\n              configurable: true\r\n            });\r\n          }\r\n        }\r\n      } else if (\r\n        document.__lookupGetter__ &&\r\n        this.el.__lookupGetter__(\"value\")\r\n      ) {\r\n        if (this.__valueGet) {\r\n          this.el.__defineGetter__(\"value\", this.__valueGet);\r\n          this.el.__defineSetter__(\"value\", this.__valueSet);\r\n        }\r\n      }\r\n      // clear data\r\n      this.el.inputmask = undefined;\r\n    }\r\n    return this.el;\r\n  },\r\n  getemptymask: function () {\r\n    // return the default (empty) mask value, usefull for setting the default value in validation\r\n    this.maskset =\r\n      this.maskset || generateMaskSet(this.opts, this.noMasksCache);\r\n    return (\r\n      this.isRTL\r\n        ? getBufferTemplate.call(this).reverse()\r\n        : getBufferTemplate.call(this)\r\n    ).join(\"\");\r\n  },\r\n  hasMaskedValue: function () {\r\n    // check wheter the returned value is masked or not; currently only works reliable when using jquery.val fn to retrieve the value\r\n    return !this.opts.autoUnmask;\r\n  },\r\n  isComplete: function () {\r\n    this.maskset =\r\n      this.maskset || generateMaskSet(this.opts, this.noMasksCache);\r\n    return isComplete.call(this, getBuffer.call(this));\r\n  },\r\n  getmetadata: function () {\r\n    // return mask metadata if exists\r\n    this.maskset =\r\n      this.maskset || generateMaskSet(this.opts, this.noMasksCache);\r\n    if (Array.isArray(this.maskset.metadata)) {\r\n      let maskTarget = getMaskTemplate.call(this, true, 0, false).join(\"\");\r\n      this.maskset.metadata.forEach(function (mtdt) {\r\n        if (mtdt.mask === maskTarget) {\r\n          maskTarget = mtdt;\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      });\r\n      return maskTarget;\r\n    }\r\n    return this.maskset.metadata;\r\n  },\r\n  isValid: function (value) {\r\n    this.maskset =\r\n      this.maskset || generateMaskSet(this.opts, this.noMasksCache);\r\n    if (value) {\r\n      const valueBuffer = (\r\n        typeof this.opts.onBeforeMask === \"function\"\r\n          ? this.opts.onBeforeMask.call(this, value, this.opts) || value\r\n          : value\r\n      ).split(\"\");\r\n      checkVal.call(this, undefined, true, false, valueBuffer);\r\n    } else {\r\n      value = this.isRTL\r\n        ? getBuffer.call(this).slice().reverse().join(\"\")\r\n        : getBuffer.call(this).join(\"\");\r\n    }\r\n    let buffer = getBuffer.call(this),\r\n      rl = determineLastRequiredPosition.call(this),\r\n      lmib = buffer.length - 1;\r\n    for (; lmib > rl; lmib--) {\r\n      if (isMask.call(this, lmib)) break;\r\n    }\r\n    buffer.splice(rl, lmib + 1 - rl);\r\n\r\n    return (\r\n      isComplete.call(this, buffer) &&\r\n      value ===\r\n        (this.isRTL\r\n          ? getBuffer.call(this).slice().reverse().join(\"\")\r\n          : getBuffer.call(this).join(\"\"))\r\n    );\r\n  },\r\n  format: function (value, metadata) {\r\n    this.maskset =\r\n      this.maskset || generateMaskSet(this.opts, this.noMasksCache);\r\n    const valueBuffer = (\r\n      typeof this.opts.onBeforeMask === \"function\"\r\n        ? this.opts.onBeforeMask.call(this, value, this.opts) || value\r\n        : value\r\n    ).split(\"\");\r\n    checkVal.call(this, undefined, true, false, valueBuffer);\r\n    const formattedValue = this.isRTL\r\n      ? getBuffer.call(this).slice().reverse().join(\"\")\r\n      : getBuffer.call(this).join(\"\");\r\n    return metadata\r\n      ? {\r\n          value: formattedValue,\r\n          metadata: this.getmetadata()\r\n        }\r\n      : formattedValue;\r\n  },\r\n  setValue: function (value) {\r\n    if (this.el) {\r\n      $(this.el).trigger(\"setvalue\", [value]);\r\n    }\r\n  },\r\n  analyseMask\r\n};\r\n\r\nfunction resolveAlias(aliasStr, options, opts) {\r\n  const aliasDefinition = Inputmask.prototype.aliases[aliasStr];\r\n  if (aliasDefinition) {\r\n    if (aliasDefinition.alias)\r\n      resolveAlias(aliasDefinition.alias, undefined, opts); // alias is another alias\r\n    $.extend(true, opts, aliasDefinition); // merge alias definition in the options\r\n    $.extend(true, opts, options); // reapply extra given options\r\n    return true;\r\n  } // alias not found - try as mask\r\n  else if (opts.mask === null) {\r\n    opts.mask = aliasStr;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction importAttributeOptions(npt, opts, userOptions, dataAttribute) {\r\n  function importOption(option, optionData) {\r\n    const attrOption =\r\n      dataAttribute === \"\" ? option : dataAttribute + \"-\" + option;\r\n    optionData =\r\n      optionData !== undefined ? optionData : npt.getAttribute(attrOption);\r\n    if (optionData !== null) {\r\n      if (typeof optionData === \"string\") {\r\n        if (option.indexOf(\"on\") === 0) {\r\n          optionData = window[optionData];\r\n        } // get function definition\r\n        else if (optionData === \"false\") {\r\n          optionData = false;\r\n        } else if (optionData === \"true\") optionData = true;\r\n      }\r\n      userOptions[option] = optionData;\r\n    }\r\n  }\r\n\r\n  if (opts.importDataAttributes === true) {\r\n    let attrOptions = npt.getAttribute(dataAttribute),\r\n      option,\r\n      dataoptions,\r\n      optionData,\r\n      p;\r\n\r\n    if (attrOptions && attrOptions !== \"\") {\r\n      attrOptions = attrOptions.replace(/'/g, '\"');\r\n      dataoptions = JSON.parse(\"{\" + attrOptions + \"}\");\r\n    }\r\n\r\n    // resolve aliases\r\n    if (dataoptions) {\r\n      // pickup alias from dataAttribute\r\n      optionData = undefined;\r\n      for (p in dataoptions) {\r\n        if (p.toLowerCase() === \"alias\") {\r\n          optionData = dataoptions[p];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    importOption(\"alias\", optionData); // pickup alias from dataAttribute-alias\r\n    if (userOptions.alias) {\r\n      resolveAlias(userOptions.alias, userOptions, opts);\r\n    }\r\n\r\n    for (option in opts) {\r\n      if (dataoptions) {\r\n        optionData = undefined;\r\n        for (p in dataoptions) {\r\n          if (p.toLowerCase() === option.toLowerCase()) {\r\n            optionData = dataoptions[p];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      importOption(option, optionData);\r\n    }\r\n  }\r\n  $.extend(true, opts, userOptions);\r\n\r\n  // handle dir=rtl\r\n  if (npt.dir === \"rtl\" || opts.rightAlign) {\r\n    npt.style.textAlign = \"right\";\r\n  }\r\n\r\n  if (npt.dir === \"rtl\" || opts.numericInput) {\r\n    npt.dir = \"ltr\";\r\n    npt.removeAttribute(\"dir\");\r\n    opts.isRTL = true;\r\n  }\r\n\r\n  return Object.keys(userOptions).length;\r\n}\r\n\r\n// apply defaults, definitions, aliases\r\nInputmask.extendDefaults = function (options) {\r\n  $.extend(true, Inputmask.prototype.defaults, options);\r\n};\r\nInputmask.extendDefinitions = function (definition) {\r\n  $.extend(true, Inputmask.prototype.definitions, definition);\r\n};\r\nInputmask.extendAliases = function (alias) {\r\n  $.extend(true, Inputmask.prototype.aliases, alias);\r\n};\r\n// static fn on inputmask\r\nInputmask.format = function (value, options, metadata) {\r\n  return Inputmask(options).format(value, metadata);\r\n};\r\nInputmask.unmask = function (value, options) {\r\n  return Inputmask(options).unmaskedvalue(value);\r\n};\r\nInputmask.isValid = function (value, options) {\r\n  return Inputmask(options).isValid(value);\r\n};\r\nInputmask.remove = function (elems) {\r\n  if (typeof elems === \"string\") {\r\n    elems = document.getElementById(elems) || document.querySelectorAll(elems);\r\n  }\r\n  elems = elems.nodeName ? [elems] : elems;\r\n  elems.forEach(function (el) {\r\n    if (el.inputmask) el.inputmask.remove();\r\n  });\r\n};\r\nInputmask.setValue = function (elems, value) {\r\n  if (typeof elems === \"string\") {\r\n    elems = document.getElementById(elems) || document.querySelectorAll(elems);\r\n  }\r\n  elems = elems.nodeName ? [elems] : elems;\r\n  elems.forEach(function (el) {\r\n    if (el.inputmask) el.inputmask.setValue(value);\r\n    else $(el).trigger(\"setvalue\", [value]);\r\n  });\r\n};\r\n\r\nInputmask.dependencyLib = $;\r\n\r\n// make inputmask available\r\nwindow.Inputmask = Inputmask;\r\nexport default Inputmask;\r\n","import window from \"./global/window\";\r\nimport Inputmask from \"./inputmask\";\r\n\r\nconst document = window.document;\r\n\r\n// add check if it is supported by the browser\r\n// integrate shadowroot into maskcope\r\nif (\r\n  document &&\r\n  document.head &&\r\n  document.head.attachShadow &&\r\n  window.customElements &&\r\n  window.customElements.get(\"input-mask\") === undefined\r\n) {\r\n  class InputmaskElement extends HTMLElement {\r\n    constructor() {\r\n      super();\r\n      const attributeNames = this.getAttributeNames(),\r\n        shadow = this.attachShadow({ mode: \"closed\" });\r\n      this.input = document.createElement(\"input\");\r\n      this.input.type = \"text\";\r\n      shadow.appendChild(this.input);\r\n\r\n      for (const attr in attributeNames) {\r\n        if (Object.prototype.hasOwnProperty.call(attributeNames, attr)) {\r\n          this.input.setAttribute(\r\n            attributeNames[attr],\r\n            this.getAttribute(attributeNames[attr])\r\n          );\r\n        }\r\n      }\r\n\r\n      const im = new Inputmask();\r\n      im.dataAttribute = \"\";\r\n      im.mask(this.input);\r\n      this.input.inputmask.shadowRoot = shadow; // make the shadowRoot available\r\n    }\r\n\r\n    attributeChangedCallback(attrName, oldVal, newVal) {\r\n      this.input.setAttribute(attrName, newVal);\r\n    }\r\n\r\n    // bind value\r\n    get value() {\r\n      return this.input.value;\r\n    }\r\n\r\n    set value(value) {\r\n      this.input.value = value;\r\n    }\r\n  }\r\n\r\n  window.customElements.define(\"input-mask\", InputmaskElement);\r\n}\r\n","export { keyCode, toKey, toKeyCode, keys };\r\n\r\nconst ignorables = {\r\n  Alt: 18,\r\n  AltGraph: 18,\r\n  ArrowDown: 40,\r\n  ArrowLeft: 37,\r\n  ArrowRight: 39,\r\n  ArrowUp: 38,\r\n  Backspace: 8,\r\n  CapsLock: 20,\r\n  Control: 17,\r\n  ContextMenu: 93,\r\n  Dead: 221,\r\n  Delete: 46,\r\n  End: 35,\r\n  Escape: 27,\r\n  F1: 112,\r\n  F2: 113,\r\n  F3: 114,\r\n  F4: 115,\r\n  F5: 116,\r\n  F6: 117,\r\n  F7: 118,\r\n  F8: 119,\r\n  F9: 120,\r\n  F10: 121,\r\n  F11: 122,\r\n  F12: 123,\r\n  Home: 36,\r\n  Insert: 45,\r\n  NumLock: 144,\r\n  PageDown: 34,\r\n  PageUp: 33,\r\n  Pause: 19,\r\n  PrintScreen: 44,\r\n  Process: 229,\r\n  Shift: 16,\r\n  ScrollLock: 145,\r\n  Tab: 9,\r\n  Unidentified: 229\r\n};\r\n\r\nvar keyCode = {\r\n  c: 67,\r\n  x: 88,\r\n  z: 90,\r\n  BACKSPACE_SAFARI: 127,\r\n  Enter: 13,\r\n  Meta_LEFT: 91,\r\n  Meta_RIGHT: 92,\r\n  Space: 32,\r\n  ...ignorables\r\n};\r\n\r\nconst keyCodeRev = Object.entries(keyCode).reduce(\r\n    (acc, [key, value]) =>\r\n      (\r\n        // eslint-disable-next-line no-sequences\r\n        (acc[value] = acc[value] === undefined ? key : acc[value]), acc\r\n      ),\r\n    {}\r\n  ),\r\n  keys = Object.entries(keyCode).reduce(\r\n    // eslint-disable-next-line no-sequences\r\n    (acc, [key, value]) => ((acc[key] = key === \"Space\" ? \" \" : key), acc),\r\n    {}\r\n  );\r\n\r\nfunction toKey(keyCode, shiftKey) {\r\n  return (\r\n    keyCodeRev[keyCode] ||\r\n    (shiftKey\r\n      ? String.fromCharCode(keyCode)\r\n      : String.fromCharCode(keyCode).toLowerCase())\r\n  );\r\n}\r\n\r\nfunction toKeyCode(key) {\r\n  return keyCode[key];\r\n}\r\n","import $ from \"./dependencyLibs/inputmask.dependencyLib\";\r\nimport escapeRegex from \"./escapeRegex\";\r\nimport Inputmask from \"./inputmask\";\r\nimport MaskToken from \"./masktoken\";\r\n\r\nexport { generateMaskSet, analyseMask };\r\n\r\nfunction generateMaskSet(opts, nocache) {\r\n  let ms;\r\n\r\n  function preProcessMask(\r\n    mask,\r\n    { repeat, groupmarker, quantifiermarker, keepStatic }\r\n  ) {\r\n    if (repeat > 0 || repeat === \"*\" || repeat === \"+\") {\r\n      const repeatStart = repeat === \"*\" ? 0 : repeat === \"+\" ? 1 : repeat;\r\n      if (repeatStart != repeat) {\r\n        mask =\r\n          groupmarker[0] +\r\n          mask +\r\n          groupmarker[1] +\r\n          quantifiermarker[0] +\r\n          repeatStart +\r\n          \",\" +\r\n          repeat +\r\n          quantifiermarker[1];\r\n      } else {\r\n        // repeat the mask n times\r\n        const msk = mask;\r\n        for (let i = 1; i < repeatStart; i++) {\r\n          mask += msk;\r\n        }\r\n      }\r\n    }\r\n    if (keepStatic === true) {\r\n      const optionalRegex = \"(.)\\\\[([^\\\\]]*)\\\\]\", // \"(?<p1>.)\\\\[(?<p2>[^\\\\]]*)\\\\]\", remove named capture group @2428\r\n        maskMatches = mask.match(new RegExp(optionalRegex, \"g\"));\r\n      maskMatches &&\r\n        maskMatches.forEach((m, i) => {\r\n          let [p1, p2] = m.split(\"[\");\r\n          p2 = p2.replace(\"]\", \"\");\r\n          mask = mask.replace(\r\n            new RegExp(`${escapeRegex(p1)}\\\\[${escapeRegex(p2)}\\\\]`),\r\n            p1.charAt(0) === p2.charAt(0)\r\n              ? `(${p1}|${p1}${p2})`\r\n              : `${p1}[${p2}]`\r\n          );\r\n          // console.log(mask);\r\n        });\r\n    }\r\n\r\n    return mask;\r\n  }\r\n\r\n  function generateMask(mask, metadata, opts) {\r\n    let regexMask = false;\r\n    if (mask === null || mask === \"\") {\r\n      regexMask = opts.regex !== null;\r\n      if (regexMask) {\r\n        mask = opts.regex;\r\n        mask = mask.replace(/^(\\^)(.*)(\\$)$/, \"$2\");\r\n      } else {\r\n        regexMask = true;\r\n        mask = \".*\";\r\n      }\r\n    }\r\n    if (mask.length === 1 && opts.greedy === false && opts.repeat !== 0) {\r\n      opts.placeholder = \"\";\r\n    } // hide placeholder with single non-greedy mask\r\n    mask = preProcessMask(mask, opts);\r\n\r\n    // console.log(mask);\r\n    let masksetDefinition, maskdefKey;\r\n    maskdefKey = regexMask\r\n      ? \"regex_\" + opts.regex\r\n      : opts.numericInput\r\n      ? mask.split(\"\").reverse().join(\"\")\r\n      : mask;\r\n    if (opts.keepStatic !== null) {\r\n      // keepstatic modifies the output from the testdefinitions ~ so differentiate in the maskcache\r\n      maskdefKey = \"ks_\" + opts.keepStatic + maskdefKey;\r\n    }\r\n    if (typeof opts.placeholder === \"object\") {\r\n      // placeholder object modifies the output from the testdefinitions ~ so differentiate in the maskcache\r\n      maskdefKey = \"ph_\" + JSON.stringify(opts.placeholder) + maskdefKey;\r\n    }\r\n\r\n    if (\r\n      Inputmask.prototype.masksCache[maskdefKey] === undefined ||\r\n      nocache === true\r\n    ) {\r\n      masksetDefinition = {\r\n        mask,\r\n        maskToken: Inputmask.prototype.analyseMask(mask, regexMask, opts),\r\n        validPositions: [],\r\n        _buffer: undefined,\r\n        buffer: undefined,\r\n        tests: {},\r\n        excludes: {}, // excluded alternations\r\n        metadata,\r\n        maskLength: undefined,\r\n        jitOffset: {}\r\n      };\r\n      if (nocache !== true) {\r\n        Inputmask.prototype.masksCache[maskdefKey] = masksetDefinition;\r\n        masksetDefinition = $.extend(\r\n          true,\r\n          {},\r\n          Inputmask.prototype.masksCache[maskdefKey]\r\n        );\r\n      }\r\n    } else {\r\n      masksetDefinition = $.extend(\r\n        true,\r\n        {},\r\n        Inputmask.prototype.masksCache[maskdefKey]\r\n      );\r\n    }\r\n\r\n    return masksetDefinition;\r\n  }\r\n\r\n  if (typeof opts.mask === \"function\") {\r\n    // allow mask to be a preprocessing fn - should return a valid mask\r\n    opts.mask = opts.mask(opts);\r\n  }\r\n  if (Array.isArray(opts.mask)) {\r\n    if (opts.mask.length > 1) {\r\n      if (opts.keepStatic === null) {\r\n        // enable by default when passing multiple masks when the option is not explicitly specified\r\n        opts.keepStatic = true;\r\n      }\r\n      let altMask = opts.groupmarker[0];\r\n      (opts.isRTL ? opts.mask.reverse() : opts.mask).forEach(function (msk) {\r\n        if (altMask.length > 1) {\r\n          altMask += opts.alternatormarker;\r\n        }\r\n        if (msk.mask !== undefined && typeof msk.mask !== \"function\") {\r\n          altMask += msk.mask;\r\n        } else {\r\n          altMask += msk;\r\n        }\r\n      });\r\n      altMask += opts.groupmarker[1];\r\n      // console.log(altMask);\r\n      return generateMask(altMask, opts.mask, opts);\r\n    } else {\r\n      opts.mask = opts.mask.pop();\r\n    }\r\n  }\r\n  if (\r\n    opts.mask &&\r\n    opts.mask.mask !== undefined &&\r\n    typeof opts.mask.mask !== \"function\"\r\n  ) {\r\n    ms = generateMask(opts.mask.mask, opts.mask, opts);\r\n  } else {\r\n    ms = generateMask(opts.mask, opts.mask, opts);\r\n  }\r\n  if (opts.keepStatic === null) opts.keepStatic = false;\r\n  return ms;\r\n}\r\n\r\nfunction analyseMask(mask, regexMask, opts) {\r\n  const tokenizer =\r\n      /(?:[?*+]|\\{[0-9+*]+(?:,[0-9+*]*)?(?:\\|[0-9+*]*)?\\})|[^.?*+^${[]()|\\\\]+|./g,\r\n    // Thx to https://github.com/slevithan/regex-colorizer for the regexTokenizer regex\r\n    regexTokenizer =\r\n      /\\[\\^?]?(?:[^\\\\\\]]+|\\\\[\\S\\s]?)*]?|\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\\S\\s]?)|\\((?:\\?[:=!]?)?|(?:[?*+]|\\{[0-9]+(?:,[0-9]*)?\\})\\??|[^.?*+^${[()|\\\\]+|./g;\r\n  let escaped = false,\r\n    currentToken = new MaskToken(),\r\n    match,\r\n    m,\r\n    openenings = [],\r\n    maskTokens = [],\r\n    openingToken,\r\n    currentOpeningToken,\r\n    alternator,\r\n    lastMatch,\r\n    closeRegexGroup = false;\r\n\r\n  // test definition => {fn: RegExp/function, static: true/false optionality: bool, newBlockMarker: bool, casing: null/upper/lower, def: definitionSymbol, placeholder: placeholder, mask: real maskDefinition}\r\n  function insertTestDefinition(mtoken, element, position) {\r\n    position = position !== undefined ? position : mtoken.matches.length;\r\n    // console.log(element, position, currentToken.matches.length);\r\n    // if (typeof opts.placeholder === \"string\")\r\n    // \tconsole.log(opts.placeholder.charAt(currentToken.matches.length % opts.placeholder.length));\r\n    let prevMatch = mtoken.matches[position - 1];\r\n    if (regexMask) {\r\n      if (\r\n        element.indexOf(\"[\") === 0 ||\r\n        (escaped && /\\\\d|\\\\s|\\\\w|\\\\p/i.test(element)) ||\r\n        element === \".\"\r\n      ) {\r\n        let flag = opts.casing ? \"i\" : \"\";\r\n        if (/\\\\p\\{.*}/i.test(element)) flag += \"u\";\r\n        mtoken.matches.splice(position++, 0, {\r\n          fn: new RegExp(element, flag),\r\n          static: false,\r\n          optionality: false,\r\n          newBlockMarker:\r\n            prevMatch === undefined ? \"master\" : prevMatch.def !== element,\r\n          casing: null,\r\n          def: element,\r\n          placeholder:\r\n            typeof opts.placeholder === \"object\"\r\n              ? opts.placeholder[currentToken.matches.length]\r\n              : undefined,\r\n          nativeDef: element\r\n        });\r\n      } else {\r\n        if (escaped) element = element[element.length - 1];\r\n        element.split(\"\").forEach(function (lmnt, ndx) {\r\n          prevMatch = mtoken.matches[position - 1];\r\n          mtoken.matches.splice(position++, 0, {\r\n            fn: /[a-z]/i.test(opts.staticDefinitionSymbol || lmnt)\r\n              ? new RegExp(\r\n                  \"[\" + (opts.staticDefinitionSymbol || lmnt) + \"]\",\r\n                  opts.casing ? \"i\" : \"\"\r\n                )\r\n              : null,\r\n            static: true,\r\n            optionality: false,\r\n            newBlockMarker:\r\n              prevMatch === undefined\r\n                ? \"master\"\r\n                : prevMatch.def !== lmnt && prevMatch.static !== true,\r\n            casing: null,\r\n            def: opts.staticDefinitionSymbol || lmnt,\r\n            placeholder:\r\n              opts.staticDefinitionSymbol !== undefined\r\n                ? lmnt\r\n                : typeof opts.placeholder === \"object\"\r\n                ? opts.placeholder[currentToken.matches.length]\r\n                : undefined,\r\n            nativeDef: (escaped ? \"'\" : \"\") + lmnt\r\n          });\r\n        });\r\n      }\r\n      escaped = false;\r\n    } else {\r\n      const maskdef =\r\n        (opts.definitions && opts.definitions[element]) ||\r\n        (opts.usePrototypeDefinitions &&\r\n          Inputmask.prototype.definitions[element]);\r\n      if (maskdef && !escaped) {\r\n        mtoken.matches.splice(position++, 0, {\r\n          fn: maskdef.validator\r\n            ? typeof maskdef.validator === \"string\"\r\n              ? new RegExp(maskdef.validator, opts.casing ? \"i\" : \"\")\r\n              : new (function () {\r\n                  this.test = maskdef.validator;\r\n                })()\r\n            : /./,\r\n          static: maskdef.static || false,\r\n          optionality: maskdef.optional || false,\r\n          defOptionality: maskdef.optional || false, // indicator for an optional from the definition\r\n          newBlockMarker:\r\n            prevMatch === undefined || maskdef.optional\r\n              ? \"master\"\r\n              : prevMatch.def !== (maskdef.definitionSymbol || element),\r\n          casing: maskdef.casing,\r\n          def: maskdef.definitionSymbol || element,\r\n          placeholder: maskdef.placeholder,\r\n          nativeDef: element,\r\n          generated: maskdef.generated\r\n        });\r\n      } else {\r\n        mtoken.matches.splice(position++, 0, {\r\n          fn: /[a-z]/i.test(opts.staticDefinitionSymbol || element)\r\n            ? new RegExp(\r\n                \"[\" + (opts.staticDefinitionSymbol || element) + \"]\",\r\n                opts.casing ? \"i\" : \"\"\r\n              )\r\n            : null,\r\n          static: true,\r\n          optionality: false,\r\n          newBlockMarker:\r\n            prevMatch === undefined\r\n              ? \"master\"\r\n              : prevMatch.def !== element && prevMatch.static !== true,\r\n          casing: null,\r\n          def: opts.staticDefinitionSymbol || element,\r\n          placeholder:\r\n            opts.staticDefinitionSymbol !== undefined ? element : undefined,\r\n          nativeDef: (escaped ? \"'\" : \"\") + element\r\n        });\r\n        escaped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function verifyGroupMarker(maskToken) {\r\n    if (maskToken && maskToken.matches) {\r\n      maskToken.matches.forEach(function (token, ndx) {\r\n        const nextToken = maskToken.matches[ndx + 1];\r\n        if (\r\n          (nextToken === undefined ||\r\n            nextToken.matches === undefined ||\r\n            nextToken.isQuantifier === false) &&\r\n          token &&\r\n          token.isGroup\r\n        ) {\r\n          // this is not a group but a normal mask => convert\r\n          token.isGroup = false;\r\n          if (!regexMask) {\r\n            insertTestDefinition(token, opts.groupmarker[0], 0);\r\n            if (token.openGroup !== true) {\r\n              insertTestDefinition(token, opts.groupmarker[1]);\r\n            }\r\n          }\r\n        }\r\n        verifyGroupMarker(token);\r\n      });\r\n    }\r\n  }\r\n\r\n  function defaultCase() {\r\n    if (openenings.length > 0) {\r\n      currentOpeningToken = openenings[openenings.length - 1];\r\n      insertTestDefinition(currentOpeningToken, m);\r\n      if (currentOpeningToken.isAlternator) {\r\n        // handle alternator a | b case\r\n        alternator = openenings.pop();\r\n        for (let mndx = 0; mndx < alternator.matches.length; mndx++) {\r\n          if (alternator.matches[mndx].isGroup)\r\n            alternator.matches[mndx].isGroup = false; // don't mark alternate groups as group\r\n        }\r\n        if (openenings.length > 0) {\r\n          currentOpeningToken = openenings[openenings.length - 1];\r\n          currentOpeningToken.matches.push(alternator);\r\n        } else {\r\n          currentToken.matches.push(alternator);\r\n        }\r\n      }\r\n    } else {\r\n      insertTestDefinition(currentToken, m);\r\n    }\r\n  }\r\n\r\n  function reverseTokens(maskToken) {\r\n    function reverseStatic(st) {\r\n      if (st === opts.optionalmarker[0]) {\r\n        st = opts.optionalmarker[1];\r\n      } else if (st === opts.optionalmarker[1]) {\r\n        st = opts.optionalmarker[0];\r\n      } else if (st === opts.groupmarker[0]) {\r\n        st = opts.groupmarker[1];\r\n      } else if (st === opts.groupmarker[1]) st = opts.groupmarker[0];\r\n\r\n      return st;\r\n    }\r\n\r\n    maskToken.matches = maskToken.matches.reverse();\r\n    for (const match in maskToken.matches) {\r\n      if (Object.prototype.hasOwnProperty.call(maskToken.matches, match)) {\r\n        const intMatch = parseInt(match);\r\n        if (\r\n          maskToken.matches[match].isQuantifier &&\r\n          maskToken.matches[intMatch + 1] &&\r\n          maskToken.matches[intMatch + 1].isGroup\r\n        ) {\r\n          // reposition quantifier\r\n          const qt = maskToken.matches[match];\r\n          maskToken.matches.splice(match, 1);\r\n          maskToken.matches.splice(intMatch + 1, 0, qt);\r\n        }\r\n        if (maskToken.matches[match].matches !== undefined) {\r\n          maskToken.matches[match] = reverseTokens(maskToken.matches[match]);\r\n        } else {\r\n          maskToken.matches[match] = reverseStatic(maskToken.matches[match]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return maskToken;\r\n  }\r\n\r\n  function groupify(matches) {\r\n    const groupToken = new MaskToken(true);\r\n    groupToken.openGroup = false;\r\n    groupToken.matches = matches;\r\n    return groupToken;\r\n  }\r\n\r\n  function closeGroup() {\r\n    // Group closing\r\n    openingToken = openenings.pop();\r\n    openingToken.openGroup = false; // mark group as complete\r\n    if (openingToken !== undefined) {\r\n      if (openenings.length > 0) {\r\n        currentOpeningToken = openenings[openenings.length - 1];\r\n        currentOpeningToken.matches.push(openingToken);\r\n        if (currentOpeningToken.isAlternator) {\r\n          // handle alternator (a) | (b) case\r\n          alternator = openenings.pop();\r\n          for (let mndx = 0; mndx < alternator.matches.length; mndx++) {\r\n            alternator.matches[mndx].isGroup = false; // don't mark alternate groups as group\r\n            alternator.matches[mndx].alternatorGroup = false;\r\n          }\r\n          if (openenings.length > 0) {\r\n            currentOpeningToken = openenings[openenings.length - 1];\r\n            currentOpeningToken.matches.push(alternator);\r\n          } else {\r\n            currentToken.matches.push(alternator);\r\n          }\r\n        }\r\n      } else {\r\n        currentToken.matches.push(openingToken);\r\n      }\r\n    } else {\r\n      defaultCase();\r\n    }\r\n  }\r\n\r\n  function groupQuantifier(matches) {\r\n    let lastMatch = matches.pop();\r\n    if (lastMatch.isQuantifier) {\r\n      lastMatch = groupify([matches.pop(), lastMatch]);\r\n    }\r\n    return lastMatch;\r\n  }\r\n\r\n  if (regexMask) {\r\n    opts.optionalmarker[0] = undefined;\r\n    opts.optionalmarker[1] = undefined;\r\n  }\r\n  // console.log(mask);\r\n  while (\r\n    (match = regexMask ? regexTokenizer.exec(mask) : tokenizer.exec(mask))\r\n  ) {\r\n    // console.log(match);\r\n    m = match[0];\r\n\r\n    if (regexMask) {\r\n      switch (m.charAt(0)) {\r\n        // Quantifier\r\n        case \"?\":\r\n          m = \"{0,1}\";\r\n          break;\r\n        case \"+\":\r\n        case \"*\":\r\n          m = \"{\" + m + \"}\";\r\n          break;\r\n        case \"|\":\r\n          // regex mask alternator  ex: [01][0-9]|2[0-3] => ([01][0-9]|2[0-3])\r\n          if (openenings.length === 0) {\r\n            // wrap the mask in a group to form a regex alternator  ([01][0-9]|2[0-3])\r\n            const altRegexGroup = groupify(currentToken.matches);\r\n            altRegexGroup.openGroup = true;\r\n            openenings.push(altRegexGroup);\r\n            currentToken.matches = [];\r\n            closeRegexGroup = true;\r\n          }\r\n          break;\r\n      }\r\n      switch (m) {\r\n        case \"\\\\d\":\r\n          m = \"[0-9]\";\r\n          break;\r\n        case \"\\\\p\": // Unicode Categories\r\n          m += regexTokenizer.exec(mask)[0]; // {\r\n          m += regexTokenizer.exec(mask)[0]; // ?}\r\n          break;\r\n        case \"(?:\": // non capturing group\r\n        case \"(?=\": // lookahead\r\n        case \"(?!\": // negative lookahead\r\n        case \"(?<=\": // lookbehind\r\n        case \"(?<!\": // negative lookbehind\r\n          // treat as group\r\n          break;\r\n      }\r\n    }\r\n\r\n    if (escaped) {\r\n      defaultCase();\r\n      continue;\r\n    }\r\n    switch (m.charAt(0)) {\r\n      case \"$\":\r\n      case \"^\":\r\n        // ignore beginswith and endswith as in masking this makes no point\r\n        if (!regexMask) {\r\n          defaultCase();\r\n        }\r\n        break;\r\n      case opts.escapeChar:\r\n        escaped = true;\r\n        if (regexMask) defaultCase();\r\n        break;\r\n      // optional closing\r\n      case opts.optionalmarker[1]:\r\n      case opts.groupmarker[1]:\r\n        closeGroup();\r\n        break;\r\n      case opts.optionalmarker[0]:\r\n        // optional opening\r\n        openenings.push(new MaskToken(false, true));\r\n        break;\r\n      case opts.groupmarker[0]:\r\n        // Group opening\r\n        openenings.push(new MaskToken(true));\r\n        break;\r\n      case opts.quantifiermarker[0]:\r\n        // Quantifier\r\n        var quantifier = new MaskToken(false, false, true);\r\n\r\n        m = m.replace(/[{}?]/g, \"\"); // ? matches lazy quantifiers\r\n        var mqj = m.split(\"|\"),\r\n          mq = mqj[0].split(\",\"),\r\n          mq0 = isNaN(mq[0]) ? mq[0] : parseInt(mq[0]),\r\n          mq1 = mq.length === 1 ? mq0 : isNaN(mq[1]) ? mq[1] : parseInt(mq[1]),\r\n          mqJit = isNaN(mqj[1]) ? mqj[1] : parseInt(mqj[1]);\r\n        if (mq0 === \"*\" || mq0 === \"+\") {\r\n          mq0 = mq1 === \"*\" ? 0 : 1;\r\n        }\r\n        quantifier.quantifier = {\r\n          min: mq0,\r\n          max: mq1,\r\n          jit: mqJit\r\n        };\r\n        var matches =\r\n          openenings.length > 0\r\n            ? openenings[openenings.length - 1].matches\r\n            : currentToken.matches;\r\n        match = matches.pop();\r\n        // if (match.isAlternator) { //handle quantifier in an alternation [0-9]{2}|[0-9]{3}\r\n        //     matches.push(match); //push back alternator\r\n        //     matches = match.matches; //remap target matches\r\n        //     var groupToken = new MaskToken(true);\r\n        //     var tmpMatch = matches.pop();\r\n        //     matches.push(groupToken); //push the group\r\n        //     matches = groupToken.matches;\r\n        //     match = tmpMatch;\r\n        // }\r\n        if (!match.isGroup) {\r\n          match = groupify([match]);\r\n        }\r\n        matches.push(match);\r\n        matches.push(quantifier);\r\n\r\n        break;\r\n      case opts.alternatormarker:\r\n        if (openenings.length > 0) {\r\n          currentOpeningToken = openenings[openenings.length - 1];\r\n          const subToken =\r\n            currentOpeningToken.matches[currentOpeningToken.matches.length - 1];\r\n          if (\r\n            currentOpeningToken.openGroup && // regexp alt syntax\r\n            (subToken.matches === undefined ||\r\n              (subToken.isGroup === false && subToken.isAlternator === false))\r\n          ) {\r\n            // alternations within group\r\n            lastMatch = openenings.pop();\r\n          } else {\r\n            lastMatch = groupQuantifier(currentOpeningToken.matches);\r\n          }\r\n        } else {\r\n          lastMatch = groupQuantifier(currentToken.matches);\r\n        }\r\n        if (lastMatch.isAlternator) {\r\n          openenings.push(lastMatch);\r\n        } else {\r\n          if (lastMatch.alternatorGroup) {\r\n            alternator = openenings.pop();\r\n            lastMatch.alternatorGroup = false;\r\n          } else {\r\n            alternator = new MaskToken(false, false, false, true);\r\n          }\r\n          alternator.matches.push(lastMatch);\r\n          openenings.push(alternator);\r\n          if (lastMatch.openGroup) {\r\n            // regexp alt syntax\r\n            lastMatch.openGroup = false;\r\n            const alternatorGroup = new MaskToken(true);\r\n            alternatorGroup.alternatorGroup = true;\r\n            openenings.push(alternatorGroup);\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        defaultCase();\r\n    }\r\n  }\r\n\r\n  if (closeRegexGroup) closeGroup();\r\n\r\n  while (openenings.length > 0) {\r\n    openingToken = openenings.pop();\r\n    currentToken.matches.push(openingToken);\r\n  }\r\n  if (currentToken.matches.length > 0) {\r\n    verifyGroupMarker(currentToken);\r\n    maskTokens.push(currentToken);\r\n  }\r\n\r\n  if (opts.numericInput || opts.isRTL) {\r\n    reverseTokens(maskTokens[0]);\r\n  }\r\n  // console.log(JSON.stringify(maskTokens));\r\n  return maskTokens;\r\n}\r\n","import { iphone, mobile } from \"./environment\";\r\nimport { EventHandlers } from \"./eventhandlers\";\r\nimport { EventRuler } from \"./eventruler\";\r\nimport {\r\n  applyInputValue,\r\n  clearOptionalTail,\r\n  writeBuffer\r\n} from \"./inputHandling\";\r\nimport {\r\n  caret,\r\n  getBuffer,\r\n  getBufferTemplate,\r\n  getLastValidPosition,\r\n  resetMaskSet,\r\n  seekNext\r\n} from \"./positioning\";\r\nimport { isComplete } from \"./validation\";\r\n\r\nexport { mask };\r\n\r\n// todo put on the prototype?\r\nfunction mask() {\r\n  const inputmask = this,\r\n    opts = this.opts,\r\n    el = this.el,\r\n    $ = this.dependencyLib;\r\n\r\n  function isElementTypeSupported(input, opts) {\r\n    function patchValueProperty(npt) {\r\n      let valueGet, valueSet;\r\n\r\n      function patchValhook(type) {\r\n        if (\r\n          $.valHooks &&\r\n          ($.valHooks[type] === undefined ||\r\n            $.valHooks[type].inputmaskpatch !== true)\r\n        ) {\r\n          const valhookGet =\r\n              $.valHooks[type] && $.valHooks[type].get\r\n                ? $.valHooks[type].get\r\n                : function (elem) {\r\n                    return elem.value;\r\n                  },\r\n            valhookSet =\r\n              $.valHooks[type] && $.valHooks[type].set\r\n                ? $.valHooks[type].set\r\n                : function (elem, value) {\r\n                    elem.value = value;\r\n                    return elem;\r\n                  };\r\n\r\n          $.valHooks[type] = {\r\n            get: function (elem) {\r\n              if (elem.inputmask) {\r\n                if (elem.inputmask.opts.autoUnmask) {\r\n                  return elem.inputmask.unmaskedvalue();\r\n                } else {\r\n                  const result = valhookGet(elem);\r\n                  return getLastValidPosition.call(\r\n                    inputmask,\r\n                    undefined,\r\n                    undefined,\r\n                    elem.inputmask.maskset.validPositions\r\n                  ) !== -1 || opts.nullable !== true\r\n                    ? result\r\n                    : \"\";\r\n                }\r\n              } else {\r\n                return valhookGet(elem);\r\n              }\r\n            },\r\n            set: function (elem, value) {\r\n              const result = valhookSet(elem, value);\r\n              if (elem.inputmask) {\r\n                applyInputValue(elem, value);\r\n              }\r\n              return result;\r\n            },\r\n            inputmaskpatch: true\r\n          };\r\n        }\r\n      }\r\n\r\n      function getter() {\r\n        if (this.inputmask) {\r\n          return this.inputmask.opts.autoUnmask\r\n            ? this.inputmask.unmaskedvalue()\r\n            : getLastValidPosition.call(inputmask) !== -1 ||\r\n              opts.nullable !== true\r\n            ? (this.inputmask.shadowRoot || this.ownerDocument)\r\n                .activeElement === this && opts.clearMaskOnLostFocus\r\n              ? (inputmask.isRTL\r\n                  ? clearOptionalTail\r\n                      .call(inputmask, getBuffer.call(inputmask).slice())\r\n                      .reverse()\r\n                  : clearOptionalTail.call(\r\n                      inputmask,\r\n                      getBuffer.call(inputmask).slice()\r\n                    )\r\n                ).join(\"\")\r\n              : valueGet.call(this)\r\n            : \"\";\r\n        } else {\r\n          return valueGet.call(this);\r\n        }\r\n      }\r\n\r\n      function setter(value) {\r\n        valueSet.call(this, value);\r\n        if (this.inputmask) {\r\n          applyInputValue(this, value);\r\n        }\r\n      }\r\n\r\n      function installNativeValueSetFallback(npt) {\r\n        EventRuler.on(npt, \"mouseenter\", function () {\r\n          const input = this,\r\n            value = input.inputmask._valueGet(true),\r\n            bufferValue = (\r\n              input.inputmask.isRTL\r\n                ? getBuffer.call(input.inputmask).slice().reverse()\r\n                : getBuffer.call(input.inputmask)\r\n            ).join(\"\");\r\n          if (value != bufferValue) {\r\n            applyInputValue(input, value);\r\n          }\r\n        });\r\n      }\r\n\r\n      if (!npt.inputmask.__valueGet) {\r\n        if (opts.noValuePatching !== true) {\r\n          if (Object.getOwnPropertyDescriptor) {\r\n            const valueProperty = Object.getPrototypeOf\r\n              ? Object.getOwnPropertyDescriptor(\r\n                  Object.getPrototypeOf(npt),\r\n                  \"value\"\r\n                )\r\n              : undefined;\r\n            if (valueProperty && valueProperty.get && valueProperty.set) {\r\n              valueGet = valueProperty.get;\r\n              valueSet = valueProperty.set;\r\n              Object.defineProperty(npt, \"value\", {\r\n                get: getter,\r\n                set: setter,\r\n                configurable: true\r\n              });\r\n            } else if (npt.tagName.toLowerCase() !== \"input\") {\r\n              valueGet = function () {\r\n                return this.textContent;\r\n              };\r\n              valueSet = function (value) {\r\n                this.textContent = value;\r\n              };\r\n              Object.defineProperty(npt, \"value\", {\r\n                get: getter,\r\n                set: setter,\r\n                configurable: true\r\n              });\r\n            }\r\n          } else if (\r\n            document.__lookupGetter__ &&\r\n            npt.__lookupGetter__(\"value\")\r\n          ) {\r\n            valueGet = npt.__lookupGetter__(\"value\");\r\n            valueSet = npt.__lookupSetter__(\"value\");\r\n\r\n            npt.__defineGetter__(\"value\", getter);\r\n            npt.__defineSetter__(\"value\", setter);\r\n          }\r\n          npt.inputmask.__valueGet = valueGet; // store native property getter\r\n          npt.inputmask.__valueSet = valueSet; // store native property setter\r\n        }\r\n        npt.inputmask._valueGet = function (overruleRTL) {\r\n          return inputmask.isRTL && overruleRTL !== true\r\n            ? valueGet.call(this.el).split(\"\").reverse().join(\"\")\r\n            : valueGet.call(this.el);\r\n        };\r\n        npt.inputmask._valueSet = function (value, overruleRTL) {\r\n          // null check is needed for IE8 => otherwise converts to \"null\"\r\n          valueSet.call(\r\n            this.el,\r\n            value === null || value === undefined\r\n              ? \"\"\r\n              : overruleRTL !== true && inputmask.isRTL\r\n              ? value.split(\"\").reverse().join(\"\")\r\n              : value\r\n          );\r\n        };\r\n\r\n        if (valueGet === undefined) {\r\n          // jquery.val fallback\r\n          valueGet = function () {\r\n            return this.value;\r\n          };\r\n          valueSet = function (value) {\r\n            this.value = value;\r\n          };\r\n          patchValhook(npt.type);\r\n          installNativeValueSetFallback(npt);\r\n        }\r\n      }\r\n    }\r\n\r\n    // if (input.tagName.toLowerCase() !== \"textarea\") {\r\n    //     opts.ignorables.push(keys.Enter);\r\n    // }\r\n\r\n    let elementType = input.getAttribute(\"type\"),\r\n      isSupported =\r\n        (input.tagName.toLowerCase() === \"input\" &&\r\n          opts.supportsInputType.includes(elementType)) ||\r\n        input.isContentEditable ||\r\n        input.tagName.toLowerCase() === \"textarea\";\r\n    if (!isSupported) {\r\n      if (input.tagName.toLowerCase() === \"input\") {\r\n        let el = document.createElement(\"input\");\r\n        el.setAttribute(\"type\", elementType);\r\n        isSupported = el.type === \"text\"; // apply mask only if the type is not natively supported\r\n        el = null;\r\n      } else {\r\n        isSupported = \"partial\";\r\n      }\r\n    }\r\n    if (isSupported !== false) {\r\n      patchValueProperty(input);\r\n    } else {\r\n      input.inputmask = undefined;\r\n    }\r\n    return isSupported;\r\n  }\r\n\r\n  // unbind all events - to make sure that no other mask will interfere when re-masking\r\n  EventRuler.off(el);\r\n  const isSupported = isElementTypeSupported(el, opts);\r\n  if (isSupported !== false) {\r\n    inputmask.originalPlaceholder = el.placeholder;\r\n\r\n    // read maxlength prop from el\r\n    inputmask.maxLength = el !== undefined ? el.maxLength : undefined;\r\n    if (inputmask.maxLength === -1) inputmask.maxLength = undefined;\r\n    if (\"inputMode\" in el && el.getAttribute(\"inputmode\") === null) {\r\n      el.inputMode = opts.inputmode;\r\n      el.setAttribute(\"inputmode\", opts.inputmode);\r\n    }\r\n\r\n    if (isSupported === true) {\r\n      opts.showMaskOnFocus =\r\n        opts.showMaskOnFocus &&\r\n        [\"cc-number\", \"cc-exp\"].indexOf(el.autocomplete) === -1;\r\n      if (iphone) {\r\n        // selecting the caret shows as a selection on iphone\r\n        opts.insertModeVisual = false;\r\n        // disable autocorrect\r\n        el.setAttribute(\"autocorrect\", \"off\");\r\n      }\r\n\r\n      // bind events\r\n      EventRuler.on(el, \"submit\", EventHandlers.submitEvent);\r\n      EventRuler.on(el, \"reset\", EventHandlers.resetEvent);\r\n      EventRuler.on(el, \"blur\", EventHandlers.blurEvent);\r\n      EventRuler.on(el, \"focus\", EventHandlers.focusEvent);\r\n      // EventRuler.on(el, \"invalid\", EventHandlers.invalidEvent);\r\n      EventRuler.on(el, \"click\", EventHandlers.clickEvent);\r\n      EventRuler.on(el, \"mouseleave\", EventHandlers.mouseleaveEvent);\r\n      EventRuler.on(el, \"mouseenter\", EventHandlers.mouseenterEvent);\r\n      EventRuler.on(el, \"paste\", EventHandlers.pasteEvent);\r\n      EventRuler.on(el, \"cut\", EventHandlers.cutEvent);\r\n      EventRuler.on(el, \"complete\", opts.oncomplete);\r\n      EventRuler.on(el, \"incomplete\", opts.onincomplete);\r\n      EventRuler.on(el, \"cleared\", opts.oncleared);\r\n      if (opts.inputEventOnly !== true) {\r\n        EventRuler.on(el, \"keydown\", EventHandlers.keyEvent);\r\n      }\r\n      if (mobile || opts.inputEventOnly) {\r\n        el.removeAttribute(\"maxLength\");\r\n      }\r\n      EventRuler.on(el, \"input\", EventHandlers.inputFallBackEvent);\r\n      // EventRuler.on(el, \"beforeinput\", EventHandlers.beforeInputEvent); //https://github.com/w3c/input-events - to implement\r\n    }\r\n    EventRuler.on(el, \"setvalue\", EventHandlers.setValueEvent);\r\n\r\n    // apply mask\r\n    inputmask.applyMaskHook === undefined || inputmask.applyMaskHook();\r\n\r\n    getBufferTemplate.call(inputmask).join(\"\"); // initialize the buffer and getmasklength\r\n    inputmask.undoValue = inputmask._valueGet(true);\r\n    const activeElement = (el.inputmask.shadowRoot || el.ownerDocument)\r\n      .activeElement;\r\n    if (\r\n      el.inputmask._valueGet(true) !== \"\" ||\r\n      opts.clearMaskOnLostFocus === false ||\r\n      activeElement === el\r\n    ) {\r\n      applyInputValue(el, el.inputmask._valueGet(true), opts);\r\n      let buffer = getBuffer.call(inputmask).slice();\r\n      if (isComplete.call(inputmask, buffer) === false) {\r\n        if (opts.clearIncomplete) {\r\n          resetMaskSet.call(inputmask, false);\r\n        }\r\n      }\r\n      if (opts.clearMaskOnLostFocus && activeElement !== el) {\r\n        if (getLastValidPosition.call(inputmask) === -1) {\r\n          buffer = [];\r\n        } else {\r\n          clearOptionalTail.call(inputmask, buffer);\r\n        }\r\n      }\r\n      if (\r\n        opts.clearMaskOnLostFocus === false ||\r\n        (opts.showMaskOnFocus && activeElement === el) ||\r\n        el.inputmask._valueGet(true) !== \"\"\r\n      ) {\r\n        writeBuffer(el, buffer);\r\n      }\r\n      if (activeElement === el) {\r\n        // position the caret when in focus\r\n        caret.call(\r\n          inputmask,\r\n          el,\r\n          seekNext.call(inputmask, getLastValidPosition.call(inputmask))\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n","export default function (isGroup, isOptional, isQuantifier, isAlternator) {\r\n  this.matches = [];\r\n  this.openGroup = isGroup || false;\r\n  this.alternatorGroup = false;\r\n  this.isGroup = isGroup || false;\r\n  this.isOptional = isOptional || false;\r\n  this.isQuantifier = isQuantifier || false;\r\n  this.isAlternator = isAlternator || false;\r\n  this.quantifier = {\r\n    min: 1,\r\n    max: 1\r\n  };\r\n}\r\n","// https://tc39.github.io/ecma262/#sec-array.prototype.includes\r\nif (!Array.prototype.includes) {\r\n  // eslint-disable-next-line no-extend-native\r\n  Object.defineProperty(Array.prototype, \"includes\", {\r\n    value: function (searchElement, fromIndex) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      const o = Object(this),\r\n        // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n        len = o.length >>> 0;\r\n\r\n      // 3. If len is 0, return false.\r\n      if (len === 0) {\r\n        return false;\r\n      }\r\n\r\n      // 4. Let n be ? ToInteger(fromIndex).\r\n      //    (If fromIndex is undefined, this step produces the value 0.)\r\n      let n = fromIndex | 0,\r\n        // 5. If n  0, then\r\n        //  a. Let k be n.\r\n        // 6. Else n < 0,\r\n        //  a. Let k be len + n.\r\n        //  b. If k < 0, let k be 0.\r\n        k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\r\n\r\n      // 7. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\r\n        // b. If SameValueZero(searchElement, elementK) is true, return true.\r\n        // c. Increase k by 1.\r\n        // NOTE: === provides the correct \"SameValueZero\" comparison needed here.\r\n        if (o[k] === searchElement) {\r\n          return true;\r\n        }\r\n        k++;\r\n      }\r\n\r\n      // 8. Return false\r\n      return false;\r\n    }\r\n  });\r\n}\r\n","const reduce = Function.bind.call(Function.call, Array.prototype.reduce),\r\n  isEnumerable = Function.bind.call(\r\n    Function.call,\r\n    Object.prototype.propertyIsEnumerable\r\n  ),\r\n  concat = Function.bind.call(Function.call, Array.prototype.concat),\r\n  keys = Object.keys;\r\n\r\nif (!Object.entries) {\r\n  Object.entries = function entries(O) {\r\n    return reduce(\r\n      keys(O),\r\n      (e, k) =>\r\n        concat(\r\n          e,\r\n          typeof k === \"string\" && isEnumerable(O, k) ? [[k, O[k]]] : []\r\n        ),\r\n      []\r\n    );\r\n  };\r\n}\r\n","if (typeof Object.getPrototypeOf !== \"function\") {\r\n  Object.getPrototypeOf =\r\n    typeof \"test\".__proto__ === \"object\"\r\n      ? function (object) {\r\n          return object.__proto__;\r\n        }\r\n      : function (object) {\r\n          return object.constructor.prototype;\r\n        };\r\n}\r\n","if (!String.prototype.includes) {\r\n  // eslint-disable-next-line no-extend-native\r\n  String.prototype.includes = function (search, start) {\r\n    if (typeof start !== \"number\") {\r\n      start = 0;\r\n    }\r\n\r\n    if (start + search.length > this.length) {\r\n      return false;\r\n    } else {\r\n      return this.indexOf(search, start) !== -1;\r\n    }\r\n  };\r\n}\r\n","import window from \"./global/window\";\r\nimport { checkAlternationMatch } from \"./validation\";\r\nimport {\r\n  determineTestTemplate,\r\n  getMaskTemplate,\r\n  getPlaceholder,\r\n  getTest,\r\n  getTests,\r\n  getTestTemplate\r\n} from \"./validation-tests\";\r\n\r\nexport {\r\n  caret,\r\n  determineLastRequiredPosition,\r\n  determineNewCaretPosition,\r\n  getBuffer,\r\n  getBufferTemplate,\r\n  getLastValidPosition,\r\n  isMask,\r\n  resetMaskSet,\r\n  seekNext,\r\n  seekPrevious,\r\n  translatePosition\r\n};\r\n\r\n// tobe put on prototype?\r\nfunction caret(input, begin, end, notranslate, isDelete) {\r\n  const inputmask = this,\r\n    opts = this.opts;\r\n\r\n  let range;\r\n  if (begin !== undefined) {\r\n    if (Array.isArray(begin)) {\r\n      end = inputmask.isRTL ? begin[0] : begin[1];\r\n      begin = inputmask.isRTL ? begin[1] : begin[0];\r\n    }\r\n    if (begin.begin !== undefined) {\r\n      end = inputmask.isRTL ? begin.begin : begin.end;\r\n      begin = inputmask.isRTL ? begin.end : begin.begin;\r\n    }\r\n    if (typeof begin === \"number\") {\r\n      begin = notranslate ? begin : translatePosition.call(inputmask, begin);\r\n      end = notranslate ? end : translatePosition.call(inputmask, end);\r\n      end = typeof end === \"number\" ? end : begin;\r\n      // if (!$(input).is(\":visible\")) {\r\n      // \treturn;\r\n      // }\r\n\r\n      const scrollCalc =\r\n        parseInt(\r\n          ((input.ownerDocument.defaultView || window).getComputedStyle\r\n            ? (input.ownerDocument.defaultView || window).getComputedStyle(\r\n                input,\r\n                null\r\n              )\r\n            : input.currentStyle\r\n          ).fontSize\r\n        ) * end;\r\n      input.scrollLeft = scrollCalc > input.scrollWidth ? scrollCalc : 0;\r\n      input.inputmask.caretPos = { begin, end }; // track caret internally\r\n      if (opts.insertModeVisual && opts.insertMode === false && begin === end) {\r\n        if (!isDelete) {\r\n          end++; // set visualization for insert/overwrite mode\r\n        }\r\n      }\r\n      if (\r\n        input ===\r\n        (input.inputmask.shadowRoot || input.ownerDocument).activeElement\r\n      ) {\r\n        if (\"setSelectionRange\" in input) {\r\n          input.setSelectionRange(begin, end);\r\n        } else if (window.getSelection) {\r\n          range = document.createRange();\r\n          if (input.firstChild === undefined || input.firstChild === null) {\r\n            const textNode = document.createTextNode(\"\");\r\n            input.appendChild(textNode);\r\n          }\r\n          range.setStart(\r\n            input.firstChild,\r\n            begin < input.inputmask._valueGet().length\r\n              ? begin\r\n              : input.inputmask._valueGet().length\r\n          );\r\n          range.setEnd(\r\n            input.firstChild,\r\n            end < input.inputmask._valueGet().length\r\n              ? end\r\n              : input.inputmask._valueGet().length\r\n          );\r\n          range.collapse(true);\r\n          const sel = window.getSelection();\r\n          sel.removeAllRanges();\r\n          sel.addRange(range);\r\n          // input.focus();\r\n        } else if (input.createTextRange) {\r\n          range = input.createTextRange();\r\n          range.collapse(true);\r\n          range.moveEnd(\"character\", end);\r\n          range.moveStart(\"character\", begin);\r\n          range.select();\r\n        }\r\n\r\n        input.inputmask.caretHook === undefined ||\r\n          input.inputmask.caretHook.call(inputmask, { begin, end });\r\n      }\r\n    }\r\n  } else {\r\n    if (\"selectionStart\" in input && \"selectionEnd\" in input) {\r\n      begin = input.selectionStart;\r\n      end = input.selectionEnd;\r\n    } else if (window.getSelection) {\r\n      range = window.getSelection().getRangeAt(0);\r\n      if (\r\n        range.commonAncestorContainer.parentNode === input ||\r\n        range.commonAncestorContainer === input\r\n      ) {\r\n        begin = range.startOffset;\r\n        end = range.endOffset;\r\n      }\r\n    } else if (document.selection && document.selection.createRange) {\r\n      range = document.selection.createRange();\r\n      begin =\r\n        0 -\r\n        range\r\n          .duplicate()\r\n          .moveStart(\"character\", -input.inputmask._valueGet().length);\r\n      end = begin + range.text.length;\r\n    }\r\n\r\n    // if (opts.insertModeVisual && opts.insertMode === false && begin === (end - 1)) end--; //correct caret for insert/overwrite mode\r\n\r\n    /* eslint-disable consistent-return */\r\n    return {\r\n      begin: notranslate ? begin : translatePosition.call(inputmask, begin),\r\n      end: notranslate ? end : translatePosition.call(inputmask, end)\r\n    };\r\n    /* eslint-enable consistent-return */\r\n  }\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction determineLastRequiredPosition(returnDefinition) {\r\n  const inputmask = this,\r\n    { maskset, dependencyLib: $ } = inputmask,\r\n    lvp = getLastValidPosition.call(inputmask),\r\n    positions = {},\r\n    lvTest = maskset.validPositions[lvp],\r\n    buffer = getMaskTemplate.call(\r\n      inputmask,\r\n      true,\r\n      getLastValidPosition.call(inputmask),\r\n      true,\r\n      true\r\n    );\r\n  let bl = buffer.length,\r\n    pos,\r\n    ndxIntlzr = lvTest !== undefined ? lvTest.locator.slice() : undefined,\r\n    testPos;\r\n  for (pos = lvp + 1; pos < buffer.length; pos++) {\r\n    testPos = getTestTemplate.call(inputmask, pos, ndxIntlzr, pos - 1);\r\n    ndxIntlzr = testPos.locator.slice();\r\n    positions[pos] = $.extend(true, {}, testPos);\r\n  }\r\n\r\n  const lvTestAlt =\r\n    lvTest && lvTest.alternation !== undefined\r\n      ? lvTest.locator[lvTest.alternation]\r\n      : undefined;\r\n  for (pos = bl - 1; pos > lvp; pos--) {\r\n    testPos = positions[pos];\r\n    if (\r\n      (testPos.match.optionality ||\r\n        (testPos.match.optionalQuantifier && testPos.match.newBlockMarker) ||\r\n        (lvTestAlt &&\r\n          ((lvTestAlt !== positions[pos].locator[lvTest.alternation] &&\r\n            testPos.match.static !== true) ||\r\n            (testPos.match.static === true &&\r\n              testPos.locator[lvTest.alternation] &&\r\n              checkAlternationMatch.call(\r\n                inputmask,\r\n                testPos.locator[lvTest.alternation].toString().split(\",\"),\r\n                lvTestAlt.toString().split(\",\")\r\n              ) &&\r\n              getTests.call(inputmask, pos)[0].def !== \"\")))) &&\r\n      buffer[pos] === getPlaceholder.call(inputmask, pos, testPos.match)\r\n    ) {\r\n      bl--;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  return returnDefinition\r\n    ? {\r\n        l: bl,\r\n        def: positions[bl] ? positions[bl].match : undefined\r\n      }\r\n    : bl;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction determineNewCaretPosition(\r\n  selectedCaret,\r\n  tabbed,\r\n  positionCaretOnClick\r\n) {\r\n  const inputmask = this,\r\n    { maskset, opts } = inputmask;\r\n  let clickPosition, lvclickPosition, lastPosition;\r\n\r\n  function doRadixFocus(clickPos) {\r\n    if (opts.radixPoint !== \"\" && opts.digits !== 0) {\r\n      const vps = maskset.validPositions;\r\n      if (vps[clickPos] === undefined || vps[clickPos].input === undefined) {\r\n        if (clickPos < seekNext.call(inputmask, -1)) return true;\r\n        const radixPos = getBuffer.call(inputmask).indexOf(opts.radixPoint);\r\n        if (radixPos !== -1) {\r\n          for (let vp = 0, vpl = vps.length; vp < vpl; vp++) {\r\n            if (\r\n              vps[vp] &&\r\n              radixPos < vp &&\r\n              vps[vp].input !== getPlaceholder.call(inputmask, vp)\r\n            ) {\r\n              return false;\r\n            }\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  if (tabbed) {\r\n    if (inputmask.isRTL) {\r\n      selectedCaret.end = selectedCaret.begin;\r\n    } else {\r\n      selectedCaret.begin = selectedCaret.end;\r\n    }\r\n  }\r\n  if (selectedCaret.begin === selectedCaret.end) {\r\n    positionCaretOnClick = positionCaretOnClick || opts.positionCaretOnClick;\r\n    switch (positionCaretOnClick) {\r\n      case \"none\":\r\n        break;\r\n      case \"select\":\r\n        selectedCaret = { begin: 0, end: getBuffer.call(inputmask).length };\r\n        break;\r\n      case \"ignore\":\r\n        selectedCaret.end = selectedCaret.begin = seekNext.call(\r\n          inputmask,\r\n          getLastValidPosition.call(inputmask)\r\n        );\r\n        break;\r\n      case \"radixFocus\":\r\n        if (inputmask.clicked > 1 && maskset.validPositions.length === 0) break;\r\n        if (doRadixFocus(selectedCaret.begin)) {\r\n          const radixPos = getBuffer\r\n            .call(inputmask)\r\n            .join(\"\")\r\n            .indexOf(opts.radixPoint);\r\n          selectedCaret.end = selectedCaret.begin = opts.numericInput\r\n            ? seekNext.call(inputmask, radixPos)\r\n            : radixPos;\r\n          break;\r\n        } // fallback to lvp\r\n      // eslint-disable-next-line no-fallthrough\r\n      default: // lvp:\r\n        clickPosition = selectedCaret.begin;\r\n        lvclickPosition = getLastValidPosition.call(\r\n          inputmask,\r\n          clickPosition,\r\n          true\r\n        );\r\n        lastPosition = seekNext.call(\r\n          inputmask,\r\n          lvclickPosition === -1 && !isMask.call(inputmask, 0)\r\n            ? -1\r\n            : lvclickPosition\r\n        );\r\n\r\n        if (clickPosition <= lastPosition) {\r\n          selectedCaret.end = selectedCaret.begin = !isMask.call(\r\n            inputmask,\r\n            clickPosition,\r\n            false,\r\n            true\r\n          )\r\n            ? seekNext.call(inputmask, clickPosition)\r\n            : clickPosition;\r\n        } else {\r\n          const lvp = maskset.validPositions[lvclickPosition],\r\n            tt = getTestTemplate.call(\r\n              inputmask,\r\n              lastPosition,\r\n              lvp ? lvp.match.locator : undefined,\r\n              lvp\r\n            ),\r\n            placeholder = getPlaceholder.call(\r\n              inputmask,\r\n              lastPosition,\r\n              tt.match\r\n            );\r\n          if (\r\n            (placeholder !== \"\" &&\r\n              getBuffer.call(inputmask)[lastPosition] !== placeholder &&\r\n              tt.match.optionalQuantifier !== true &&\r\n              tt.match.newBlockMarker !== true) ||\r\n            (!isMask.call(inputmask, lastPosition, opts.keepStatic, true) &&\r\n              tt.match.def === placeholder)\r\n          ) {\r\n            const newPos = seekNext.call(inputmask, lastPosition);\r\n            if (clickPosition >= newPos || clickPosition === lastPosition) {\r\n              lastPosition = newPos;\r\n            }\r\n          }\r\n          selectedCaret.end = selectedCaret.begin = lastPosition;\r\n        }\r\n    }\r\n\r\n    return selectedCaret;\r\n  }\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getBuffer(noCache) {\r\n  const inputmask = this,\r\n    { maskset } = inputmask;\r\n\r\n  if (maskset.buffer === undefined || noCache === true) {\r\n    maskset.buffer = getMaskTemplate.call(\r\n      inputmask,\r\n      true,\r\n      getLastValidPosition.call(inputmask),\r\n      true\r\n    );\r\n    if (maskset._buffer === undefined) maskset._buffer = maskset.buffer.slice();\r\n  }\r\n  return maskset.buffer;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getBufferTemplate() {\r\n  const inputmask = this,\r\n    maskset = this.maskset;\r\n\r\n  if (maskset._buffer === undefined) {\r\n    // generate template\r\n    maskset._buffer = getMaskTemplate.call(inputmask, false, 1);\r\n    if (maskset.buffer === undefined) maskset.buffer = maskset._buffer.slice();\r\n  }\r\n  return maskset._buffer;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getLastValidPosition(closestTo, strict, validPositions) {\r\n  const maskset = this.maskset;\r\n\r\n  let before = -1,\r\n    after = -1;\r\n  const valids = validPositions || maskset.validPositions; // for use in valhook ~ context switch\r\n  if (closestTo === undefined) closestTo = -1;\r\n  for (let psNdx = 0, vpl = valids.length; psNdx < vpl; psNdx++) {\r\n    if (valids[psNdx] && (strict || valids[psNdx].generatedInput !== true)) {\r\n      if (psNdx <= closestTo) before = psNdx;\r\n      if (psNdx >= closestTo) after = psNdx;\r\n    }\r\n  }\r\n  return before === -1 || before === closestTo\r\n    ? after\r\n    : after === -1\r\n    ? before\r\n    : closestTo - before < after - closestTo\r\n    ? before\r\n    : after;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction isMask(pos, strict, fuzzy) {\r\n  const inputmask = this,\r\n    maskset = this.maskset;\r\n\r\n  let test = getTestTemplate.call(inputmask, pos).match;\r\n  if (test.def === \"\") test = getTest.call(inputmask, pos).match;\r\n\r\n  if (test.static !== true) {\r\n    return test.fn;\r\n  }\r\n  if (\r\n    fuzzy === true &&\r\n    maskset.validPositions[pos] !== undefined &&\r\n    maskset.validPositions[pos].generatedInput !== true\r\n  ) {\r\n    return true;\r\n  }\r\n\r\n  if (strict !== true && pos > -1) {\r\n    if (fuzzy) {\r\n      // check on the number of tests\r\n      const tests = getTests.call(inputmask, pos);\r\n      return (\r\n        tests.length > 1 + (tests[tests.length - 1].match.def === \"\" ? 1 : 0)\r\n      );\r\n    }\r\n    // else based on the template\r\n    const testTemplate = determineTestTemplate.call(\r\n        inputmask,\r\n        pos,\r\n        getTests.call(inputmask, pos)\r\n      ),\r\n      testPlaceHolder = getPlaceholder.call(inputmask, pos, testTemplate.match);\r\n    return testTemplate.match.def !== testPlaceHolder;\r\n  }\r\n  return false;\r\n}\r\n\r\n// tobe put on prototype?\r\n// soft ~ undefined reset validpositions; soft = false also reset tests; soft = true only reset the maskset\r\nfunction resetMaskSet(soft) {\r\n  const maskset = this.maskset;\r\n\r\n  maskset.buffer = undefined;\r\n  if (soft !== true) {\r\n    maskset.validPositions = [];\r\n    maskset.p = 0;\r\n  }\r\n  if (soft === false) {\r\n    maskset.tests = {};\r\n    maskset.jitOffset = {};\r\n  }\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction seekNext(pos, newBlock, fuzzy) {\r\n  const inputmask = this;\r\n\r\n  if (fuzzy === undefined) fuzzy = true;\r\n  let position = pos + 1;\r\n  while (\r\n    getTest.call(inputmask, position).match.def !== \"\" &&\r\n    ((newBlock === true &&\r\n      (getTest.call(inputmask, position).match.newBlockMarker !== true ||\r\n        !isMask.call(inputmask, position, undefined, true))) ||\r\n      (newBlock !== true &&\r\n        !isMask.call(inputmask, position, undefined, fuzzy)))\r\n  ) {\r\n    position++;\r\n  }\r\n  return position;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction seekPrevious(pos, newBlock) {\r\n  const inputmask = this;\r\n\r\n  let position = pos - 1;\r\n  if (pos <= 0) return 0;\r\n\r\n  while (\r\n    position > 0 &&\r\n    ((newBlock === true &&\r\n      (getTest.call(inputmask, position).match.newBlockMarker !== true ||\r\n        !isMask.call(inputmask, position, undefined, true))) ||\r\n      (newBlock !== true && !isMask.call(inputmask, position, undefined, true)))\r\n  ) {\r\n    position--;\r\n  }\r\n  return position;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction translatePosition(pos) {\r\n  const inputmask = this,\r\n    opts = this.opts,\r\n    el = this.el;\r\n\r\n  if (\r\n    inputmask.isRTL &&\r\n    typeof pos === \"number\" &&\r\n    (!opts.greedy || opts.placeholder !== \"\") &&\r\n    el\r\n  ) {\r\n    pos = inputmask._valueGet().length - pos;\r\n    if (pos < 0) pos = 0;\r\n  }\r\n  return pos;\r\n}\r\n","import Inputmask from \"./inputmask\";\r\nimport { getLastValidPosition, seekNext } from \"./positioning\";\r\n\r\nexport {\r\n  determineTestTemplate,\r\n  getDecisionTaker,\r\n  getMaskTemplate,\r\n  getPlaceholder,\r\n  getTest,\r\n  getTests,\r\n  getTestTemplate,\r\n  isSubsetOf\r\n};\r\n\r\nfunction getLocator(tst, align) {\r\n  // need to align the locators to be correct\r\n  let locator = (\r\n    tst.alternation != undefined ? tst.mloc[getDecisionTaker(tst)] : tst.locator\r\n  ).join(\"\");\r\n  if (locator !== \"\") {\r\n    locator = locator.split(\":\")[0]; // strip off alternation marker\r\n    while (locator.length < align) locator += \"0\";\r\n  }\r\n  return locator;\r\n}\r\n\r\nfunction getDecisionTaker(tst) {\r\n  let decisionTaker = tst.locator[tst.alternation];\r\n  if (typeof decisionTaker === \"string\" && decisionTaker.length > 0) {\r\n    // no decision taken ~ take first one as decider\r\n    decisionTaker = decisionTaker.split(\",\")[0];\r\n  }\r\n  return decisionTaker !== undefined ? decisionTaker.toString() : \"\";\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getPlaceholder(pos, test, returnPL) {\r\n  const inputmask = this,\r\n    opts = this.opts,\r\n    maskset = this.maskset;\r\n\r\n  test = test || getTest.call(inputmask, pos).match;\r\n\r\n  if (test.placeholder !== undefined || returnPL === true) {\r\n    if (\r\n      test.placeholder !== \"\" &&\r\n      test.static === true &&\r\n      test.generated !== true\r\n    ) {\r\n      // static and not dynamically generated ~ does not occur in regex mask ~ numeric alias def is not a valid entry\r\n      const lvp = getLastValidPosition.call(inputmask, pos),\r\n        nextPos = seekNext.call(inputmask, lvp);\r\n      return (returnPL ? pos <= nextPos : pos < nextPos)\r\n        ? opts.staticDefinitionSymbol && test.static\r\n          ? test.nativeDef\r\n          : test.def\r\n        : typeof test.placeholder === \"function\"\r\n        ? test.placeholder(opts)\r\n        : test.placeholder;\r\n    } else {\r\n      return typeof test.placeholder === \"function\"\r\n        ? test.placeholder(opts)\r\n        : test.placeholder;\r\n    }\r\n  } else if (test.static === true) {\r\n    if (pos > -1 && maskset.validPositions[pos] === undefined) {\r\n      let tests = getTests.call(inputmask, pos),\r\n        staticAlternations = [],\r\n        prevTest;\r\n      if (\r\n        typeof opts.placeholder === \"string\" &&\r\n        tests.length > 1 + (tests[tests.length - 1].match.def === \"\" ? 1 : 0)\r\n      ) {\r\n        for (let i = 0; i < tests.length; i++) {\r\n          if (\r\n            tests[i].match.def !== \"\" &&\r\n            tests[i].match.optionality !== true &&\r\n            tests[i].match.optionalQuantifier !== true &&\r\n            (tests[i].match.static === true ||\r\n              prevTest === undefined ||\r\n              tests[i].match.fn.test(\r\n                prevTest.match.def,\r\n                maskset,\r\n                pos,\r\n                true,\r\n                opts\r\n              ) !== false)\r\n          ) {\r\n            staticAlternations.push(tests[i]);\r\n            if (tests[i].match.static === true) prevTest = tests[i];\r\n            if (staticAlternations.length > 1) {\r\n              if (/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)) {\r\n                return opts.placeholder.charAt(pos % opts.placeholder.length);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return test.def;\r\n  }\r\n\r\n  return typeof opts.placeholder === \"object\"\r\n    ? test.def\r\n    : opts.placeholder.charAt(pos % opts.placeholder.length);\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getMaskTemplate(\r\n  baseOnInput,\r\n  minimalPos,\r\n  includeMode,\r\n  noJit,\r\n  clearOptionalTail\r\n) {\r\n  // includeMode true => input, undefined => placeholder, false => mask\r\n\r\n  const inputmask = this,\r\n    opts = this.opts,\r\n    maskset = this.maskset,\r\n    greedy = opts.greedy;\r\n  if (clearOptionalTail && opts.greedy) {\r\n    opts.greedy = false;\r\n    inputmask.maskset.tests = {};\r\n  }\r\n  minimalPos = minimalPos || 0;\r\n  let maskTemplate = [],\r\n    ndxIntlzr,\r\n    pos = 0,\r\n    test,\r\n    testPos,\r\n    jitRenderStatic;\r\n  do {\r\n    if (baseOnInput === true && maskset.validPositions[pos]) {\r\n      testPos =\r\n        clearOptionalTail &&\r\n        maskset.validPositions[pos].match.optionality &&\r\n        maskset.validPositions[pos + 1] === undefined &&\r\n        (maskset.validPositions[pos].generatedInput === true ||\r\n          (maskset.validPositions[pos].input ==\r\n            opts.skipOptionalPartCharacter &&\r\n            pos > 0))\r\n          ? determineTestTemplate.call(\r\n              inputmask,\r\n              pos,\r\n              getTests.call(inputmask, pos, ndxIntlzr, pos - 1)\r\n            )\r\n          : maskset.validPositions[pos];\r\n      test = testPos.match;\r\n      ndxIntlzr = testPos.locator.slice();\r\n      maskTemplate.push(\r\n        includeMode === true\r\n          ? testPos.input\r\n          : includeMode === false\r\n          ? test.nativeDef\r\n          : getPlaceholder.call(inputmask, pos, test)\r\n      );\r\n    } else {\r\n      testPos = getTestTemplate.call(inputmask, pos, ndxIntlzr, pos - 1);\r\n      test = testPos.match;\r\n      ndxIntlzr = testPos.locator.slice();\r\n      const jitMasking =\r\n        noJit === true\r\n          ? false\r\n          : opts.jitMasking !== false\r\n          ? opts.jitMasking\r\n          : test.jit;\r\n      // check for groupSeparator is a hack for the numerics as we don't want the render of the groupSeparator beforehand\r\n      jitRenderStatic =\r\n        (jitRenderStatic ||\r\n          maskset.validPositions[\r\n            pos - 1\r\n          ]) /* && getTest.call(inputmask, pos + 1).match.def == \"\" */ &&\r\n        test.static &&\r\n        test.def !== opts.groupSeparator &&\r\n        test.fn === null;\r\n\r\n      if (\r\n        jitRenderStatic ||\r\n        jitMasking === false ||\r\n        jitMasking === undefined /* || pos < lvp */ ||\r\n        (typeof jitMasking === \"number\" &&\r\n          isFinite(jitMasking) &&\r\n          jitMasking > pos)\r\n      ) {\r\n        maskTemplate.push(\r\n          includeMode === false\r\n            ? test.nativeDef\r\n            : getPlaceholder.call(inputmask, maskTemplate.length, test)\r\n        );\r\n      } else {\r\n        jitRenderStatic = false;\r\n      }\r\n    }\r\n\r\n    pos++;\r\n  } while (test.static !== true || test.def !== \"\" || minimalPos > pos);\r\n  if (maskTemplate[maskTemplate.length - 1] === \"\") {\r\n    maskTemplate.pop(); // drop the last one which is empty\r\n  }\r\n  if (\r\n    includeMode !== false || // do not alter the masklength when just retrieving the maskdefinition\r\n    maskset.maskLength === undefined\r\n  ) {\r\n    // just make sure the maskLength gets initialized in all cases (needed for isValid)\r\n    maskset.maskLength = pos - 1;\r\n  }\r\n\r\n  opts.greedy = greedy;\r\n  return maskTemplate;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getTestTemplate(pos, ndxIntlzr, tstPs) {\r\n  const inputmask = this,\r\n    maskset = this.maskset;\r\n\r\n  return (\r\n    maskset.validPositions[pos] ||\r\n    determineTestTemplate.call(\r\n      inputmask,\r\n      pos,\r\n      getTests.call(\r\n        inputmask,\r\n        pos,\r\n        ndxIntlzr ? ndxIntlzr.slice() : ndxIntlzr,\r\n        tstPs\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction determineTestTemplate(pos, tests) {\r\n  let inputmask = this,\r\n    opts = this.opts,\r\n    lenghtOffset = 0,\r\n    optionalityLevel = determineOptionalityLevel(pos, tests);\r\n  pos = pos > 0 ? pos - 1 : 0;\r\n  let altTest = getTest.call(inputmask, pos),\r\n    targetLocator = getLocator(altTest),\r\n    tstLocator,\r\n    closest,\r\n    bestMatch;\r\n  if (\r\n    opts.greedy &&\r\n    tests.length > 1 &&\r\n    tests[tests.length - 1].match.def === \"\"\r\n  )\r\n    lenghtOffset = 1;\r\n  // console.log(\" optionality = \" + optionalityLevel);\r\n  // console.log(\" - \" + JSON.stringify(tests));\r\n  for (let ndx = 0; ndx < tests.length - lenghtOffset; ndx++) {\r\n    // find best matching\r\n    const tst = tests[ndx];\r\n    tstLocator = getLocator(tst, targetLocator.length);\r\n    const distance = Math.abs(tstLocator - targetLocator);\r\n\r\n    if (\r\n      tst.unMatchedAlternationStopped !== true ||\r\n      tests.filter((tst) => tst.unMatchedAlternationStopped !== true).length <=\r\n        1\r\n    ) {\r\n      // only skip when there are choices outside the alternation\r\n      if (\r\n        closest === undefined ||\r\n        (tstLocator !== \"\" && distance < closest) ||\r\n        (bestMatch &&\r\n          !opts.greedy &&\r\n          bestMatch.match.optionality &&\r\n          bestMatch.match.optionality - optionalityLevel > 0 &&\r\n          bestMatch.match.newBlockMarker === \"master\" &&\r\n          (!tst.match.optionality ||\r\n            tst.match.optionality - optionalityLevel < 1 ||\r\n            !tst.match.newBlockMarker)) ||\r\n        (bestMatch &&\r\n          !opts.greedy &&\r\n          bestMatch.match.optionalQuantifier &&\r\n          !tst.match.optionalQuantifier)\r\n      ) {\r\n        closest = distance;\r\n        bestMatch = tst;\r\n      }\r\n    }\r\n  }\r\n  return bestMatch;\r\n}\r\n\r\nfunction determineOptionalityLevel(pos, tests) {\r\n  let optionalityLevel = 0,\r\n    differentOptionalLevels = false;\r\n  tests.forEach((test) => {\r\n    if (test.match.optionality) {\r\n      if (optionalityLevel !== 0 && optionalityLevel !== test.match.optionality)\r\n        differentOptionalLevels = true;\r\n      if (optionalityLevel === 0 || optionalityLevel > test.match.optionality) {\r\n        optionalityLevel = test.match.optionality;\r\n      }\r\n    }\r\n  });\r\n  if (optionalityLevel) {\r\n    if (pos == 0) optionalityLevel = 0;\r\n    else if (tests.length == 1) optionalityLevel = 0;\r\n    else if (!differentOptionalLevels) optionalityLevel = 0;\r\n  }\r\n  return optionalityLevel;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getTest(pos, tests) {\r\n  const inputmask = this,\r\n    maskset = this.maskset;\r\n\r\n  if (maskset.validPositions[pos]) {\r\n    return maskset.validPositions[pos];\r\n  }\r\n  return (tests || getTests.call(inputmask, pos))[0];\r\n}\r\n\r\nfunction isSubsetOf(source, target, opts) {\r\n  function expand(pattern) {\r\n    let expanded = [],\r\n      start = -1,\r\n      end;\r\n    for (let i = 0, l = pattern.length; i < l; i++) {\r\n      if (pattern.charAt(i) === \"-\") {\r\n        end = pattern.charCodeAt(i + 1);\r\n        while (++start < end) expanded.push(String.fromCharCode(start));\r\n      } else {\r\n        start = pattern.charCodeAt(i);\r\n        expanded.push(pattern.charAt(i));\r\n      }\r\n    }\r\n    return expanded.join(\"\");\r\n  }\r\n\r\n  if (source.match.def === target.match.nativeDef) return true;\r\n\r\n  if (\r\n    (opts.regex ||\r\n      (source.match.fn instanceof RegExp &&\r\n        target.match.fn instanceof RegExp)) &&\r\n    source.match.static !== true &&\r\n    target.match.static !== true\r\n  ) {\r\n    // is regex a subset\r\n    if (target.match.fn.source === \".\") return true;\r\n    return (\r\n      expand(target.match.fn.source.replace(/[[\\]/]/g, \"\")).indexOf(\r\n        expand(source.match.fn.source.replace(/[[\\]/]/g, \"\"))\r\n      ) !== -1\r\n    );\r\n  }\r\n  return false;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction getTests(pos, ndxIntlzr, tstPs) {\r\n  let inputmask = this,\r\n    $ = this.dependencyLib,\r\n    maskset = this.maskset,\r\n    opts = this.opts,\r\n    el = this.el,\r\n    maskTokens = maskset.maskToken,\r\n    testPos = ndxIntlzr ? tstPs : 0,\r\n    ndxInitializer = ndxIntlzr ? ndxIntlzr.slice() : [0],\r\n    matches = [],\r\n    insertStop = false,\r\n    latestMatch,\r\n    cacheDependency = ndxIntlzr ? ndxIntlzr.join(\"\") : \"\",\r\n    unMatchedAlternation = false;\r\n\r\n  function resolveTestFromToken(\r\n    maskToken,\r\n    ndxInitializer,\r\n    loopNdx,\r\n    quantifierRecurse\r\n  ) {\r\n    // ndxInitializer contains a set of indexes to speedup searches in the mtokens\r\n    function handleMatch(match, loopNdx, quantifierRecurse) {\r\n      function isFirstMatch(latestMatch, tokenGroup) {\r\n        let firstMatch = tokenGroup.matches.indexOf(latestMatch) === 0;\r\n        if (!firstMatch) {\r\n          tokenGroup.matches.every(function (match, ndx) {\r\n            if (match.isQuantifier === true) {\r\n              firstMatch = isFirstMatch(\r\n                latestMatch,\r\n                tokenGroup.matches[ndx - 1]\r\n              );\r\n            } else if (Object.prototype.hasOwnProperty.call(match, \"matches\"))\r\n              firstMatch = isFirstMatch(latestMatch, match);\r\n            if (firstMatch) return false;\r\n\r\n            return true;\r\n          });\r\n        }\r\n        return firstMatch;\r\n      }\r\n\r\n      function resolveNdxInitializer(pos, alternateNdx, targetAlternation) {\r\n        let bestMatch, indexPos;\r\n\r\n        if (maskset.tests[pos] || maskset.validPositions[pos]) {\r\n          (maskset.validPositions[pos]\r\n            ? [maskset.validPositions[pos]]\r\n            : maskset.tests[pos]\r\n          ).every(function (lmnt, ndx) {\r\n            if (lmnt.mloc[alternateNdx]) {\r\n              bestMatch = lmnt;\r\n              return false; // break\r\n            }\r\n            const alternation =\r\n                targetAlternation !== undefined\r\n                  ? targetAlternation\r\n                  : lmnt.alternation,\r\n              ndxPos =\r\n                lmnt.locator[alternation] !== undefined\r\n                  ? lmnt.locator[alternation].toString().indexOf(alternateNdx)\r\n                  : -1;\r\n            if (\r\n              (indexPos === undefined || ndxPos < indexPos) &&\r\n              ndxPos !== -1\r\n            ) {\r\n              bestMatch = lmnt;\r\n              indexPos = ndxPos;\r\n            }\r\n\r\n            return true;\r\n          });\r\n        }\r\n        if (bestMatch) {\r\n          const bestMatchAltIndex = bestMatch.locator[bestMatch.alternation],\r\n            locator =\r\n              bestMatch.mloc[alternateNdx] ||\r\n              bestMatch.mloc[bestMatchAltIndex] ||\r\n              bestMatch.locator;\r\n          if (locator[locator.length - 1].toString().indexOf(\":\") !== -1) {\r\n            // eslint-disable-next-line no-unused-vars\r\n            const alternation = locator.pop();\r\n            // targetAlternation = parseInt(alternation.substring(1));\r\n          }\r\n          return locator.slice(\r\n            (targetAlternation !== undefined\r\n              ? targetAlternation\r\n              : bestMatch.alternation) + 1\r\n          );\r\n        } else {\r\n          return targetAlternation !== undefined\r\n            ? resolveNdxInitializer(pos, alternateNdx)\r\n            : undefined;\r\n        }\r\n      }\r\n\r\n      function staticCanMatchDefinition(source, target) {\r\n        return source.match.static === true && target.match.static !== true\r\n          ? target.match.fn.test(\r\n              source.match.def,\r\n              maskset,\r\n              pos,\r\n              false,\r\n              opts,\r\n              false\r\n            )\r\n          : false;\r\n      }\r\n\r\n      // mergelocators for retrieving the correct locator match when merging\r\n      function setMergeLocators(targetMatch, altMatch) {\r\n        function mergeLoc(altNdx) {\r\n          targetMatch.mloc = targetMatch.mloc || {};\r\n          let locNdx = targetMatch.locator[altNdx];\r\n          if (locNdx === undefined) {\r\n            targetMatch.alternation = undefined;\r\n          } else {\r\n            if (typeof locNdx === \"string\") locNdx = locNdx.split(\",\")[0];\r\n            if (targetMatch.mloc[locNdx] === undefined) {\r\n              targetMatch.mloc[locNdx] = targetMatch.locator.slice();\r\n              targetMatch.mloc[locNdx].push(`:${targetMatch.alternation}`); // add alternation index\r\n            }\r\n            if (altMatch !== undefined) {\r\n              const offset = 0;\r\n              for (let ndx in altMatch.mloc) {\r\n                if (typeof ndx === \"string\") ndx = parseInt(ndx.split(\",\")[0]);\r\n                // do {\r\n                // \tif (targetMatch.mloc[ndx + offset] === undefined) {\r\n                targetMatch.mloc[ndx + offset] = altMatch.mloc[ndx];\r\n                // \t\tbreak;\r\n                // \t}\r\n                // } while (targetMatch.mloc[ndx + offset++] !== undefined);\r\n              }\r\n              targetMatch.locator[altNdx] = Object.keys(targetMatch.mloc).join(\r\n                \",\"\r\n              );\r\n            }\r\n            if (targetMatch.alternation > altNdx) {\r\n              // if the alternation index is higher than the current one resolve it to the alternation\r\n              targetMatch.alternation = altNdx;\r\n            }\r\n            return true;\r\n          }\r\n          return false;\r\n        }\r\n\r\n        let alternationNdx = targetMatch.alternation,\r\n          shouldMerge =\r\n            altMatch === undefined ||\r\n            (alternationNdx <= altMatch.alternation &&\r\n              targetMatch.locator[alternationNdx]\r\n                .toString()\r\n                .indexOf(altMatch.locator[alternationNdx]) === -1);\r\n        if (!shouldMerge && alternationNdx > altMatch.alternation) {\r\n          for (let i = 0; i < alternationNdx; i++) {\r\n            if (targetMatch.locator[i] !== altMatch.locator[i]) {\r\n              alternationNdx = i;\r\n              shouldMerge = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (shouldMerge) {\r\n          return mergeLoc(alternationNdx);\r\n        }\r\n        return false;\r\n      }\r\n\r\n      function isSameLevel(targetMatch, altMatch) {\r\n        if (targetMatch.locator.length !== altMatch.locator.length) {\r\n          return false;\r\n        }\r\n        for (\r\n          let locNdx = targetMatch.alternation + 1;\r\n          locNdx < targetMatch.locator.length;\r\n          locNdx++\r\n        ) {\r\n          if (targetMatch.locator[locNdx] !== altMatch.locator[locNdx]) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n\r\n      function handleGroup() {\r\n        match = handleMatch(\r\n          maskToken.matches[maskToken.matches.indexOf(match) + 1],\r\n          loopNdx,\r\n          quantifierRecurse\r\n        );\r\n        if (match) return true;\r\n      }\r\n\r\n      function handleOptional() {\r\n        const optionalToken = match,\r\n          mtchsNdx = matches.length;\r\n        match = resolveTestFromToken(\r\n          match,\r\n          ndxInitializer,\r\n          loopNdx,\r\n          quantifierRecurse\r\n        );\r\n        if (matches.length > 0) {\r\n          // check on matches.length instead of match to handle quantifier in a recursive call\r\n          // mark optionality in matches\r\n          matches.forEach(function (mtch, ndx) {\r\n            if (ndx >= mtchsNdx) {\r\n              mtch.match.optionality = mtch.match.optionality\r\n                ? mtch.match.optionality + 1\r\n                : 1;\r\n            }\r\n          });\r\n          latestMatch = matches[matches.length - 1].match;\r\n\r\n          if (\r\n            quantifierRecurse === undefined &&\r\n            isFirstMatch(latestMatch, optionalToken)\r\n          ) {\r\n            // prevent loop see #698\r\n            insertStop = true; // insert a stop\r\n            testPos = pos; // match the position after the group\r\n          } else {\r\n            return match; // make the loop continue when it is deliberately by a quantifier\r\n          }\r\n        }\r\n      }\r\n\r\n      function handleAlternator() {\r\n        function isUnmatchedAlternation(alternateToken) {\r\n          let matchesLength = alternateToken.matches[0].matches\r\n              ? alternateToken.matches[0].matches.length\r\n              : 1,\r\n            matchesNewLength;\r\n          for (let alndx = 0; alndx < alternateToken.matches.length; alndx++) {\r\n            matchesNewLength = alternateToken.matches[alndx].matches\r\n              ? alternateToken.matches[alndx].matches.length\r\n              : 1;\r\n            if (matchesLength !== matchesNewLength) {\r\n              break;\r\n            }\r\n          }\r\n\r\n          return matchesLength !== matchesNewLength;\r\n        }\r\n\r\n        inputmask.hasAlternator = true;\r\n        let alternateToken = match,\r\n          malternateMatches = [],\r\n          maltMatches,\r\n          currentMatches = matches.slice(),\r\n          loopNdxCnt = loopNdx.length,\r\n          altIndex = ndxInitializer.length > 0 ? ndxInitializer.shift() : -1;\r\n        if (altIndex === -1 || typeof altIndex === \"string\") {\r\n          let currentPos = testPos,\r\n            ndxInitializerClone = ndxInitializer.slice(),\r\n            altIndexArr = [],\r\n            amndx;\r\n          if (typeof altIndex === \"string\") {\r\n            altIndexArr = altIndex.split(\",\");\r\n          } else {\r\n            for (amndx = 0; amndx < alternateToken.matches.length; amndx++) {\r\n              altIndexArr.push(amndx.toString());\r\n            }\r\n          }\r\n\r\n          if (maskset.excludes[pos] !== undefined) {\r\n            const altIndexArrClone = altIndexArr.slice();\r\n            for (let i = 0, exl = maskset.excludes[pos].length; i < exl; i++) {\r\n              const excludeSet = maskset.excludes[pos][i].toString().split(\":\");\r\n              if (loopNdx.length == excludeSet[1]) {\r\n                altIndexArr.splice(altIndexArr.indexOf(excludeSet[0]), 1);\r\n              }\r\n            }\r\n            if (altIndexArr.length === 0) {\r\n              // fully alternated => reset\r\n              delete maskset.excludes[pos];\r\n              altIndexArr = altIndexArrClone;\r\n            }\r\n          }\r\n          if (\r\n            opts.keepStatic === true ||\r\n            (isFinite(parseInt(opts.keepStatic)) &&\r\n              currentPos >= opts.keepStatic)\r\n          )\r\n            altIndexArr = altIndexArr.slice(0, 1);\r\n          for (let ndx = 0; ndx < altIndexArr.length; ndx++) {\r\n            amndx = parseInt(altIndexArr[ndx]);\r\n            matches = [];\r\n            // set the correct ndxInitializer\r\n            ndxInitializer =\r\n              typeof altIndex === \"string\"\r\n                ? resolveNdxInitializer(testPos, amndx, loopNdxCnt) ||\r\n                  ndxInitializerClone.slice()\r\n                : ndxInitializerClone.slice();\r\n            // console.log(\"ndxInit\", ndxInitializer);\r\n            const tokenMatch = alternateToken.matches[amndx];\r\n            if (\r\n              tokenMatch &&\r\n              handleMatch(\r\n                tokenMatch,\r\n                [amndx].concat(loopNdx),\r\n                quantifierRecurse\r\n              )\r\n            ) {\r\n              match = true;\r\n            } else {\r\n              if (ndx === 0) {\r\n                unMatchedAlternation = isUnmatchedAlternation(alternateToken);\r\n              }\r\n              if (\r\n                tokenMatch &&\r\n                tokenMatch.matches &&\r\n                tokenMatch.matches.length >\r\n                  alternateToken.matches[0].matches.length\r\n              ) {\r\n                break;\r\n              }\r\n            }\r\n\r\n            maltMatches = matches.slice();\r\n            testPos = currentPos;\r\n            matches = [];\r\n\r\n            // fuzzy merge matches\r\n            for (let ndx1 = 0; ndx1 < maltMatches.length; ndx1++) {\r\n              let altMatch = maltMatches[ndx1],\r\n                dropMatch = false;\r\n              altMatch.alternation = altMatch.alternation || loopNdxCnt;\r\n              setMergeLocators(altMatch);\r\n              for (let ndx2 = 0; ndx2 < malternateMatches.length; ndx2++) {\r\n                const altMatch2 = malternateMatches[ndx2];\r\n                if (\r\n                  typeof altIndex !== \"string\" ||\r\n                  (altMatch.alternation !== undefined &&\r\n                    altIndexArr.includes(\r\n                      altMatch.locator[altMatch.alternation].toString()\r\n                    ))\r\n                ) {\r\n                  if (altMatch.match.nativeDef === altMatch2.match.nativeDef) {\r\n                    dropMatch = true;\r\n                    setMergeLocators(altMatch2, altMatch);\r\n                    break;\r\n                  } else if (isSubsetOf(altMatch, altMatch2, opts)) {\r\n                    if (setMergeLocators(altMatch, altMatch2)) {\r\n                      dropMatch = true;\r\n                      malternateMatches.splice(\r\n                        malternateMatches.indexOf(altMatch2),\r\n                        0,\r\n                        altMatch\r\n                      );\r\n                    }\r\n                    break;\r\n                  } else if (isSubsetOf(altMatch2, altMatch, opts)) {\r\n                    setMergeLocators(altMatch2, altMatch);\r\n                    break;\r\n                  } else if (staticCanMatchDefinition(altMatch, altMatch2)) {\r\n                    if (\r\n                      !isSameLevel(altMatch, altMatch2) &&\r\n                      el.inputmask.userOptions.keepStatic === undefined\r\n                    ) {\r\n                      opts.keepStatic = true;\r\n                    } else if (setMergeLocators(altMatch, altMatch2)) {\r\n                      // insert match above general match\r\n                      dropMatch = true;\r\n                      malternateMatches.splice(\r\n                        malternateMatches.indexOf(altMatch2),\r\n                        0,\r\n                        altMatch\r\n                      );\r\n                    }\r\n                    break;\r\n                  } else if (staticCanMatchDefinition(altMatch2, altMatch)) {\r\n                    setMergeLocators(altMatch2, altMatch);\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n              if (!dropMatch) {\r\n                malternateMatches.push(altMatch);\r\n              }\r\n            }\r\n          }\r\n\r\n          matches = currentMatches.concat(malternateMatches);\r\n          testPos = pos;\r\n          insertStop = matches.length > 0 && unMatchedAlternation; // insert a stopelemnt when there is an alternate - needed for non-greedy option\r\n          match = malternateMatches.length > 0 && !unMatchedAlternation; // set correct match state\r\n\r\n          if (unMatchedAlternation && insertStop && !match) {\r\n            // mark matches with unMatchedAlternationStopped\r\n            matches.forEach(function (mtch, ndx) {\r\n              mtch.unMatchedAlternationStopped = true;\r\n            });\r\n          }\r\n\r\n          // cloneback\r\n          ndxInitializer = ndxInitializerClone.slice();\r\n        } else {\r\n          match = handleMatch(\r\n            alternateToken.matches[altIndex] || maskToken.matches[altIndex],\r\n            [altIndex].concat(loopNdx),\r\n            quantifierRecurse\r\n          );\r\n        }\r\n        if (match) return true;\r\n      }\r\n\r\n      function handleQuantifier() {\r\n        let qt = match,\r\n          breakloop = false;\r\n        for (\r\n          var qndx = ndxInitializer.length > 0 ? ndxInitializer.shift() : 0;\r\n          qndx < (isNaN(qt.quantifier.max) ? qndx + 1 : qt.quantifier.max) &&\r\n          testPos <= pos;\r\n          qndx++\r\n        ) {\r\n          var tokenGroup = maskToken.matches[maskToken.matches.indexOf(qt) - 1];\r\n          match = handleMatch(tokenGroup, [qndx].concat(loopNdx), tokenGroup); // set the tokenGroup as quantifierRecurse marker\r\n          if (match) {\r\n            matches.forEach(function (mtch, ndx) {\r\n              if (IsMatchOf(tokenGroup, mtch.match)) latestMatch = mtch.match;\r\n              else latestMatch = matches[matches.length - 1].match;\r\n\r\n              // mark optionality\r\n              // TODO FIX RECURSIVE QUANTIFIERS\r\n              latestMatch.optionalQuantifier = qndx >= qt.quantifier.min;\r\n              // console.log(pos + \" \" + qt.quantifier.min + \" \" + latestMatch.optionalQuantifier);\r\n              // qndx + 1 as the index starts from 0\r\n              latestMatch.jit =\r\n                (qndx + 1) * (tokenGroup.matches.indexOf(latestMatch) + 1) >\r\n                qt.quantifier.jit;\r\n              if (\r\n                latestMatch.optionalQuantifier &&\r\n                isFirstMatch(latestMatch, tokenGroup)\r\n              ) {\r\n                insertStop = true;\r\n                testPos = pos; // match the position after the group\r\n                if (\r\n                  opts.greedy &&\r\n                  maskset.validPositions[pos - 1] == undefined &&\r\n                  qndx > qt.quantifier.min &&\r\n                  [\"*\", \"+\"].indexOf(qt.quantifier.max) != -1\r\n                ) {\r\n                  matches.pop();\r\n                  cacheDependency = undefined;\r\n                }\r\n                breakloop = true; // stop quantifierloop && search for next possible match\r\n                match = false; // mark match to false to make sure the loop in optionals continues\r\n              }\r\n              if (\r\n                !breakloop &&\r\n                latestMatch.jit /* && !latestMatch.optionalQuantifier */\r\n              ) {\r\n                // always set jitOffset, isvalid checks when to apply\r\n                maskset.jitOffset[pos] =\r\n                  tokenGroup.matches.length -\r\n                  tokenGroup.matches.indexOf(latestMatch);\r\n              }\r\n            });\r\n            if (breakloop) break; // search for next possible match\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (testPos > pos + opts._maxTestPos) {\r\n        throw new Error(\r\n          `Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ${maskset.mask}`\r\n        );\r\n      }\r\n      if (testPos === pos && match.matches === undefined) {\r\n        matches.push({\r\n          match,\r\n          locator: loopNdx.reverse(),\r\n          cd: cacheDependency,\r\n          mloc: {}\r\n        });\r\n        if (\r\n          match.optionality &&\r\n          quantifierRecurse === undefined &&\r\n          ((opts.definitions &&\r\n            opts.definitions[match.nativeDef] &&\r\n            opts.definitions[match.nativeDef].optional) ||\r\n            (Inputmask.prototype.definitions[match.nativeDef] &&\r\n              Inputmask.prototype.definitions[match.nativeDef].optional))\r\n        ) {\r\n          // prevent loop see #698\r\n          insertStop = true; // insert a stop\r\n          testPos = pos; // match the position after the group\r\n        } else {\r\n          return true;\r\n        }\r\n      } else if (match.matches !== undefined) {\r\n        if (match.isGroup && quantifierRecurse !== match) {\r\n          // when a group pass along to the quantifier\r\n          return handleGroup();\r\n        } else if (match.isOptional) {\r\n          return handleOptional();\r\n        } else if (match.isAlternator) {\r\n          return handleAlternator();\r\n        } else if (\r\n          match.isQuantifier &&\r\n          quantifierRecurse !==\r\n            maskToken.matches[maskToken.matches.indexOf(match) - 1]\r\n        ) {\r\n          return handleQuantifier();\r\n        } else {\r\n          match = resolveTestFromToken(\r\n            match,\r\n            ndxInitializer,\r\n            loopNdx,\r\n            quantifierRecurse\r\n          );\r\n          if (match) return true;\r\n        }\r\n      } else {\r\n        testPos++;\r\n      }\r\n    }\r\n\r\n    // the offset is set in the quantifierloop when git masking is used\r\n    for (\r\n      let tndx = ndxInitializer.length > 0 ? ndxInitializer.shift() : 0;\r\n      tndx < maskToken.matches.length;\r\n      tndx++\r\n    ) {\r\n      if (maskToken.matches[tndx].isQuantifier !== true) {\r\n        const match = handleMatch(\r\n          maskToken.matches[tndx],\r\n          [tndx].concat(loopNdx),\r\n          quantifierRecurse\r\n        );\r\n        if (match && testPos === pos) {\r\n          return match;\r\n        } else if (testPos > pos) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function IsMatchOf(tokenGroup, match) {\r\n    let isMatch = tokenGroup.matches.indexOf(match) != -1;\r\n    if (!isMatch) {\r\n      tokenGroup.matches.forEach((mtch, ndx) => {\r\n        if (mtch.matches !== undefined && !isMatch) {\r\n          isMatch = IsMatchOf(mtch, match);\r\n        }\r\n      });\r\n    }\r\n    return isMatch;\r\n  }\r\n\r\n  function mergeLocators(pos, tests) {\r\n    let locator = [],\r\n      alternation;\r\n    if (!Array.isArray(tests)) tests = [tests];\r\n\r\n    if (tests.length > 0) {\r\n      if (tests[0].alternation === undefined || opts.keepStatic === true) {\r\n        locator = determineTestTemplate\r\n          .call(inputmask, pos, tests.slice())\r\n          .locator.slice();\r\n        if (locator.length === 0) locator = tests[0].locator.slice();\r\n      } else {\r\n        tests.forEach(function (tst) {\r\n          if (tst.def !== \"\") {\r\n            if (locator.length === 0) {\r\n              alternation = tst.alternation;\r\n              locator = tst.locator.slice();\r\n            } else {\r\n              if (\r\n                tst.locator[alternation] &&\r\n                locator[alternation]\r\n                  .toString()\r\n                  .indexOf(tst.locator[alternation]) === -1\r\n              ) {\r\n                locator[alternation] += \",\" + tst.locator[alternation];\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n    return locator;\r\n  }\r\n\r\n  if (pos > -1) {\r\n    if (ndxIntlzr === undefined) {\r\n      // determine index initializer\r\n      let previousPos = pos - 1,\r\n        test;\r\n      while (\r\n        (test =\r\n          maskset.validPositions[previousPos] || maskset.tests[previousPos]) ===\r\n          undefined &&\r\n        previousPos > -1\r\n      ) {\r\n        previousPos--;\r\n      }\r\n      if (test !== undefined && previousPos > -1) {\r\n        ndxInitializer = mergeLocators(previousPos, test);\r\n        cacheDependency = ndxInitializer.join(\"\");\r\n        testPos = previousPos;\r\n      }\r\n    }\r\n    if (maskset.tests[pos] && maskset.tests[pos][0].cd === cacheDependency) {\r\n      // cacheDependency is set on all tests, just check on the first\r\n      return maskset.tests[pos];\r\n    }\r\n    for (\r\n      let mtndx = ndxInitializer.shift();\r\n      mtndx < maskTokens.length;\r\n      mtndx++\r\n    ) {\r\n      const match = resolveTestFromToken(maskTokens[mtndx], ndxInitializer, [\r\n        mtndx\r\n      ]);\r\n      if ((match && testPos === pos) || testPos > pos) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  if (matches.length === 0 || insertStop) {\r\n    matches.push({\r\n      match: {\r\n        fn: null,\r\n        static: true,\r\n        optionality: false,\r\n        casing: null,\r\n        def: \"\",\r\n        placeholder: \"\"\r\n      },\r\n      // mark when there are unmatched alternations  ex: mask: \"(a|aa)\"\r\n      // this will result in the least distance to select the correct test result in determineTestTemplate\r\n      locator:\r\n        unMatchedAlternation &&\r\n        matches.filter((tst) => tst.unMatchedAlternationStopped !== true)\r\n          .length === 0\r\n          ? [0]\r\n          : [],\r\n      mloc: {},\r\n      cd: cacheDependency\r\n    });\r\n  }\r\n  let result;\r\n  if (ndxIntlzr !== undefined && maskset.tests[pos]) {\r\n    // prioritize full tests for caching\r\n    result = $.extend(true, [], matches);\r\n  } else {\r\n    // console.log(\"stored \" + pos + \" - \" + JSON.stringify(matches));\r\n    maskset.tests[pos] = $.extend(true, [], matches); // set a clone to prevent overwriting some props\r\n    result = maskset.tests[pos];\r\n  }\r\n\r\n  // console.log(pos + \" - \" + JSON.stringify(matches));\r\n  // cleanup optionality marking\r\n  matches.forEach((t) => {\r\n    t.match.optionality = t.match.defOptionality || false;\r\n  });\r\n\r\n  return result;\r\n}\r\n","import { EventHandlers } from \"./eventhandlers\";\r\nimport { keyCode, keys } from \"./keycode.js\";\r\nimport {\r\n  determineLastRequiredPosition,\r\n  determineNewCaretPosition,\r\n  getBuffer,\r\n  getLastValidPosition,\r\n  isMask,\r\n  resetMaskSet,\r\n  seekNext,\r\n  seekPrevious\r\n} from \"./positioning\";\r\nimport {\r\n  determineTestTemplate,\r\n  getDecisionTaker,\r\n  getPlaceholder,\r\n  getTest,\r\n  getTests,\r\n  getTestTemplate\r\n} from \"./validation-tests\";\r\n\r\nexport {\r\n  alternate,\r\n  checkAlternationMatch,\r\n  isComplete,\r\n  isSelection,\r\n  isValid,\r\n  refreshFromBuffer,\r\n  revalidateMask,\r\n  handleRemove\r\n};\r\n\r\n// tobe put on prototype?\r\nfunction alternate(maskPos, c, strict, fromIsValid, rAltPos, selection) {\r\n  // pos == true => generalize\r\n  const inputmask = this,\r\n    $ = this.dependencyLib,\r\n    opts = this.opts,\r\n    maskset = inputmask.maskset;\r\n\r\n  if (!inputmask.hasAlternator) return false;\r\n\r\n  let validPsClone = $.extend(true, [], maskset.validPositions),\r\n    tstClone = $.extend(true, {}, maskset.tests),\r\n    lastAlt,\r\n    alternation,\r\n    isValidRslt = false,\r\n    returnRslt = false,\r\n    altPos,\r\n    prevAltPos,\r\n    i,\r\n    validPos,\r\n    decisionPos,\r\n    lAltPos =\r\n      rAltPos !== undefined ? rAltPos : getLastValidPosition.call(inputmask),\r\n    nextPos,\r\n    input,\r\n    begin,\r\n    end;\r\n\r\n  if (selection) {\r\n    begin = selection.begin;\r\n    end = selection.end;\r\n    if (selection.begin > selection.end) {\r\n      begin = selection.end;\r\n      end = selection.begin;\r\n    }\r\n  }\r\n  if (lAltPos === -1 && rAltPos === undefined) {\r\n    // do not recurse when already paste the beginning\r\n    lastAlt = 0;\r\n    prevAltPos = getTest.call(inputmask, lastAlt);\r\n    alternation = prevAltPos.alternation;\r\n  } else {\r\n    // find last modified alternation\r\n    for (; lAltPos >= 0; lAltPos--) {\r\n      altPos = maskset.validPositions[lAltPos];\r\n      if (altPos && altPos.alternation !== undefined) {\r\n        if (\r\n          lAltPos <= (maskPos || 0) &&\r\n          prevAltPos &&\r\n          prevAltPos.locator[altPos.alternation] !==\r\n            altPos.locator[altPos.alternation]\r\n        ) {\r\n          break;\r\n        }\r\n        lastAlt = lAltPos;\r\n        alternation = maskset.validPositions[lastAlt].alternation;\r\n        prevAltPos = altPos;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (alternation !== undefined) {\r\n    decisionPos = parseInt(lastAlt);\r\n    maskset.excludes[decisionPos] = maskset.excludes[decisionPos] || [];\r\n    if (maskPos !== true) {\r\n      // generalize\r\n      maskset.excludes[decisionPos].push(\r\n        getDecisionTaker(prevAltPos) + \":\" + prevAltPos.alternation\r\n      );\r\n    }\r\n\r\n    let validInputs = [],\r\n      resultPos = -1;\r\n    for (\r\n      i = decisionPos;\r\n      decisionPos < getLastValidPosition.call(inputmask, undefined, true) + 1;\r\n      i++\r\n    ) {\r\n      if (resultPos === -1 && maskPos <= i && c !== undefined) {\r\n        validInputs.push(c);\r\n        resultPos = validInputs.length - 1;\r\n      }\r\n      validPos = maskset.validPositions[decisionPos];\r\n      if (\r\n        validPos &&\r\n        validPos.generatedInput !== true &&\r\n        (selection === undefined || i < begin || i >= end)\r\n      ) {\r\n        validInputs.push(validPos.input);\r\n      }\r\n      // delete maskset.validPositions[i++];\r\n      maskset.validPositions.splice(decisionPos, 1);\r\n    }\r\n    if (resultPos === -1 && c !== undefined) {\r\n      validInputs.push(c);\r\n      resultPos = validInputs.length - 1;\r\n    }\r\n\r\n    while (\r\n      maskset.excludes[decisionPos] !== undefined &&\r\n      maskset.excludes[decisionPos].length < 10\r\n    ) {\r\n      // maskset.tests[decisionPos] = undefined; //clear decisionPos\r\n      maskset.tests = {}; // clear all\r\n      resetMaskSet.call(inputmask, true); // clear getbuffer\r\n      isValidRslt = true;\r\n      for (i = 0; i < validInputs.length; i++) {\r\n        nextPos =\r\n          isValidRslt.caret ||\r\n          (opts.insertMode == false && nextPos != undefined)\r\n            ? seekNext.call(inputmask, nextPos)\r\n            : getLastValidPosition.call(inputmask, undefined, true) + 1;\r\n        input = validInputs[i];\r\n        // nextPos = translatePosition.call(inputmask, nextPos);\r\n        if (\r\n          !(isValidRslt = isValid.call(\r\n            inputmask,\r\n            nextPos,\r\n            input,\r\n            false,\r\n            fromIsValid,\r\n            true\r\n          ))\r\n        ) {\r\n          break;\r\n        }\r\n        if (i === resultPos) {\r\n          returnRslt = isValidRslt;\r\n        }\r\n        if (maskPos == true && isValidRslt) {\r\n          // return validposition on generalise\r\n          returnRslt = { caretPos: i };\r\n        }\r\n      }\r\n      if (!isValidRslt) {\r\n        resetMaskSet.call(inputmask);\r\n        prevAltPos = getTest.call(inputmask, decisionPos); // get the current decisionPos to exclude ~ needs to be before restoring the initial validation\r\n        // reset & revert\r\n        maskset.validPositions = $.extend(true, [], validPsClone);\r\n        maskset.tests = $.extend(true, {}, tstClone); // refresh tests after possible alternating\r\n        if (maskset.excludes[decisionPos]) {\r\n          if (prevAltPos.alternation != undefined) {\r\n            const decisionTaker = getDecisionTaker(prevAltPos);\r\n            if (\r\n              maskset.excludes[decisionPos].indexOf(\r\n                decisionTaker + \":\" + prevAltPos.alternation\r\n              ) !== -1\r\n            ) {\r\n              returnRslt = alternate.call(\r\n                inputmask,\r\n                maskPos,\r\n                c,\r\n                strict,\r\n                fromIsValid,\r\n                decisionPos - 1,\r\n                selection\r\n              );\r\n              break;\r\n            }\r\n            maskset.excludes[decisionPos].push(\r\n              decisionTaker + \":\" + prevAltPos.alternation\r\n            );\r\n            for (\r\n              i = decisionPos;\r\n              i < getLastValidPosition.call(inputmask, undefined, true) + 1;\r\n              i++\r\n            )\r\n              maskset.validPositions.splice(decisionPos);\r\n          } else delete maskset.excludes[decisionPos];\r\n        } else {\r\n          // latest alternation\r\n          returnRslt = alternate.call(\r\n            inputmask,\r\n            maskPos,\r\n            c,\r\n            strict,\r\n            fromIsValid,\r\n            decisionPos - 1,\r\n            selection\r\n          );\r\n          break;\r\n        }\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // reset alternation excludes\r\n  if (!returnRslt || opts.keepStatic !== false) {\r\n    delete maskset.excludes[decisionPos];\r\n  }\r\n  return returnRslt;\r\n}\r\n\r\nfunction casing(elem, test, pos) {\r\n  const opts = this.opts,\r\n    maskset = this.maskset;\r\n\r\n  switch (opts.casing || test.casing) {\r\n    case \"upper\":\r\n      elem = elem.toUpperCase();\r\n      break;\r\n    case \"lower\":\r\n      elem = elem.toLowerCase();\r\n      break;\r\n    case \"title\":\r\n      var posBefore = maskset.validPositions[pos - 1];\r\n      if (\r\n        pos === 0 ||\r\n        (posBefore && posBefore.input === String.fromCharCode(keyCode.Space))\r\n      ) {\r\n        elem = elem.toUpperCase();\r\n      } else {\r\n        elem = elem.toLowerCase();\r\n      }\r\n      break;\r\n    default:\r\n      if (typeof opts.casing === \"function\") {\r\n        const args = Array.prototype.slice.call(arguments);\r\n        args.push(maskset.validPositions);\r\n        elem = opts.casing.apply(this, args);\r\n      }\r\n  }\r\n\r\n  return elem;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction checkAlternationMatch(altArr1, altArr2, na) {\r\n  const opts = this.opts;\r\n\r\n  let altArrC = opts.greedy ? altArr2 : altArr2.slice(0, 1),\r\n    isMatch = false,\r\n    naArr = na !== undefined ? na.split(\",\") : [],\r\n    naNdx;\r\n\r\n  // remove no alternate indexes from alternation array\r\n  for (let i = 0; i < naArr.length; i++) {\r\n    if ((naNdx = altArr1.indexOf(naArr[i])) !== -1) {\r\n      altArr1.splice(naNdx, 1);\r\n    }\r\n  }\r\n\r\n  for (let alndx = 0; alndx < altArr1.length; alndx++) {\r\n    if (altArrC.includes(altArr1[alndx])) {\r\n      isMatch = true;\r\n      break;\r\n    }\r\n  }\r\n  return isMatch;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction handleRemove(input, c, pos, strict, fromIsValid) {\r\n  const inputmask = this,\r\n    maskset = this.maskset,\r\n    opts = this.opts;\r\n\r\n  if (opts.numericInput || inputmask.isRTL) {\r\n    if (c === keys.Backspace) {\r\n      c = keys.Delete;\r\n    } else if (c === keys.Delete) {\r\n      c = keys.Backspace;\r\n    }\r\n\r\n    if (inputmask.isRTL) {\r\n      const pend = pos.end;\r\n      pos.end = pos.begin;\r\n      pos.begin = pend;\r\n    }\r\n  }\r\n\r\n  const lvp = getLastValidPosition.call(inputmask, undefined, true);\r\n  if (pos.end >= getBuffer.call(inputmask).length && lvp >= pos.end) {\r\n    // handle numeric negate symbol offset, due to  dynamic jit masking\r\n    pos.end = lvp + 1;\r\n  }\r\n\r\n  if (c === keys.Backspace) {\r\n    if (pos.end - pos.begin < 1) {\r\n      pos.begin = seekPrevious.call(inputmask, pos.begin);\r\n    }\r\n  } else if (c === keys.Delete) {\r\n    if (pos.begin === pos.end) {\r\n      pos.end = isMask.call(inputmask, pos.end, true, true)\r\n        ? pos.end + 1\r\n        : seekNext.call(inputmask, pos.end) + 1;\r\n    }\r\n  }\r\n  let offset;\r\n  if ((offset = revalidateMask.call(inputmask, pos)) !== false) {\r\n    if (\r\n      (strict !== true && opts.keepStatic !== false) ||\r\n      (opts.regex !== null &&\r\n        getTest.call(inputmask, pos.begin).match.def.indexOf(\"|\") !== -1)\r\n    ) {\r\n      // TODO NEEDS BETTER CHECK WHEN TO ALTERNATE  ~ opts regex isn\"t good enough\r\n      alternate.call(inputmask, true);\r\n    }\r\n\r\n    if (strict !== true) {\r\n      maskset.p = c === keys.Delete ? pos.begin + offset : pos.begin;\r\n      maskset.p = determineNewCaretPosition.call(\r\n        inputmask,\r\n        {\r\n          begin: maskset.p,\r\n          end: maskset.p\r\n        },\r\n        false,\r\n        opts.insertMode === false && c === keys.Backspace ? \"none\" : undefined\r\n      ).begin;\r\n    }\r\n  }\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction isComplete(buffer) {\r\n  // return true / false / undefined (repeat *)\r\n  const inputmask = this,\r\n    opts = this.opts,\r\n    maskset = this.maskset;\r\n\r\n  if (typeof opts.isComplete === \"function\")\r\n    return opts.isComplete(buffer, opts);\r\n  if (opts.repeat === \"*\") return undefined;\r\n  let complete = false,\r\n    lrp = determineLastRequiredPosition.call(inputmask, true),\r\n    aml = lrp.l; // seekPrevious.call(inputmask, lrp.l);\r\n\r\n  if (\r\n    lrp.def === undefined ||\r\n    lrp.def.newBlockMarker ||\r\n    lrp.def.optionality ||\r\n    lrp.def.optionalQuantifier\r\n  ) {\r\n    complete = true;\r\n    for (let i = 0; i <= aml; i++) {\r\n      const test = getTestTemplate.call(inputmask, i).match;\r\n      if (\r\n        (test.static !== true &&\r\n          maskset.validPositions[i] === undefined &&\r\n          (test.optionality === false ||\r\n            test.optionality === undefined ||\r\n            (test.optionality && test.newBlockMarker == false)) &&\r\n          (test.optionalQuantifier === false ||\r\n            test.optionalQuantifier === undefined)) ||\r\n        (test.static === true &&\r\n          test.def != \"\" &&\r\n          buffer[i] !== getPlaceholder.call(inputmask, i, test))\r\n      ) {\r\n        complete = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  return complete;\r\n}\r\n\r\nfunction isSelection(posObj) {\r\n  const inputmask = this,\r\n    opts = this.opts,\r\n    insertModeOffset = opts.insertMode ? 0 : 1;\r\n  return inputmask.isRTL\r\n    ? posObj.begin - posObj.end > insertModeOffset\r\n    : posObj.end - posObj.begin > insertModeOffset;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction isValid(\r\n  pos,\r\n  c,\r\n  strict,\r\n  fromIsValid,\r\n  fromAlternate,\r\n  validateOnly,\r\n  fromCheckval\r\n) {\r\n  // strict true ~ no correction or autofill\r\n  const inputmask = this,\r\n    $ = this.dependencyLib,\r\n    opts = this.opts,\r\n    maskset = inputmask.maskset;\r\n\r\n  strict = strict === true; // always set a value to strict to prevent possible strange behavior in the extensions\r\n\r\n  let maskPos = pos;\r\n  if (pos.begin !== undefined) {\r\n    // position was a position object - used to handle a delete by typing over a selection\r\n    maskPos = inputmask.isRTL ? pos.end : pos.begin;\r\n  }\r\n\r\n  function processCommandObject(commandObj) {\r\n    if (commandObj !== undefined) {\r\n      if (commandObj.remove !== undefined) {\r\n        // remove position(s)\r\n        if (!Array.isArray(commandObj.remove))\r\n          commandObj.remove = [commandObj.remove];\r\n        commandObj.remove\r\n          .sort(function (a, b) {\r\n            return inputmask.isRTL ? a.pos - b.pos : b.pos - a.pos;\r\n          })\r\n          .forEach(function (lmnt) {\r\n            revalidateMask.call(inputmask, { begin: lmnt, end: lmnt + 1 });\r\n          });\r\n        commandObj.remove = undefined;\r\n      }\r\n      if (commandObj.insert !== undefined) {\r\n        // insert position(s)\r\n        if (!Array.isArray(commandObj.insert))\r\n          commandObj.insert = [commandObj.insert];\r\n        commandObj.insert\r\n          .sort(function (a, b) {\r\n            return inputmask.isRTL ? b.pos - a.pos : a.pos - b.pos;\r\n          })\r\n          .forEach(function (lmnt) {\r\n            if (lmnt.c !== \"\") {\r\n              isValid.call(\r\n                inputmask,\r\n                lmnt.pos,\r\n                lmnt.c,\r\n                lmnt.strict !== undefined ? lmnt.strict : true,\r\n                lmnt.fromIsValid !== undefined ? lmnt.fromIsValid : fromIsValid\r\n              );\r\n            }\r\n          });\r\n        commandObj.insert = undefined;\r\n      }\r\n\r\n      if (commandObj.refreshFromBuffer && commandObj.buffer) {\r\n        const refresh = commandObj.refreshFromBuffer;\r\n        refreshFromBuffer.call(\r\n          inputmask,\r\n          refresh === true ? refresh : refresh.start,\r\n          refresh.end,\r\n          commandObj.buffer\r\n        );\r\n        commandObj.refreshFromBuffer = undefined;\r\n      }\r\n\r\n      if (commandObj.rewritePosition !== undefined) {\r\n        maskPos = commandObj.rewritePosition;\r\n        // commandObj.rewritePosition = undefined;\r\n        commandObj = true; // see prevalidation in isValid\r\n      }\r\n    }\r\n    return commandObj;\r\n  }\r\n\r\n  function _isValid(position, c, strict) {\r\n    let rslt = false;\r\n    getTests.call(inputmask, position).every(function (tst, ndx) {\r\n      const test = tst.match;\r\n      // make sure the buffer is set and correct\r\n      getBuffer.call(inputmask, true);\r\n      if (\r\n        test.jit &&\r\n        maskset.validPositions[seekPrevious.call(inputmask, position)] ===\r\n          undefined\r\n      ) {\r\n        // ignore if jit is not desirable\r\n        rslt = false;\r\n      } else {\r\n        // return is false or a json object => { pos: ??, c: ??} or true\r\n        rslt =\r\n          test.fn != null\r\n            ? test.fn.test(\r\n                c,\r\n                maskset,\r\n                position,\r\n                strict,\r\n                opts,\r\n                isSelection.call(inputmask, pos)\r\n              )\r\n            : (c === test.def || c === opts.skipOptionalPartCharacter) &&\r\n              test.def !== \"\" // non mask\r\n            ? {\r\n                c:\r\n                  getPlaceholder.call(inputmask, position, test, true) ||\r\n                  test.def,\r\n                pos: position\r\n              }\r\n            : false;\r\n      }\r\n      if (rslt !== false) {\r\n        let elem = rslt.c !== undefined ? rslt.c : c,\r\n          validatedPos = position;\r\n        elem =\r\n          elem === opts.skipOptionalPartCharacter && test.static === true\r\n            ? getPlaceholder.call(inputmask, position, test, true) || test.def\r\n            : elem;\r\n\r\n        rslt = processCommandObject(rslt);\r\n\r\n        if (rslt !== true && rslt.pos !== undefined && rslt.pos !== position) {\r\n          // their is a position offset\r\n          validatedPos = rslt.pos;\r\n        }\r\n\r\n        if (rslt !== true && rslt.pos === undefined && rslt.c === undefined) {\r\n          return false; // breakout if nothing to insert\r\n        }\r\n\r\n        if (\r\n          revalidateMask.call(\r\n            inputmask,\r\n            pos,\r\n            $.extend({}, tst, {\r\n              input: casing.call(inputmask, elem, test, validatedPos)\r\n            }),\r\n            fromIsValid,\r\n            validatedPos\r\n          ) === false\r\n        ) {\r\n          rslt = false;\r\n        }\r\n        return false; // break from loop\r\n      }\r\n\r\n      return true;\r\n    });\r\n    return rslt;\r\n  }\r\n\r\n  let result = true,\r\n    positionsClone = $.extend(true, [], maskset.validPositions); // clone the currentPositions\r\n\r\n  if (\r\n    opts.keepStatic === false &&\r\n    maskset.excludes[maskPos] !== undefined &&\r\n    fromAlternate !== true &&\r\n    fromIsValid !== true\r\n  ) {\r\n    for (let i = maskPos; i < (inputmask.isRTL ? pos.begin : pos.end); i++) {\r\n      if (maskset.excludes[i] !== undefined) {\r\n        maskset.excludes[i] = undefined;\r\n        delete maskset.tests[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  if (\r\n    typeof opts.preValidation === \"function\" &&\r\n    fromIsValid !== true &&\r\n    validateOnly !== true\r\n  ) {\r\n    result = opts.preValidation.call(\r\n      inputmask,\r\n      getBuffer.call(inputmask),\r\n      maskPos,\r\n      c,\r\n      isSelection.call(inputmask, pos),\r\n      opts,\r\n      maskset,\r\n      pos,\r\n      strict || fromAlternate\r\n    );\r\n    result = processCommandObject(result);\r\n  }\r\n  if (result === true) {\r\n    // preValidation result\r\n    result = _isValid(maskPos, c, strict);\r\n    if (\r\n      (!strict || fromIsValid === true) &&\r\n      result === false &&\r\n      validateOnly !== true\r\n    ) {\r\n      const currentPosValid = maskset.validPositions[maskPos];\r\n      if (\r\n        currentPosValid &&\r\n        currentPosValid.match.static === true &&\r\n        (currentPosValid.match.def === c ||\r\n          c === opts.skipOptionalPartCharacter)\r\n      ) {\r\n        result = {\r\n          caret: seekNext.call(inputmask, maskPos)\r\n        };\r\n      } else {\r\n        if (\r\n          opts.insertMode ||\r\n          maskset.validPositions[seekNext.call(inputmask, maskPos)] ===\r\n            undefined ||\r\n          pos.end > maskPos\r\n        ) {\r\n          // does the input match on a further position?\r\n          let skip = false;\r\n          if (\r\n            maskset.jitOffset[maskPos] &&\r\n            maskset.validPositions[seekNext.call(inputmask, maskPos)] ===\r\n              undefined\r\n          ) {\r\n            result = isValid.call(\r\n              inputmask,\r\n              maskPos + maskset.jitOffset[maskPos],\r\n              c,\r\n              true,\r\n              true\r\n            );\r\n            if (result !== false) {\r\n              if (fromAlternate !== true) result.caret = maskPos;\r\n              skip = true;\r\n            }\r\n          }\r\n          if (pos.end > maskPos) {\r\n            maskset.validPositions[maskPos] = undefined;\r\n          }\r\n          if (\r\n            !skip &&\r\n            !isMask.call(inputmask, maskPos, opts.keepStatic && maskPos === 0)\r\n          ) {\r\n            for (\r\n              let nPos = maskPos + 1,\r\n                snPos = seekNext.call(inputmask, maskPos, false, maskPos !== 0);\r\n              nPos <= snPos;\r\n              nPos++\r\n            ) {\r\n              // if (!isMask(nPos, true)) {\r\n              // \tcontinue;\r\n              // }\r\n              result = _isValid(nPos, c, strict);\r\n              if (result !== false) {\r\n                result =\r\n                  trackbackPositions.call(\r\n                    inputmask,\r\n                    maskPos,\r\n                    result.pos !== undefined ? result.pos : nPos\r\n                  ) || result;\r\n                maskPos = nPos;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (inputmask.hasAlternator && fromAlternate !== true && !strict) {\r\n      fromAlternate = true; // stop possible loop\r\n      if (\r\n        result === false &&\r\n        opts.keepStatic &&\r\n        (isComplete.call(inputmask, getBuffer.call(inputmask)) || maskPos === 0)\r\n      ) {\r\n        // try fuzzy alternator logic\r\n        result = alternate.call(\r\n          inputmask,\r\n          maskPos,\r\n          c,\r\n          strict,\r\n          fromIsValid,\r\n          undefined,\r\n          pos\r\n        );\r\n      } else if (\r\n        isSelection.call(inputmask, pos) &&\r\n        maskset.tests[maskPos] &&\r\n        maskset.tests[maskPos].length > 1 &&\r\n        opts.keepStatic\r\n      ) {\r\n        // selection clears an alternated keepstatic mask ~ #2189\r\n        result = alternate.call(inputmask, true);\r\n      } else if (\r\n        result == true &&\r\n        opts.numericInput !== true &&\r\n        maskset.tests[maskPos] &&\r\n        maskset.tests[maskPos].length > 1 &&\r\n        getLastValidPosition.call(inputmask, undefined, true) > maskPos\r\n      ) {\r\n        // console.log(\"Alternating\");\r\n        result = alternate.call(inputmask, true);\r\n      }\r\n    }\r\n\r\n    if (result === true) {\r\n      result = {\r\n        pos: maskPos\r\n      };\r\n    }\r\n  }\r\n  if (\r\n    typeof opts.postValidation === \"function\" &&\r\n    fromIsValid !== true &&\r\n    validateOnly !== true\r\n  ) {\r\n    const postResult = opts.postValidation.call(\r\n      inputmask,\r\n      getBuffer.call(inputmask, true),\r\n      pos.begin !== undefined ? (inputmask.isRTL ? pos.end : pos.begin) : pos,\r\n      c,\r\n      result,\r\n      opts,\r\n      maskset,\r\n      strict,\r\n      fromCheckval,\r\n      fromAlternate\r\n    );\r\n    if (postResult !== undefined) {\r\n      result = postResult === true ? result : postResult;\r\n    }\r\n  }\r\n\r\n  if (result && result.pos === undefined) {\r\n    result.pos = maskPos;\r\n  }\r\n\r\n  if (result === false || validateOnly === true) {\r\n    resetMaskSet.call(inputmask, true);\r\n    maskset.validPositions = $.extend(true, [], positionsClone); // revert validation changes\r\n  } else {\r\n    trackbackPositions.call(inputmask, undefined, maskPos, true);\r\n  }\r\n\r\n  let endResult = processCommandObject(result);\r\n  // console.log(\"returned result \" + JSON.stringify(endResult));\r\n  if (inputmask.maxLength !== undefined) {\r\n    const buffer = getBuffer.call(inputmask);\r\n    if (buffer.length > inputmask.maxLength && !fromIsValid) {\r\n      resetMaskSet.call(inputmask, true);\r\n      maskset.validPositions = $.extend(true, [], positionsClone); // revert validation changes\r\n      endResult = false;\r\n    }\r\n  }\r\n  return endResult;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction positionCanMatchDefinition(pos, testDefinition, opts) {\r\n  const inputmask = this,\r\n    maskset = this.maskset;\r\n\r\n  let valid = false,\r\n    tests = getTests.call(inputmask, pos);\r\n  for (let tndx = 0; tndx < tests.length; tndx++) {\r\n    if (\r\n      tests[tndx].match &&\r\n      ((tests[tndx].match.nativeDef ===\r\n        testDefinition.match[opts.shiftPositions ? \"def\" : \"nativeDef\"] &&\r\n        (!opts.shiftPositions || !testDefinition.match.static)) ||\r\n        tests[tndx].match.nativeDef === testDefinition.match.nativeDef ||\r\n        (opts.regex &&\r\n          !tests[tndx].match.static &&\r\n          tests[tndx].match.fn.test(\r\n            testDefinition.input,\r\n            maskset,\r\n            pos,\r\n            false,\r\n            opts\r\n          )))\r\n    ) {\r\n      valid = true;\r\n      break;\r\n    } else if (\r\n      tests[tndx].match &&\r\n      tests[tndx].match.def === testDefinition.match.nativeDef\r\n    ) {\r\n      valid = undefined;\r\n      break;\r\n    }\r\n  }\r\n  if (valid === false) {\r\n    if (maskset.jitOffset[pos] !== undefined) {\r\n      valid = positionCanMatchDefinition.call(\r\n        inputmask,\r\n        pos + maskset.jitOffset[pos],\r\n        testDefinition,\r\n        opts\r\n      );\r\n    }\r\n  }\r\n  return valid;\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction refreshFromBuffer(start, end, buffer) {\r\n  const inputmask = this,\r\n    maskset = this.maskset,\r\n    opts = this.opts,\r\n    $ = this.dependencyLib;\r\n  // checkVal.call(inputmask, el, false, true, isRTL ? buffer.reverse() : buffer);\r\n  let i,\r\n    p,\r\n    skipOptionalPartCharacter = opts.skipOptionalPartCharacter,\r\n    bffr = inputmask.isRTL ? buffer.slice().reverse() : buffer;\r\n  opts.skipOptionalPartCharacter = \"\";\r\n  if (start === true) {\r\n    resetMaskSet.call(inputmask, false);\r\n    start = 0;\r\n    end = buffer.length;\r\n    p = determineNewCaretPosition.call(\r\n      inputmask,\r\n      { begin: 0, end: 0 },\r\n      false\r\n    ).begin;\r\n  } else {\r\n    for (i = start; i < end; i++) {\r\n      maskset.validPositions.splice(start, 0);\r\n    }\r\n    p = start;\r\n  }\r\n\r\n  const keypress = new $.Event(\"keypress\");\r\n  for (i = start; i < end; i++) {\r\n    keypress.key = bffr[i].toString();\r\n    inputmask.ignorable = false; // make sure ignorable is ignored ;-)\r\n    const valResult = EventHandlers.keypressEvent.call(\r\n      inputmask,\r\n      keypress,\r\n      true,\r\n      false,\r\n      false,\r\n      p\r\n    );\r\n    if (valResult !== false && valResult !== undefined) {\r\n      p = valResult.forwardPosition;\r\n    }\r\n  }\r\n\r\n  opts.skipOptionalPartCharacter = skipOptionalPartCharacter;\r\n}\r\n\r\n// tobe put on prototype?\r\n// fill in best positions according the current input\r\nfunction trackbackPositions(originalPos, newPos, fillOnly) {\r\n  const inputmask = this,\r\n    maskset = this.maskset,\r\n    $ = this.dependencyLib;\r\n\r\n  // console.log(\"trackbackPositions \" + originalPos + \" \" + newPos);\r\n  if (originalPos === undefined) {\r\n    // find previous valid\r\n    for (originalPos = newPos - 1; originalPos > 0; originalPos--) {\r\n      if (maskset.validPositions[originalPos]) break;\r\n    }\r\n  }\r\n  for (let ps = originalPos; ps < newPos; ps++) {\r\n    if (\r\n      maskset.validPositions[ps] === undefined &&\r\n      !isMask.call(inputmask, ps, false)\r\n    ) {\r\n      const vp =\r\n        ps == 0 ? getTest.call(inputmask, ps) : maskset.validPositions[ps - 1];\r\n      if (vp) {\r\n        const tests = getTests.call(inputmask, ps).slice();\r\n        if (tests[tests.length - 1].match.def === \"\") tests.pop();\r\n        var bestMatch = determineTestTemplate.call(inputmask, ps, tests),\r\n          np;\r\n        if (\r\n          bestMatch &&\r\n          (bestMatch.match.jit !== true ||\r\n            (bestMatch.match.newBlockMarker === \"master\" &&\r\n              (np = maskset.validPositions[ps + 1]) &&\r\n              np.match.optionalQuantifier === true))\r\n        ) {\r\n          bestMatch = $.extend({}, bestMatch, {\r\n            input:\r\n              getPlaceholder.call(inputmask, ps, bestMatch.match, true) ||\r\n              bestMatch.match.def\r\n          });\r\n          bestMatch.generatedInput = true;\r\n          revalidateMask.call(inputmask, ps, bestMatch, true);\r\n\r\n          if (fillOnly !== true) {\r\n            // revalidate the new position to update the locator value\r\n            const cvpInput = maskset.validPositions[newPos].input;\r\n            maskset.validPositions[newPos] = undefined;\r\n            return isValid.call(inputmask, newPos, cvpInput, true, true);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// tobe put on prototype?\r\nfunction revalidateMask(pos, validTest, fromIsValid, validatedPos) {\r\n  // console.log(\"revalidateMask \" + fromIsValid);\r\n  const inputmask = this,\r\n    maskset = this.maskset,\r\n    opts = this.opts,\r\n    $ = this.dependencyLib;\r\n\r\n  function IsEnclosedStatic(pos, valids, selection) {\r\n    const posMatch = valids[pos];\r\n    if (\r\n      posMatch !== undefined &&\r\n      posMatch.match.static === true &&\r\n      posMatch.match.optionality !== true &&\r\n      (valids[0] === undefined || valids[0].alternation === undefined)\r\n    ) {\r\n      const prevMatch =\r\n          selection.begin <= pos - 1\r\n            ? valids[pos - 1] &&\r\n              valids[pos - 1].match.static === true &&\r\n              valids[pos - 1]\r\n            : valids[pos - 1],\r\n        nextMatch =\r\n          selection.end > pos + 1\r\n            ? valids[pos + 1] &&\r\n              valids[pos + 1].match.static === true &&\r\n              valids[pos + 1]\r\n            : valids[pos + 1];\r\n      return prevMatch && nextMatch;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  let offset = 0,\r\n    begin = pos.begin !== undefined ? pos.begin : pos,\r\n    end = pos.end !== undefined ? pos.end : pos,\r\n    valid = true;\r\n  if (pos.begin > pos.end) {\r\n    begin = pos.end;\r\n    end = pos.begin;\r\n  }\r\n\r\n  validatedPos = validatedPos !== undefined ? validatedPos : begin;\r\n  if (\r\n    fromIsValid === undefined &&\r\n    (begin !== end ||\r\n      (opts.insertMode && maskset.validPositions[validatedPos] !== undefined) ||\r\n      validTest === undefined ||\r\n      validTest.match.optionalQuantifier ||\r\n      validTest.match.optionality)\r\n  ) {\r\n    // reposition & revalidate others\r\n    let positionsClone = $.extend(true, [], maskset.validPositions),\r\n      lvp = getLastValidPosition.call(inputmask, undefined, true),\r\n      i;\r\n    maskset.p = begin; // needed for alternated position after overtype selection\r\n\r\n    const clearpos = isSelection.call(inputmask, pos) ? begin : validatedPos;\r\n    for (i = lvp; i >= clearpos; i--) {\r\n      maskset.validPositions.splice(i, 1);\r\n      if (validTest === undefined) delete maskset.tests[i + 1];\r\n    }\r\n\r\n    let j = validatedPos,\r\n      posMatch = j,\r\n      t,\r\n      canMatch,\r\n      test;\r\n\r\n    if (validTest) {\r\n      maskset.validPositions[validatedPos] = $.extend(true, {}, validTest);\r\n      posMatch++;\r\n      j++;\r\n    }\r\n\r\n    if (positionsClone[end] == undefined && maskset.jitOffset[end]) {\r\n      end += maskset.jitOffset[end] + 1;\r\n    }\r\n    for (i = validTest ? end : end - 1; i <= lvp; i++) {\r\n      if (\r\n        (t = positionsClone[i]) !== undefined &&\r\n        t.generatedInput !== true &&\r\n        (i >= end ||\r\n          (i >= begin &&\r\n            IsEnclosedStatic(i, positionsClone, {\r\n              begin,\r\n              end\r\n            })))\r\n      ) {\r\n        while (\r\n          ((test = getTest.call(inputmask, posMatch)), test.match.def !== \"\")\r\n        ) {\r\n          // loop needed to match further positions\r\n          if (\r\n            (canMatch = positionCanMatchDefinition.call(\r\n              inputmask,\r\n              posMatch,\r\n              t,\r\n              opts\r\n            )) !== false ||\r\n            t.match.def === \"+\"\r\n          ) {\r\n            // validated match //we still need some hackery for the + validator (numeric alias)\r\n            if (t.match.def === \"+\") getBuffer.call(inputmask, true);\r\n            const result = isValid.call(\r\n              inputmask,\r\n              posMatch,\r\n              t.input,\r\n              t.match.def !== \"+\",\r\n              /* t.match.def !== \"+\" */ true\r\n            );\r\n            valid = result !== false;\r\n            j = (result.pos || posMatch) + 1;\r\n            if (!valid && canMatch) break;\r\n          } else {\r\n            valid = false;\r\n          }\r\n          if (valid) {\r\n            if (validTest === undefined && t.match.static && i === pos.begin)\r\n              offset++;\r\n            break;\r\n          }\r\n          if (\r\n            (!valid && getBuffer.call(inputmask), posMatch > maskset.maskLength)\r\n          ) {\r\n            break;\r\n          }\r\n          posMatch++;\r\n        }\r\n        if (getTest.call(inputmask, posMatch).match.def == \"\") {\r\n          valid = false;\r\n        }\r\n        // restore position\r\n        posMatch = j;\r\n      }\r\n      if (!valid) break;\r\n    }\r\n    if (!valid) {\r\n      maskset.validPositions = $.extend(true, [], positionsClone);\r\n      resetMaskSet.call(inputmask, true);\r\n      return false;\r\n    }\r\n  } else if (\r\n    validTest &&\r\n    getTest.call(inputmask, validatedPos).match.cd === validTest.match.cd\r\n  ) {\r\n    maskset.validPositions[validatedPos] = $.extend(true, {}, validTest);\r\n  }\r\n\r\n  resetMaskSet.call(inputmask, true);\r\n  return offset;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import \"./lib/polyfills/Object.getPrototypeOf\";\r\nimport \"./lib/polyfills/Array.includes\";\r\nimport \"./lib/polyfills/Object.entries\";\r\nimport \"./lib/polyfills/String.includes\";\r\n\r\nimport \"./lib/extensions/inputmask.extensions\";\r\nimport \"./lib/extensions/inputmask.date.extensions\";\r\nimport \"./lib/extensions/inputmask.numeric.extensions\";\r\nimport \"./lib/inputmaskElement\";\r\nimport Inputmask from \"./lib/inputmask\";\r\n\r\nexport default Inputmask;\r\n"],"names":["_maxTestPos","placeholder","optionalmarker","quantifiermarker","groupmarker","alternatormarker","escapeChar","mask","regex","oncomplete","onincomplete","oncleared","repeat","greedy","autoUnmask","removeMaskOnSubmit","clearMaskOnLostFocus","insertMode","insertModeVisual","clearIncomplete","alias","onKeyDown","onBeforeMask","onBeforePaste","pastedValue","opts","call","onBeforeWrite","onUnMask","showMaskOnFocus","showMaskOnHover","onKeyValidation","skipOptionalPartCharacter","numericInput","rightAlign","undoOnEscape","radixPoint","_radixDance","groupSeparator","keepStatic","positionCaretOnTab","tabThrough","supportsInputType","isComplete","preValidation","postValidation","staticDefinitionSymbol","undefined","jitMasking","nullable","inputEventOnly","noValuePatching","positionCaretOnClick","casing","inputmode","importDataAttributes","shiftPositions","usePrototypeDefinitions","validationEventTimeOut","substitutes","validator","definitionSymbol","a","_default","owner","key","value","__data","_window","_interopRequireDefault","require","_extend","_inputmask","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","t","toString","slice","constructor","name","Array","from","test","length","n","l","Symbol","iterator","i","u","f","o","next","Object","done","push","isArray","__esModule","document","window","isValidElement","elem","Element","Evnt","exports","Event","CustomEvent","createEvent","event","params","bubbles","cancelable","composed","detail","evt","initCustomEvent","prototype","on","events","handler","addEvent","ev","namespace","addEventListener","attachEvent","concat","eventRegistry","split","forEach","_event$split","_event$split2","_event$split2$","off","removeEvent","removeEventListener","detachEvent","nmsp","splice","indexOf","resolveNamespace","evts","hndx","hndL","evNdx","_event$split3","_event$split4","_ref","ev1","handler1","namespace1","trigger","_arguments","arguments","_events","type","endx","nsEvent","evnt","inputType","InputEvent","extend","dispatchEvent","createEventObject","eventType","fireEvent","DependencyLib","registry","handlers","values","flat","apply","options","src","copy","copyIsArray","clone","target","deep","_typeof","_data","nodeName","querySelector","data","ua","navigator","userAgent","ie","mobile","userAgentData","maxTouchPoints","iphone","escapeRegexRegex","RegExp","join","str","replace","_environment","_inputHandling","_keycode","_positioning","_validation","_validationTests","_regeneratorRuntime","hasOwnProperty","defineProperty","c","asyncIterator","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","stop","rval","handle","complete","finish","_catch","delegateYield","_createForOfIteratorHelper","_n","F","asyncGeneratorStep","_asyncToGenerator","_next","_throw","EventHandlers","keyEvent","checkval","writeOut","strict","ndx","inputmask","$","dependencyLib","maskset","input","$input","pos","caret","kdResult","getBuffer","Backspace","Delete","BACKSPACE_SAFARI","ctrlKey","x","preventDefault","handleRemove","writeBuffer","_valueGet","End","PageDown","caretPos","seekNext","getLastValidPosition","shiftKey","begin","Home","PageUp","Escape","z","altKey","checkVal","undoValue","Insert","userOptions","isSelection","Tab","end","seekPrevious","getTest","match","maskLength","ArrowRight","setTimeout","ArrowLeft","translatePosition","isRTL","keyEventHook","isComposing","Process","Unidentified","ignorable","tagName","toLowerCase","Enter","keypressEvent","el","metaKey","forwardPosition","writeOutBuffer","valResult","isValid","resetMaskSet","buffer","pasteEvent","_pasteEvent","_callee","handlePaste","inputValue","_callee$","_context","_handlePaste","valueBeforeCaret","substr","valueAfterCaret","getBufferTemplate","_iterator","_step","shift","err","pasteValue","skipInputEvent","clipboardData","getData","_x","inputFallBackEvent","analyseChanges","frontPart","backPart","frontBufferPart","backBufferPart","fpl","bpl","bl","action","marker","unshift","newBuffer","oldBuffer","getPlaceholder","isMask","changes","shadowRoot","ownerDocument","activeElement","focus","skipNextInsert","entry","keypress","$el","keydown","applyInputValue","setValueEvent","focusEvent","nptValue","mouseEnter","clickEvent","invalidEvent","validationEvent","mouseleaveEvent","HandleNativePlaceholder","originalPlaceholder","tabbed","clicked","newCaretPosition","determineNewCaretPosition","cutEvent","clipData","clipDataText","clipboard","writeText","setData","blurEvent","clearOptionalTail","validPositions","mouseenterEvent","bufferTemplate","submitEvent","_valueSet","unmaskedvalue","resetEvent","refreshValue","EventRuler","eventName","eventHandler","originalEvent","that","args","imOpts","Inputmask","includes","disabled","readOnly","blur","returnVal","stopPropagation","bind","form","evArr","_escapeRegex","_classCallCheck","_defineProperties","_toPropertyKey","_createClass","_toPrimitive","toPrimitive","String","Number","DateObject","format","_date","Date","initDateObject","get","getTokenizer","lastIndex","exec","dynMatches","fcode","tokenMatch","getTokenMatch","index","nextMatch","targetSymbol","targetMatchLength","formatCode","setValue","dateObj","targetProp","dateOperation","pad","i18n","monthNames","findIndex","item","datavalue","parseInt","day","month","year","setFullYear","useDateObject","reInit","date","currentYear","getFullYear","setDate","getDate","dd","ddd","dddd","m","val","mval","setMonth","getMonth","mm","mmm","mmmm","yy","centuryPart","yyyy","setHours","getHours","hh","hx","H","HH","Hx","M","setMinutes","getMinutes","MM","setSeconds","getSeconds","ss","setMilliseconds","getMilliseconds","L","setAMPM","getAMPM","tt","T","TT","Z","getTimeZoneAbbreviated","S","formatAlias","isoDate","isoTime","isoDateTime","isoUtcDateTime","hours","_date$toString$match","tz","toUpperCase","map","_ref2","first","formatcode","tokenizer","tokens","dyntokens","dynToken","prefillYear","dateParts","currentResult","rawyear","crrntyear","enteredPart","currentYearPart","currentYearNextPart","entryCurrentYear","max","getTime","insert","isValidDate","rawday","isFinite","rawmonth","targetMatch","targetMatchIndex","remove","isDateInRange","result","fromCheckval","min","inputFormat","setFn","current","minVal","maxVal","curVal","forceCurrentValue","parse","dateObjValue","raw","placeHolder","escapeRegex","getFn","len","right","analyseMask","importDate","masksetHint","tests","calcPos","matchLength","extendAliases","datetime","ordinalSuffix","displayFormat","outputFormat","fuzzy","refreshFromBuffer","start","part","_buffer","getMaskTemplate","maskedValue","unmaskedValue","nativeDef","posBefore","def","fromCharCode","keyCode","Space","initialValue","dayNames","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","extendDefinitions","A","ipValidatorRegex","ipValidator","chrs","cssunit","url","ip","definitions","j","k","email","separator","quantifier","emailMask","mac","vin","V","ssn","bffr","autoEscape","txt","escapedTxt","alignDigits","digits","force","digitsOptional","radixPosition","negationBack","negationSymbol","back","findValidator","symbol","posNdx","tstNdx","ndxl","findValid","ret","vpl","tst","parseMinMaxOptions","parseFloat","NaN","MIN_VALUE","MAX_VALUE","genMask","decimalDef","radixPointDef","__financeInput","generated","altMask","prefix","_mask","dq","suffix","substituteRadixPoint","handleRadixDance","radixPos","decimalValidator","checkForLeadingZeroes","numberMatches","front","number","leadingzeroes","numeric","enforceDigitsOnBlur","allowMinus","SetMaxOnOverflow","step","unmaskAsNumber","roundingFN","Math","round","shortcuts","stripLeadingZeroes","initPos","isNegative","fromIsValid","radixValidatorPos","generatedInput","rewritePosition","__valueGet","fromAlternate","unmasked","processValue","_initialValue","valueParts","integerPart","decimalPart","forceDigits","digitsFactor","pow","toFixed","substring","numberValue","stripBuffer","stripRadix","position","caretNdx","lastIndexOf","offset","nmbrMtchs","radixNDX","location","pattern","__valueSet","ArrowUp","ArrowDown","restoreCaretPos","currency","decimal","integer","percentage","indianns","canUseDOM","createElement","_eventhandlers","initialEvent","template","lmnt","nptvl","initiatingEvent","charCodes","initialNdx","isTemplateMatch","targetTemplate","charCodeNdx","nextPos","staticMatches","prevCaretPos","charCode","lvp","alternation","sndx","validPos","nextValid","nextSndx","npt","removeAttribute","umValue","vps","pndx","metadata","bufferValue","triggerEvents","refresh","writeBufferHook","nptVal","_defaults","_definitions","_eventruler","_maskLexer","dataKey","internal","defaults","noMasksCache","resolveAlias","maxLength","hasAlternator","dataAttribute","aliases","masksCache","elems","getElementById","querySelectorAll","scopedOpts","importAttributeOptions","generateMaskSet","option","noremask","valueBuffer","cv","valueProperty","getOwnPropertyDescriptor","set","__lookupGetter__","__defineGetter__","__defineSetter__","getemptymask","hasMaskedValue","getmetadata","maskTarget","mtdt","rl","determineLastRequiredPosition","lmib","formattedValue","aliasStr","aliasDefinition","importOption","optionData","attrOption","getAttribute","attrOptions","dataoptions","JSON","dir","style","textAlign","extendDefaults","definition","unmask","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","_inherits","_setPrototypeOf","_wrapNativeSuper","Map","_isNativeFunction","has","Wrapper","_construct","Boolean","valueOf","Function","head","attachShadow","customElements","InputmaskElement","_HTMLElement","_this","attributeNames","getAttributeNames","shadow","mode","appendChild","attr","setAttribute","im","attributeChangedCallback","attrName","oldVal","newVal","HTMLElement","ignorables","Alt","AltGraph","CapsLock","Control","ContextMenu","Dead","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NumLock","Pause","PrintScreen","Shift","ScrollLock","_objectSpread","Meta_LEFT","Meta_RIGHT","keyCodeRev","entries","reduce","acc","_ref3","_ref4","toKey","toKeyCode","_inputmask2","_masktoken","nocache","ms","preProcessMask","repeatStart","msk","optionalRegex","maskMatches","_m$split","_m$split2","p1","p2","generateMask","regexMask","masksetDefinition","maskdefKey","stringify","maskToken","excludes","jitOffset","regexTokenizer","escaped","currentToken","MaskToken","openenings","maskTokens","openingToken","currentOpeningToken","alternator","lastMatch","closeRegexGroup","insertTestDefinition","mtoken","element","matches","prevMatch","flag","fn","optionality","newBlockMarker","maskdef","optional","defOptionality","verifyGroupMarker","token","nextToken","isQuantifier","isGroup","openGroup","defaultCase","isAlternator","mndx","reverseTokens","reverseStatic","st","intMatch","qt","groupify","groupToken","closeGroup","alternatorGroup","groupQuantifier","altRegexGroup","mqj","mq","mq0","mq1","mqJit","jit","subToken","isElementTypeSupported","patchValueProperty","valueGet","valueSet","patchValhook","valHooks","inputmaskpatch","valhookGet","valhookSet","getter","setter","installNativeValueSetFallback","textContent","__lookupSetter__","overruleRTL","elementType","isSupported","isContentEditable","inputMode","autocomplete","applyMaskHook","isOptional","searchElement","fromIndex","abs","isEnumerable","propertyIsEnumerable","O","object","search","notranslate","isDelete","range","scrollCalc","defaultView","getComputedStyle","currentStyle","fontSize","scrollLeft","scrollWidth","setSelectionRange","getSelection","createRange","firstChild","textNode","createTextNode","setStart","setEnd","collapse","sel","removeAllRanges","addRange","createTextRange","moveEnd","moveStart","select","caretHook","selectionStart","selectionEnd","getRangeAt","commonAncestorContainer","parentNode","startOffset","endOffset","selection","duplicate","text","returnDefinition","positions","lvTest","ndxIntlzr","locator","testPos","getTestTemplate","lvTestAlt","optionalQuantifier","checkAlternationMatch","getTests","selectedCaret","clickPosition","lvclickPosition","lastPosition","doRadixFocus","clickPos","vp","newPos","noCache","closestTo","before","after","valids","psNdx","testTemplate","determineTestTemplate","testPlaceHolder","soft","newBlock","getLocator","align","mloc","getDecisionTaker","decisionTaker","returnPL","staticAlternations","prevTest","baseOnInput","minimalPos","includeMode","noJit","maskTemplate","jitRenderStatic","tstPs","lenghtOffset","optionalityLevel","determineOptionalityLevel","altTest","targetLocator","tstLocator","closest","bestMatch","distance","unMatchedAlternationStopped","filter","differentOptionalLevels","isSubsetOf","source","expand","expanded","charCodeAt","ndxInitializer","insertStop","latestMatch","cacheDependency","unMatchedAlternation","resolveTestFromToken","loopNdx","quantifierRecurse","handleMatch","isFirstMatch","tokenGroup","firstMatch","every","resolveNdxInitializer","alternateNdx","targetAlternation","indexPos","ndxPos","bestMatchAltIndex","staticCanMatchDefinition","setMergeLocators","altMatch","mergeLoc","altNdx","locNdx","alternationNdx","shouldMerge","isSameLevel","handleGroup","handleOptional","optionalToken","mtchsNdx","mtch","handleAlternator","isUnmatchedAlternation","alternateToken","matchesLength","matchesNewLength","alndx","malternateMatches","maltMatches","currentMatches","loopNdxCnt","altIndex","currentPos","ndxInitializerClone","altIndexArr","amndx","altIndexArrClone","exl","excludeSet","ndx1","dropMatch","ndx2","altMatch2","handleQuantifier","breakloop","qndx","IsMatchOf","cd","tndx","isMatch","mergeLocators","previousPos","mtndx","alternate","maskPos","rAltPos","validPsClone","tstClone","lastAlt","isValidRslt","returnRslt","altPos","prevAltPos","decisionPos","lAltPos","validInputs","resultPos","altArr1","altArr2","na","altArrC","naArr","naNdx","pend","revalidateMask","lrp","aml","posObj","insertModeOffset","validateOnly","processCommandObject","commandObj","sort","b","_isValid","rslt","validatedPos","positionsClone","currentPosValid","skip","nPos","snPos","trackbackPositions","postResult","endResult","positionCanMatchDefinition","testDefinition","valid","originalPos","fillOnly","ps","np","cvpInput","validTest","IsEnclosedStatic","posMatch","clearpos","canMatch"],"sourceRoot":""}